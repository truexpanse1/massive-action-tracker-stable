var Bj=Object.defineProperty;var qj=(t,e,n)=>e in t?Bj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Om=(t,e,n)=>qj(t,typeof e!="symbol"?e+"":e,n);function XN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Dm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function $j(){if(US)return je;US=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function k(j,Y,oe){this.props=j,this.context=Y,this.refs=E,this.updater=oe||S}k.prototype.isReactComponent={},k.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=k.prototype;function N(j,Y,oe){this.props=j,this.context=Y,this.refs=E,this.updater=oe||S}var I=N.prototype=new P;I.constructor=N,T(I,k.prototype),I.isPureReactComponent=!0;var R=Array.isArray;function O(){}var D={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function $(j,Y,oe){var W=oe.ref;return{$$typeof:t,type:j,key:Y,ref:W!==void 0?W:null,props:oe}}function F(j,Y){return $(j.type,Y,j.props)}function G(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function L(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return Y[oe]})}var H=/\/+/g;function ce(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):Y.toString(36)}function he(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(Y){j.status==="pending"&&(j.status="fulfilled",j.value=Y)},function(Y){j.status==="pending"&&(j.status="rejected",j.reason=Y)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,Y,oe,W,fe){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var me=!1;if(j===null)me=!0;else switch(pe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(j.$$typeof){case t:case e:me=!0;break;case h:return me=j._init,z(me(j._payload),Y,oe,W,fe)}}if(me)return fe=fe(j),me=W===""?"."+ce(j,0):W,R(fe)?(oe="",me!=null&&(oe=me.replace(H,"$&/")+"/"),z(fe,Y,oe,"",function(we){return we})):fe!=null&&(G(fe)&&(fe=F(fe,oe+(fe.key==null||j&&j.key===fe.key?"":(""+fe.key).replace(H,"$&/")+"/")+me)),Y.push(fe)),1;me=0;var De=W===""?".":W+":";if(R(j))for(var te=0;te<j.length;te++)W=j[te],pe=De+ce(W,te),me+=z(W,Y,oe,pe,fe);else if(te=w(j),typeof te=="function")for(j=te.call(j),te=0;!(W=j.next()).done;)W=W.value,pe=De+ce(W,te++),me+=z(W,Y,oe,pe,fe);else if(pe==="object"){if(typeof j.then=="function")return z(he(j),Y,oe,W,fe);throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(j,Y,oe){if(j==null)return j;var W=[],fe=0;return z(j,W,"","",function(pe){return Y.call(oe,pe,fe++)}),W}function de(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var K=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ue={map:Z,forEach:function(j,Y,oe){Z(j,function(){Y.apply(this,arguments)},oe)},count:function(j){var Y=0;return Z(j,function(){Y++}),Y},toArray:function(j){return Z(j,function(Y){return Y})||[]},only:function(j){if(!G(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return je.Activity=m,je.Children=ue,je.Component=k,je.Fragment=n,je.Profiler=i,je.PureComponent=N,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,je.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},je.cache=function(j){return function(){return j.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(j,Y,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var W=T({},j.props),fe=j.key;if(Y!=null)for(pe in Y.key!==void 0&&(fe=""+Y.key),Y)!q.call(Y,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Y.ref===void 0||(W[pe]=Y[pe]);var pe=arguments.length-2;if(pe===1)W.children=oe;else if(1<pe){for(var me=Array(pe),De=0;De<pe;De++)me[De]=arguments[De+2];W.children=me}return $(j.type,fe,W)},je.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},je.createElement=function(j,Y,oe){var W,fe={},pe=null;if(Y!=null)for(W in Y.key!==void 0&&(pe=""+Y.key),Y)q.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(fe[W]=Y[W]);var me=arguments.length-2;if(me===1)fe.children=oe;else if(1<me){for(var De=Array(me),te=0;te<me;te++)De[te]=arguments[te+2];fe.children=De}if(j&&j.defaultProps)for(W in me=j.defaultProps,me)fe[W]===void 0&&(fe[W]=me[W]);return $(j,pe,fe)},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:u,render:j}},je.isValidElement=G,je.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:de}},je.memo=function(j,Y){return{$$typeof:f,type:j,compare:Y===void 0?null:Y}},je.startTransition=function(j){var Y=D.T,oe={};D.T=oe;try{var W=j(),fe=D.S;fe!==null&&fe(oe,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(O,K)}catch(pe){K(pe)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),D.T=Y}},je.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},je.use=function(j){return D.H.use(j)},je.useActionState=function(j,Y,oe){return D.H.useActionState(j,Y,oe)},je.useCallback=function(j,Y){return D.H.useCallback(j,Y)},je.useContext=function(j){return D.H.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j,Y){return D.H.useDeferredValue(j,Y)},je.useEffect=function(j,Y){return D.H.useEffect(j,Y)},je.useEffectEvent=function(j){return D.H.useEffectEvent(j)},je.useId=function(){return D.H.useId()},je.useImperativeHandle=function(j,Y,oe){return D.H.useImperativeHandle(j,Y,oe)},je.useInsertionEffect=function(j,Y){return D.H.useInsertionEffect(j,Y)},je.useLayoutEffect=function(j,Y){return D.H.useLayoutEffect(j,Y)},je.useMemo=function(j,Y){return D.H.useMemo(j,Y)},je.useOptimistic=function(j,Y){return D.H.useOptimistic(j,Y)},je.useReducer=function(j,Y,oe){return D.H.useReducer(j,Y,oe)},je.useRef=function(j){return D.H.useRef(j)},je.useState=function(j){return D.H.useState(j)},je.useSyncExternalStore=function(j,Y,oe){return D.H.useSyncExternalStore(j,Y,oe)},je.useTransition=function(){return D.H.useTransition()},je.version="19.2.0",je}var BS;function Is(){return BS||(BS=1,Dm.exports=$j()),Dm.exports}var A=Is();const Zl=Nr(A),Hj=XN({__proto__:null,default:Zl},[A]);var jm={exports:{}},ql={},Lm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function Gj(){return qS||(qS=1,(function(t){function e(z,Z){var de=z.length;z.push(Z);e:for(;0<de;){var K=de-1>>>1,ue=z[K];if(0<i(ue,Z))z[K]=Z,z[de]=ue,de=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],de=z.pop();if(de!==Z){z[0]=de;e:for(var K=0,ue=z.length,j=ue>>>1;K<j;){var Y=2*(K+1)-1,oe=z[Y],W=Y+1,fe=z[W];if(0>i(oe,de))W<ue&&0>i(fe,oe)?(z[K]=fe,z[W]=de,K=W):(z[K]=oe,z[Y]=de,K=Y);else if(W<ue&&0>i(fe,de))z[K]=fe,z[W]=de,K=W;else break e}}return Z}function i(z,Z){var de=z.sortIndex-Z.sortIndex;return de!==0?de:z.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,v=3,w=!1,S=!1,T=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(z){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=z)r(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(f)}}function R(z){if(T=!1,I(z),!S)if(n(d)!==null)S=!0,O||(O=!0,L());else{var Z=n(f);Z!==null&&he(R,Z.startTime-z)}}var O=!1,D=-1,q=5,$=-1;function F(){return E?!0:!(t.unstable_now()-$<q)}function G(){if(E=!1,O){var z=t.unstable_now();$=z;var Z=!0;try{e:{S=!1,T&&(T=!1,P(D),D=-1),w=!0;var de=v;try{t:{for(I(z),m=n(d);m!==null&&!(m.expirationTime>z&&F());){var K=m.callback;if(typeof K=="function"){m.callback=null,v=m.priorityLevel;var ue=K(m.expirationTime<=z);if(z=t.unstable_now(),typeof ue=="function"){m.callback=ue,I(z),Z=!0;break t}m===n(d)&&r(d),I(z)}else r(d);m=n(d)}if(m!==null)Z=!0;else{var j=n(f);j!==null&&he(R,j.startTime-z),Z=!1}}break e}finally{m=null,v=de,w=!1}Z=void 0}}finally{Z?L():O=!1}}}var L;if(typeof N=="function")L=function(){N(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ce=H.port2;H.port1.onmessage=G,L=function(){ce.postMessage(null)}}else L=function(){k(G,0)};function he(z,Z){D=k(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var de=v;v=Z;try{return z()}finally{v=de}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var de=v;v=z;try{return Z()}finally{v=de}},t.unstable_scheduleCallback=function(z,Z,de){var K=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?K+de:K):de=K,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=de+ue,z={id:h++,callback:Z,priorityLevel:z,startTime:de,expirationTime:ue,sortIndex:-1},de>K?(z.sortIndex=de,e(f,z),n(d)===null&&z===n(f)&&(T?(P(D),D=-1):T=!0,he(R,de-K))):(z.sortIndex=ue,e(d,z),S||w||(S=!0,O||(O=!0,L()))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var Z=v;return function(){var de=v;v=Z;try{return z.apply(this,arguments)}finally{v=de}}}})(Um)),Um}var zS;function Fj(){return zS||(zS=1,Lm.exports=Gj()),Lm.exports}var Bm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function Vj(){if($S)return un;$S=1;var t=Is();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,h)},un.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},un.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},un.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},un.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},un.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},un.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},un.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},un.requestFormReset=function(d){r.d.r(d)},un.unstable_batchedUpdates=function(d,f){return d(f)},un.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},un.useFormStatus=function(){return l.H.useHostTransitionStatus()},un.version="19.2.0",un}var HS;function QN(){if(HS)return Bm.exports;HS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=Vj(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function Kj(){if(GS)return ql;GS=1;var t=Fj(),e=Is(),n=QN();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var x=c.return;if(x===null)break;var _=x.alternate;if(_===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===c)return d(x),a;if(_===p)return d(x),s;_=_.sibling}throw Error(r(188))}if(c.return!==p.return)c=x,p=_;else{for(var C=!1,M=x.child;M;){if(M===c){C=!0,c=x,p=_;break}if(M===p){C=!0,p=x,c=_;break}M=M.sibling}if(!C){for(M=_.child;M;){if(M===c){C=!0,c=_,p=x;break}if(M===p){C=!0,p=_,c=x;break}M=M.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case k:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case I:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:ce(a.type)||"Memo";case q:s=a._payload,a=a._init;try{return ce(a(s))}catch{}}return null}var he=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},K=[],ue=-1;function j(a){return{current:a}}function Y(a){0>ue||(a.current=K[ue],K[ue]=null,ue--)}function oe(a,s){ue++,K[ue]=a.current,a.current=s}var W=j(null),fe=j(null),pe=j(null),me=j(null);function De(a,s){switch(oe(pe,s),oe(fe,a),oe(W,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?sS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=sS(s),a=lS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(W),oe(W,a)}function te(){Y(W),Y(fe),Y(pe)}function we(a){a.memoizedState!==null&&oe(me,a);var s=W.current,c=lS(s,a.type);s!==c&&(oe(fe,a),oe(W,c))}function Ne(a){fe.current===a&&(Y(W),Y(fe)),me.current===a&&(Y(me),jl._currentValue=de)}var ie,Be;function ve(a){if(ie===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ie=s&&s[1]||"",Be=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+Be}var Oe=!1;function Fe(a,s){if(!a||Oe)return"";Oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var Q=ee}Reflect.construct(a,[],le)}else{try{le.call()}catch(ee){Q=ee}a.call(le.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),C=_[0],M=_[1];if(C&&M){var U=C.split(`
`),X=M.split(`
`);for(x=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;x<X.length&&!X[x].includes("DetermineComponentFrameRoot");)x++;if(p===U.length||x===X.length)for(p=U.length-1,x=X.length-1;1<=p&&0<=x&&U[p]!==X[x];)x--;for(;1<=p&&0<=x;p--,x--)if(U[p]!==X[x]){if(p!==1||x!==1)do if(p--,x--,0>x||U[p]!==X[x]){var re=`
`+U[p].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=p&&0<=x);break}}}finally{Oe=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ve(c):""}function se(a,s){switch(a.tag){case 26:case 27:case 5:return ve(a.type);case 16:return ve("Lazy");case 13:return a.child!==s&&s!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Fe(a.type,!1);case 11:return Fe(a.type.render,!1);case 1:return Fe(a.type,!0);case 31:return ve("Activity");default:return""}}function Ee(a){try{var s="",c=null;do s+=se(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ge=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Ve=t.unstable_cancelCallback,St=t.unstable_shouldYield,Hr=t.unstable_requestPaint,Lt=t.unstable_now,va=t.unstable_getCurrentPriorityLevel,po=t.unstable_ImmediatePriority,mo=t.unstable_UserBlockingPriority,Ii=t.unstable_NormalPriority,Ks=t.unstable_LowPriority,go=t.unstable_IdlePriority,Ys=t.log,Ke=t.unstable_setDisableYieldValue,Gr=null,Pn=null;function Mi(a){if(typeof Ys=="function"&&Ke(a),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(Gr,a)}catch{}}var Rn=Math.clz32?Math.clz32:TD,SD=Math.log,ED=Math.LN2;function TD(a){return a>>>=0,a===0?32:31-(SD(a)/ED|0)|0}var Uu=256,Bu=262144,qu=4194304;function ba(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function zu(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var x=0,_=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var M=p&134217727;return M!==0?(p=M&~_,p!==0?x=ba(p):(C&=M,C!==0?x=ba(C):c||(c=M&~a,c!==0&&(x=ba(c))))):(M=p&~_,M!==0?x=ba(M):C!==0?x=ba(C):c||(c=p&~a,c!==0&&(x=ba(c)))),x===0?0:s!==0&&s!==x&&(s&_)===0&&(_=x&-x,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:x}function Ws(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function AD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(){var a=qu;return qu<<=1,(qu&62914560)===0&&(qu=4194304),a}function _h(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Js(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function CD(a,s,c,p,x,_){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,U=a.expirationTimes,X=a.hiddenUpdates;for(c=C&~c;0<c;){var re=31-Rn(c),le=1<<re;M[re]=0,U[re]=-1;var Q=X[re];if(Q!==null)for(X[re]=null,re=0;re<Q.length;re++){var ee=Q[re];ee!==null&&(ee.lane&=-536870913)}c&=~le}p!==0&&H0(a,p,0),_!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=_&~(C&~s))}function H0(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Rn(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function G0(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-Rn(c),x=1<<p;x&s|a[p]&s&&(a[p]|=s),c&=~x}}function F0(a,s){var c=s&-s;return c=(c&42)!==0?1:Sh(c),(c&(a.suspendedLanes|s))!==0?0:c}function Sh(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Eh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function V0(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:RS(a.type))}function K0(a,s){var c=Z.p;try{return Z.p=a,s()}finally{Z.p=c}}var Oi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Oi,xn="__reactProps$"+Oi,yo="__reactContainer$"+Oi,Th="__reactEvents$"+Oi,ND="__reactListeners$"+Oi,kD="__reactHandles$"+Oi,Y0="__reactResources$"+Oi,Xs="__reactMarker$"+Oi;function Ah(a){delete a[Qt],delete a[xn],delete a[Th],delete a[ND],delete a[kD]}function vo(a){var s=a[Qt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[yo]||c[Qt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=mS(a);a!==null;){if(c=a[Qt])return c;a=mS(a)}return s}a=c,c=a.parentNode}return null}function bo(a){if(a=a[Qt]||a[yo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Qs(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function xo(a){var s=a[Y0];return s||(s=a[Y0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(a){a[Xs]=!0}var W0=new Set,J0={};function xa(a,s){wo(a,s),wo(a+"Capture",s)}function wo(a,s){for(J0[a]=s,a=0;a<s.length;a++)W0.add(s[a])}var PD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X0={},Q0={};function RD(a){return ge.call(Q0,a)?!0:ge.call(X0,a)?!1:PD.test(a)?Q0[a]=!0:(X0[a]=!0,!1)}function $u(a,s,c){if(RD(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Hu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Fr(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Z0(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ID(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,_=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return x.call(this)},set:function(C){c=""+C,_.call(this,C)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ch(a){if(!a._valueTracker){var s=Z0(a)?"checked":"value";a._valueTracker=ID(a,s,""+a[s])}}function ex(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=Z0(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Gu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var MD=/[\n"\\]/g;function Jn(a){return a.replace(MD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nh(a,s,c,p,x,_,C,M){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),s!=null?C==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Wn(s)):a.value!==""+Wn(s)&&(a.value=""+Wn(s)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),s!=null?kh(a,C,Wn(s)):c!=null?kh(a,C,Wn(c)):p!=null&&a.removeAttribute("value"),x==null&&_!=null&&(a.defaultChecked=!!_),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Wn(M):a.removeAttribute("name")}function tx(a,s,c,p,x,_,C,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Ch(a);return}c=c!=null?""+Wn(c):"",s=s!=null?""+Wn(s):c,M||s===a.value||(a.value=s),a.defaultValue=s}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=M?a.checked:!!p,a.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),Ch(a)}function kh(a,s,c){s==="number"&&Gu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function _o(a,s,c,p){if(a=a.options,s){s={};for(var x=0;x<c.length;x++)s["$"+c[x]]=!0;for(c=0;c<a.length;c++)x=s.hasOwnProperty("$"+a[c].value),a[c].selected!==x&&(a[c].selected=x),x&&p&&(a[c].defaultSelected=!0)}else{for(c=""+Wn(c),s=null,x=0;x<a.length;x++){if(a[x].value===c){a[x].selected=!0,p&&(a[x].defaultSelected=!0);return}s!==null||a[x].disabled||(s=a[x])}s!==null&&(s.selected=!0)}}function nx(a,s,c){if(s!=null&&(s=""+Wn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Wn(c):""}function rx(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(he(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=Wn(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),Ch(a)}function So(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var OD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ix(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||OD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function ax(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var x in s)p=s[x],s.hasOwnProperty(x)&&c[x]!==p&&ix(a,x,p)}else for(var _ in s)s.hasOwnProperty(_)&&ix(a,_,s[_])}function Ph(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fu(a){return jD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Vr(){}var Rh=null;function Ih(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Eo=null,To=null;function ox(a){var s=bo(a);if(s&&(a=s.stateNode)){var c=a[xn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Nh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Jn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var x=p[xn]||null;if(!x)throw Error(r(90));Nh(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&ex(p)}break e;case"textarea":nx(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&_o(a,!!c.multiple,s,!1)}}}var Mh=!1;function sx(a,s,c){if(Mh)return a(s,c);Mh=!0;try{var p=a(s);return p}finally{if(Mh=!1,(Eo!==null||To!==null)&&(Ic(),Eo&&(s=Eo,a=To,To=Eo=null,ox(s),a)))for(s=0;s<a.length;s++)ox(a[s])}}function Zs(a,s){var c=a.stateNode;if(c===null)return null;var p=c[xn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(Kr)try{var el={};Object.defineProperty(el,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Oh=!1}var Di=null,Dh=null,Vu=null;function lx(){if(Vu)return Vu;var a,s=Dh,c=s.length,p,x="value"in Di?Di.value:Di.textContent,_=x.length;for(a=0;a<c&&s[a]===x[a];a++);var C=c-a;for(p=1;p<=C&&s[c-p]===x[_-p];p++);return Vu=x.slice(a,1<p?1-p:void 0)}function Ku(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Yu(){return!0}function ux(){return!1}function wn(a){function s(c,p,x,_,C){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Yu:ux,this.isPropagationStopped=ux,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),s}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=wn(wa),tl=m({},wa,{view:0,detail:0}),LD=wn(tl),jh,Lh,nl,Ju=m({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==nl&&(nl&&a.type==="mousemove"?(jh=a.screenX-nl.screenX,Lh=a.screenY-nl.screenY):Lh=jh=0,nl=a),jh)},movementY:function(a){return"movementY"in a?a.movementY:Lh}}),cx=wn(Ju),UD=m({},Ju,{dataTransfer:0}),BD=wn(UD),qD=m({},tl,{relatedTarget:0}),Uh=wn(qD),zD=m({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=wn(zD),HD=m({},wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),GD=wn(HD),FD=m({},wa,{data:0}),dx=wn(FD),VD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=YD[a])?!!s[a]:!1}function Bh(){return WD}var JD=m({},tl,{key:function(a){if(a.key){var s=VD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ku(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?KD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(a){return a.type==="keypress"?Ku(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ku(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),XD=wn(JD),QD=m({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fx=wn(QD),ZD=m({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),e2=wn(ZD),t2=m({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=wn(t2),r2=m({},Ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),i2=wn(r2),a2=m({},wa,{newState:0,oldState:0}),o2=wn(a2),s2=[9,13,27,32],qh=Kr&&"CompositionEvent"in window,rl=null;Kr&&"documentMode"in document&&(rl=document.documentMode);var l2=Kr&&"TextEvent"in window&&!rl,hx=Kr&&(!qh||rl&&8<rl&&11>=rl),px=" ",mx=!1;function gx(a,s){switch(a){case"keyup":return s2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ao=!1;function u2(a,s){switch(a){case"compositionend":return yx(s);case"keypress":return s.which!==32?null:(mx=!0,px);case"textInput":return a=s.data,a===px&&mx?null:a;default:return null}}function c2(a,s){if(Ao)return a==="compositionend"||!qh&&gx(a,s)?(a=lx(),Vu=Dh=Di=null,Ao=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hx&&s.locale!=="ko"?null:s.data;default:return null}}var d2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vx(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!d2[a.type]:s==="textarea"}function bx(a,s,c,p){Eo?To?To.push(p):To=[p]:Eo=p,s=Bc(s,"onChange"),0<s.length&&(c=new Wu("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var il=null,al=null;function f2(a){tS(a,0)}function Xu(a){var s=Qs(a);if(ex(s))return a}function xx(a,s){if(a==="change")return s}var wx=!1;if(Kr){var zh;if(Kr){var $h="oninput"in document;if(!$h){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),$h=typeof _x.oninput=="function"}zh=$h}else zh=!1;wx=zh&&(!document.documentMode||9<document.documentMode)}function Sx(){il&&(il.detachEvent("onpropertychange",Ex),al=il=null)}function Ex(a){if(a.propertyName==="value"&&Xu(al)){var s=[];bx(s,al,a,Ih(a)),sx(f2,s)}}function h2(a,s,c){a==="focusin"?(Sx(),il=s,al=c,il.attachEvent("onpropertychange",Ex)):a==="focusout"&&Sx()}function p2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xu(al)}function m2(a,s){if(a==="click")return Xu(s)}function g2(a,s){if(a==="input"||a==="change")return Xu(s)}function y2(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var In=typeof Object.is=="function"?Object.is:y2;function ol(a,s){if(In(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!ge.call(s,x)||!In(a[x],s[x]))return!1}return!0}function Tx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ax(a,s){var c=Tx(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Tx(c)}}function Cx(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Cx(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Nx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Gu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Gu(a.document)}return s}function Hh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var v2=Kr&&"documentMode"in document&&11>=document.documentMode,Co=null,Gh=null,sl=null,Fh=!1;function kx(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fh||Co==null||Co!==Gu(p)||(p=Co,"selectionStart"in p&&Hh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),sl&&ol(sl,p)||(sl=p,p=Bc(Gh,"onSelect"),0<p.length&&(s=new Wu("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Co)))}function _a(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var No={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Vh={},Px={};Kr&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Sa(a){if(Vh[a])return Vh[a];if(!No[a])return a;var s=No[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Px)return Vh[a]=s[c];return a}var Rx=Sa("animationend"),Ix=Sa("animationiteration"),Mx=Sa("animationstart"),b2=Sa("transitionrun"),x2=Sa("transitionstart"),w2=Sa("transitioncancel"),Ox=Sa("transitionend"),Dx=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function br(a,s){Dx.set(a,s),xa(s,[a])}var Qu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Xn=[],ko=0,Yh=0;function Zu(){for(var a=ko,s=Yh=ko=0;s<a;){var c=Xn[s];Xn[s++]=null;var p=Xn[s];Xn[s++]=null;var x=Xn[s];Xn[s++]=null;var _=Xn[s];if(Xn[s++]=null,p!==null&&x!==null){var C=p.pending;C===null?x.next=x:(x.next=C.next,C.next=x),p.pending=x}_!==0&&jx(c,x,_)}}function ec(a,s,c,p){Xn[ko++]=a,Xn[ko++]=s,Xn[ko++]=c,Xn[ko++]=p,Yh|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Wh(a,s,c,p){return ec(a,s,c,p),tc(a)}function Ea(a,s){return ec(a,null,null,s),tc(a)}function jx(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var x=!1,_=a.return;_!==null;)_.childLanes|=c,p=_.alternate,p!==null&&(p.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(x=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,x&&s!==null&&(x=31-Rn(c),a=_.hiddenUpdates,p=a[x],p===null?a[x]=[s]:p.push(s),s.lane=c|536870912),_):null}function tc(a){if(50<kl)throw kl=0,im=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Po={};function _2(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(a,s,c,p){return new _2(a,s,c,p)}function Jh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Yr(a,s){var c=a.alternate;return c===null?(c=Mn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Lx(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function nc(a,s,c,p,x,_){var C=0;if(p=a,typeof a=="function")Jh(a)&&(C=1);else if(typeof a=="string")C=Cj(a,c,W.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=Mn(31,c,s,x),a.elementType=$,a.lanes=_,a;case T:return Ta(c.children,x,_,s);case E:C=8,x|=24;break;case k:return a=Mn(12,c,s,x|2),a.elementType=k,a.lanes=_,a;case R:return a=Mn(13,c,s,x),a.elementType=R,a.lanes=_,a;case O:return a=Mn(19,c,s,x),a.elementType=O,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:C=10;break e;case P:C=9;break e;case I:C=11;break e;case D:C=14;break e;case q:C=16,p=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Mn(C,c,s,x),s.elementType=a,s.type=p,s.lanes=_,s}function Ta(a,s,c,p){return a=Mn(7,a,p,s),a.lanes=c,a}function Xh(a,s,c){return a=Mn(6,a,null,s),a.lanes=c,a}function Ux(a){var s=Mn(18,null,null,0);return s.stateNode=a,s}function Qh(a,s,c){return s=Mn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Bx=new WeakMap;function Qn(a,s){if(typeof a=="object"&&a!==null){var c=Bx.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Ee(s)},Bx.set(a,s),s)}return{value:a,source:s,stack:Ee(s)}}var Ro=[],Io=0,rc=null,ll=0,Zn=[],er=0,ji=null,Rr=1,Ir="";function Wr(a,s){Ro[Io++]=ll,Ro[Io++]=rc,rc=a,ll=s}function qx(a,s,c){Zn[er++]=Rr,Zn[er++]=Ir,Zn[er++]=ji,ji=a;var p=Rr;a=Ir;var x=32-Rn(p)-1;p&=~(1<<x),c+=1;var _=32-Rn(s)+x;if(30<_){var C=x-x%5;_=(p&(1<<C)-1).toString(32),p>>=C,x-=C,Rr=1<<32-Rn(s)+x|c<<x|p,Ir=_+a}else Rr=1<<_|c<<x|p,Ir=a}function Zh(a){a.return!==null&&(Wr(a,1),qx(a,1,0))}function ep(a){for(;a===rc;)rc=Ro[--Io],Ro[Io]=null,ll=Ro[--Io],Ro[Io]=null;for(;a===ji;)ji=Zn[--er],Zn[er]=null,Ir=Zn[--er],Zn[er]=null,Rr=Zn[--er],Zn[er]=null}function zx(a,s){Zn[er++]=Rr,Zn[er++]=Ir,Zn[er++]=ji,Rr=s.id,Ir=s.overflow,ji=a}var Zt=null,ft=null,Ge=!1,Li=null,tr=!1,tp=Error(r(519));function Ui(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Qn(s,a)),tp}function $x(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Qt]=a,s[xn]=p,c){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(c=0;c<Rl.length;c++)ze(Rl[c],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),tx(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),rx(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||aS(s.textContent,c)?(p.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),p.onScroll!=null&&ze("scroll",s),p.onScrollEnd!=null&&ze("scrollend",s),p.onClick!=null&&(s.onclick=Vr),s=!0):s=!1,s||Ui(a,!0)}function Hx(a){for(Zt=a.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Zt=Zt.return}}function Mo(a){if(a!==Zt)return!1;if(!Ge)return Hx(a),Ge=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||bm(a.type,a.memoizedProps)),c=!c),c&&ft&&Ui(a),Hx(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ft=pS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ft=pS(a)}else s===27?(s=ft,Qi(a.type)?(a=Em,Em=null,ft=a):ft=s):ft=Zt?rr(a.stateNode.nextSibling):null;return!0}function Aa(){ft=Zt=null,Ge=!1}function np(){var a=Li;return a!==null&&(Tn===null?Tn=a:Tn.push.apply(Tn,a),Li=null),a}function ul(a){Li===null?Li=[a]:Li.push(a)}var rp=j(null),Ca=null,Jr=null;function Bi(a,s,c){oe(rp,s._currentValue),s._currentValue=c}function Xr(a){a._currentValue=rp.current,Y(rp)}function ip(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function ap(a,s,c,p){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var _=x.dependencies;if(_!==null){var C=x.child;_=_.firstContext;e:for(;_!==null;){var M=_;_=x;for(var U=0;U<s.length;U++)if(M.context===s[U]){_.lanes|=c,M=_.alternate,M!==null&&(M.lanes|=c),ip(_.return,c,a),p||(C=null);break e}_=M.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(r(341));C.lanes|=c,_=C.alternate,_!==null&&(_.lanes|=c),ip(C,c,a),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===a){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function Oo(a,s,c,p){a=null;for(var x=s,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var M=x.type;In(x.pendingProps.value,C.value)||(a!==null?a.push(M):a=[M])}}else if(x===me.current){if(C=x.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(jl):a=[jl])}x=x.return}a!==null&&ap(s,a,c,p),s.flags|=262144}function ic(a){for(a=a.firstContext;a!==null;){if(!In(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Na(a){Ca=a,Jr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function en(a){return Gx(Ca,a)}function ac(a,s){return Ca===null&&Na(a),Gx(a,s)}function Gx(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Jr===null){if(a===null)throw Error(r(308));Jr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Jr=Jr.next=s;return c}var S2=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},E2=t.unstable_scheduleCallback,T2=t.unstable_NormalPriority,Nt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new S2,data:new Map,refCount:0}}function cl(a){a.refCount--,a.refCount===0&&E2(T2,function(){a.controller.abort()})}var dl=null,sp=0,Do=0,jo=null;function A2(a,s){if(dl===null){var c=dl=[];sp=0,Do=cm(),jo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return sp++,s.then(Fx,Fx),s}function Fx(){if(--sp===0&&dl!==null){jo!==null&&(jo.status="fulfilled");var a=dl;dl=null,Do=0,jo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function C2(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var x=0;x<c.length;x++)(0,c[x])(s)},function(x){for(p.status="rejected",p.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),p}var Vx=z.S;z.S=function(a,s){k_=Lt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A2(a,s),Vx!==null&&Vx(a,s)};var ka=j(null);function lp(){var a=ka.current;return a!==null?a:lt.pooledCache}function oc(a,s){s===null?oe(ka,ka.current):oe(ka,s.pool)}function Kx(){var a=lp();return a===null?null:{parent:Nt._currentValue,pool:a}}var Lo=Error(r(460)),up=Error(r(474)),sc=Error(r(542)),lc={then:function(){}};function Yx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Wx(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Vr,Vr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Xx(a),a;default:if(typeof s.status=="string")s.then(Vr,Vr);else{if(a=lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=p}},function(p){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Xx(a),a}throw Ra=s,Lo}}function Pa(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ra=c,Lo):c}}var Ra=null;function Jx(){if(Ra===null)throw Error(r(459));var a=Ra;return Ra=null,a}function Xx(a){if(a===Lo||a===sc)throw Error(r(483))}var Uo=null,fl=0;function uc(a){var s=fl;return fl+=1,Uo===null&&(Uo=[]),Wx(Uo,a,s)}function hl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function cc(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Qx(a){function s(V,B){if(a){var J=V.deletions;J===null?(V.deletions=[B],V.flags|=16):J.push(B)}}function c(V,B){if(!a)return null;for(;B!==null;)s(V,B),B=B.sibling;return null}function p(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function x(V,B){return V=Yr(V,B),V.index=0,V.sibling=null,V}function _(V,B,J){return V.index=J,a?(J=V.alternate,J!==null?(J=J.index,J<B?(V.flags|=67108866,B):J):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function C(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function M(V,B,J,ae){return B===null||B.tag!==6?(B=Xh(J,V.mode,ae),B.return=V,B):(B=x(B,J),B.return=V,B)}function U(V,B,J,ae){var ke=J.type;return ke===T?re(V,B,J.props.children,ae,J.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===q&&Pa(ke)===B.type)?(B=x(B,J.props),hl(B,J),B.return=V,B):(B=nc(J.type,J.key,J.props,null,V.mode,ae),hl(B,J),B.return=V,B)}function X(V,B,J,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=Qh(J,V.mode,ae),B.return=V,B):(B=x(B,J.children||[]),B.return=V,B)}function re(V,B,J,ae,ke){return B===null||B.tag!==7?(B=Ta(J,V.mode,ae,ke),B.return=V,B):(B=x(B,J),B.return=V,B)}function le(V,B,J){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Xh(""+B,V.mode,J),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return J=nc(B.type,B.key,B.props,null,V.mode,J),hl(J,B),J.return=V,J;case S:return B=Qh(B,V.mode,J),B.return=V,B;case q:return B=Pa(B),le(V,B,J)}if(he(B)||L(B))return B=Ta(B,V.mode,J,null),B.return=V,B;if(typeof B.then=="function")return le(V,uc(B),J);if(B.$$typeof===N)return le(V,ac(V,B),J);cc(V,B)}return null}function Q(V,B,J,ae){var ke=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return ke!==null?null:M(V,B,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===ke?U(V,B,J,ae):null;case S:return J.key===ke?X(V,B,J,ae):null;case q:return J=Pa(J),Q(V,B,J,ae)}if(he(J)||L(J))return ke!==null?null:re(V,B,J,ae,null);if(typeof J.then=="function")return Q(V,B,uc(J),ae);if(J.$$typeof===N)return Q(V,B,ac(V,J),ae);cc(V,J)}return null}function ee(V,B,J,ae,ke){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return V=V.get(J)||null,M(B,V,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return V=V.get(ae.key===null?J:ae.key)||null,U(B,V,ae,ke);case S:return V=V.get(ae.key===null?J:ae.key)||null,X(B,V,ae,ke);case q:return ae=Pa(ae),ee(V,B,J,ae,ke)}if(he(ae)||L(ae))return V=V.get(J)||null,re(B,V,ae,ke,null);if(typeof ae.then=="function")return ee(V,B,J,uc(ae),ke);if(ae.$$typeof===N)return ee(V,B,J,ac(B,ae),ke);cc(B,ae)}return null}function xe(V,B,J,ae){for(var ke=null,Ye=null,_e=B,Ue=B=0,He=null;_e!==null&&Ue<J.length;Ue++){_e.index>Ue?(He=_e,_e=null):He=_e.sibling;var We=Q(V,_e,J[Ue],ae);if(We===null){_e===null&&(_e=He);break}a&&_e&&We.alternate===null&&s(V,_e),B=_(We,B,Ue),Ye===null?ke=We:Ye.sibling=We,Ye=We,_e=He}if(Ue===J.length)return c(V,_e),Ge&&Wr(V,Ue),ke;if(_e===null){for(;Ue<J.length;Ue++)_e=le(V,J[Ue],ae),_e!==null&&(B=_(_e,B,Ue),Ye===null?ke=_e:Ye.sibling=_e,Ye=_e);return Ge&&Wr(V,Ue),ke}for(_e=p(_e);Ue<J.length;Ue++)He=ee(_e,V,Ue,J[Ue],ae),He!==null&&(a&&He.alternate!==null&&_e.delete(He.key===null?Ue:He.key),B=_(He,B,Ue),Ye===null?ke=He:Ye.sibling=He,Ye=He);return a&&_e.forEach(function(ra){return s(V,ra)}),Ge&&Wr(V,Ue),ke}function Re(V,B,J,ae){if(J==null)throw Error(r(151));for(var ke=null,Ye=null,_e=B,Ue=B=0,He=null,We=J.next();_e!==null&&!We.done;Ue++,We=J.next()){_e.index>Ue?(He=_e,_e=null):He=_e.sibling;var ra=Q(V,_e,We.value,ae);if(ra===null){_e===null&&(_e=He);break}a&&_e&&ra.alternate===null&&s(V,_e),B=_(ra,B,Ue),Ye===null?ke=ra:Ye.sibling=ra,Ye=ra,_e=He}if(We.done)return c(V,_e),Ge&&Wr(V,Ue),ke;if(_e===null){for(;!We.done;Ue++,We=J.next())We=le(V,We.value,ae),We!==null&&(B=_(We,B,Ue),Ye===null?ke=We:Ye.sibling=We,Ye=We);return Ge&&Wr(V,Ue),ke}for(_e=p(_e);!We.done;Ue++,We=J.next())We=ee(_e,V,Ue,We.value,ae),We!==null&&(a&&We.alternate!==null&&_e.delete(We.key===null?Ue:We.key),B=_(We,B,Ue),Ye===null?ke=We:Ye.sibling=We,Ye=We);return a&&_e.forEach(function(Uj){return s(V,Uj)}),Ge&&Wr(V,Ue),ke}function at(V,B,J,ae){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var ke=J.key;B!==null;){if(B.key===ke){if(ke=J.type,ke===T){if(B.tag===7){c(V,B.sibling),ae=x(B,J.props.children),ae.return=V,V=ae;break e}}else if(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===q&&Pa(ke)===B.type){c(V,B.sibling),ae=x(B,J.props),hl(ae,J),ae.return=V,V=ae;break e}c(V,B);break}else s(V,B);B=B.sibling}J.type===T?(ae=Ta(J.props.children,V.mode,ae,J.key),ae.return=V,V=ae):(ae=nc(J.type,J.key,J.props,null,V.mode,ae),hl(ae,J),ae.return=V,V=ae)}return C(V);case S:e:{for(ke=J.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){c(V,B.sibling),ae=x(B,J.children||[]),ae.return=V,V=ae;break e}else{c(V,B);break}else s(V,B);B=B.sibling}ae=Qh(J,V.mode,ae),ae.return=V,V=ae}return C(V);case q:return J=Pa(J),at(V,B,J,ae)}if(he(J))return xe(V,B,J,ae);if(L(J)){if(ke=L(J),typeof ke!="function")throw Error(r(150));return J=ke.call(J),Re(V,B,J,ae)}if(typeof J.then=="function")return at(V,B,uc(J),ae);if(J.$$typeof===N)return at(V,B,ac(V,J),ae);cc(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,B!==null&&B.tag===6?(c(V,B.sibling),ae=x(B,J),ae.return=V,V=ae):(c(V,B),ae=Xh(J,V.mode,ae),ae.return=V,V=ae),C(V)):c(V,B)}return function(V,B,J,ae){try{fl=0;var ke=at(V,B,J,ae);return Uo=null,ke}catch(_e){if(_e===Lo||_e===sc)throw _e;var Ye=Mn(29,_e,null,V.mode);return Ye.lanes=ae,Ye.return=V,Ye}finally{}}}var Ia=Qx(!0),Zx=Qx(!1),qi=!1;function cp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function zi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $i(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Qe&2)!==0){var x=p.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),p.pending=s,s=tc(a),jx(a,null,c),s}return ec(a,p,s,c),tc(a)}function pl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,G0(a,c)}}function fp(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?x=_=C:_=_.next=C,c=c.next}while(c!==null);_===null?x=_=s:_=_.next=s}else x=_=s;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var hp=!1;function ml(){if(hp){var a=jo;if(a!==null)throw a}}function gl(a,s,c,p){hp=!1;var x=a.updateQueue;qi=!1;var _=x.firstBaseUpdate,C=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var U=M,X=U.next;U.next=null,C===null?_=X:C.next=X,C=U;var re=a.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==C&&(M===null?re.firstBaseUpdate=X:M.next=X,re.lastBaseUpdate=U))}if(_!==null){var le=x.baseState;C=0,re=X=U=null,M=_;do{var Q=M.lane&-536870913,ee=Q!==M.lane;if(ee?($e&Q)===Q:(p&Q)===Q){Q!==0&&Q===Do&&(hp=!0),re!==null&&(re=re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var xe=a,Re=M;Q=s;var at=c;switch(Re.tag){case 1:if(xe=Re.payload,typeof xe=="function"){le=xe.call(at,le,Q);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Re.payload,Q=typeof xe=="function"?xe.call(at,le,Q):xe,Q==null)break e;le=m({},le,Q);break e;case 2:qi=!0}}Q=M.callback,Q!==null&&(a.flags|=64,ee&&(a.flags|=8192),ee=x.callbacks,ee===null?x.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(X=re=ee,U=le):re=re.next=ee,C|=Q;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;ee=M,M=ee.next,ee.next=null,x.lastBaseUpdate=ee,x.shared.pending=null}}while(!0);re===null&&(U=le),x.baseState=U,x.firstBaseUpdate=X,x.lastBaseUpdate=re,_===null&&(x.shared.lanes=0),Ki|=C,a.lanes=C,a.memoizedState=le}}function ew(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function tw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)ew(c[a],s)}var Bo=j(null),dc=j(0);function nw(a,s){a=oi,oe(dc,a),oe(Bo,s),oi=a|s.baseLanes}function pp(){oe(dc,oi),oe(Bo,Bo.current)}function mp(){oi=dc.current,Y(Bo),Y(dc)}var On=j(null),nr=null;function Hi(a){var s=a.alternate;oe(Et,Et.current&1),oe(On,a),nr===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(nr=a)}function gp(a){oe(Et,Et.current),oe(On,a),nr===null&&(nr=a)}function rw(a){a.tag===22?(oe(Et,Et.current),oe(On,a),nr===null&&(nr=a)):Gi()}function Gi(){oe(Et,Et.current),oe(On,On.current)}function Dn(a){Y(On),nr===a&&(nr=null),Y(Et)}var Et=j(0);function fc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||_m(c)||Sm(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qr=0,Le=null,rt=null,kt=null,hc=!1,qo=!1,Ma=!1,pc=0,yl=0,zo=null,N2=0;function xt(){throw Error(r(321))}function yp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!In(a[c],s[c]))return!1;return!0}function vp(a,s,c,p,x,_){return Qr=_,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=a===null||a.memoizedState===null?qw:Mp,Ma=!1,_=c(p,x),Ma=!1,qo&&(_=aw(s,c,p,x)),iw(a),_}function iw(a){z.H=xl;var s=rt!==null&&rt.next!==null;if(Qr=0,kt=rt=Le=null,hc=!1,yl=0,zo=null,s)throw Error(r(300));a===null||Pt||(a=a.dependencies,a!==null&&ic(a)&&(Pt=!0))}function aw(a,s,c,p){Le=a;var x=0;do{if(qo&&(zo=null),yl=0,qo=!1,25<=x)throw Error(r(301));if(x+=1,kt=rt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=zw,_=s(c,p)}while(qo);return _}function k2(){var a=z.H,s=a.useState()[0];return s=typeof s.then=="function"?vl(s):s,a=a.useState()[0],(rt!==null?rt.memoizedState:null)!==a&&(Le.flags|=1024),s}function bp(){var a=pc!==0;return pc=0,a}function xp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function wp(a){if(hc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}hc=!1}Qr=0,kt=rt=Le=null,qo=!1,yl=pc=0,zo=null}function yn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Le.memoizedState=kt=a:kt=kt.next=a,kt}function Tt(){if(rt===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=rt.next;var s=kt===null?Le.memoizedState:kt.next;if(s!==null)kt=s,rt=a;else{if(a===null)throw Le.alternate===null?Error(r(467)):Error(r(310));rt=a,a={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Le.memoizedState=kt=a:kt=kt.next=a}return kt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(a){var s=yl;return yl+=1,zo===null&&(zo=[]),a=Wx(zo,a,s),s=Le,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?qw:Mp),a}function gc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return vl(a);if(a.$$typeof===N)return en(a)}throw Error(r(438,String(a)))}function _p(a){var s=null,c=Le.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Le.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=mc(),Le.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=F;return s.index++,c}function Zr(a,s){return typeof s=="function"?s(a):s}function yc(a){var s=Tt();return Sp(s,rt,a)}function Sp(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var x=a.baseQueue,_=p.pending;if(_!==null){if(x!==null){var C=x.next;x.next=_.next,_.next=C}s.baseQueue=x=_,p.pending=null}if(_=a.baseState,x===null)a.memoizedState=_;else{s=x.next;var M=C=null,U=null,X=s,re=!1;do{var le=X.lane&-536870913;if(le!==X.lane?($e&le)===le:(Qr&le)===le){var Q=X.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Do&&(re=!0);else if((Qr&Q)===Q){X=X.next,Q===Do&&(re=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(M=U=le,C=_):U=U.next=le,Le.lanes|=Q,Ki|=Q;le=X.action,Ma&&c(_,le),_=X.hasEagerState?X.eagerState:c(_,le)}else Q={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(M=U=Q,C=_):U=U.next=Q,Le.lanes|=le,Ki|=le;X=X.next}while(X!==null&&X!==s);if(U===null?C=_:U.next=M,!In(_,a.memoizedState)&&(Pt=!0,re&&(c=jo,c!==null)))throw c;a.memoizedState=_,a.baseState=C,a.baseQueue=U,p.lastRenderedState=_}return x===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Ep(a){var s=Tt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,x=c.pending,_=s.memoizedState;if(x!==null){c.pending=null;var C=x=x.next;do _=a(_,C.action),C=C.next;while(C!==x);In(_,s.memoizedState)||(Pt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,p]}function ow(a,s,c){var p=Le,x=Tt(),_=Ge;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var C=!In((rt||x).memoizedState,c);if(C&&(x.memoizedState=c,Pt=!0),x=x.queue,Cp(uw.bind(null,p,x,a),[a]),x.getSnapshot!==s||C||kt!==null&&kt.memoizedState.tag&1){if(p.flags|=2048,$o(9,{destroy:void 0},lw.bind(null,p,x,c,s),null),lt===null)throw Error(r(349));_||(Qr&127)!==0||sw(p,s,c)}return c}function sw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Le.updateQueue,s===null?(s=mc(),Le.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function lw(a,s,c,p){s.value=c,s.getSnapshot=p,cw(s)&&dw(a)}function uw(a,s,c){return c(function(){cw(s)&&dw(a)})}function cw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!In(a,c)}catch{return!0}}function dw(a){var s=Ea(a,2);s!==null&&An(s,a,2)}function Tp(a){var s=yn();if(typeof a=="function"){var c=a;if(a=c(),Ma){Mi(!0);try{c()}finally{Mi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},s}function fw(a,s,c,p){return a.baseState=c,Sp(a,rt,typeof p=="function"?p:Zr)}function P2(a,s,c,p,x){if(xc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};z.T!==null?c(!0):_.isTransition=!1,p(_),c=s.pending,c===null?(_.next=s.pending=_,hw(s,_)):(_.next=c.next,s.pending=c.next=_)}}function hw(a,s){var c=s.action,p=s.payload,x=a.state;if(s.isTransition){var _=z.T,C={};z.T=C;try{var M=c(x,p),U=z.S;U!==null&&U(C,M),pw(a,s,M)}catch(X){Ap(a,s,X)}finally{_!==null&&C.types!==null&&(_.types=C.types),z.T=_}}else try{_=c(x,p),pw(a,s,_)}catch(X){Ap(a,s,X)}}function pw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){mw(a,s,p)},function(p){return Ap(a,s,p)}):mw(a,s,c)}function mw(a,s,c){s.status="fulfilled",s.value=c,gw(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,hw(a,c)))}function Ap(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,gw(s),s=s.next;while(s!==p)}a.action=null}function gw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yw(a,s){return s}function vw(a,s){if(Ge){var c=lt.formState;if(c!==null){e:{var p=Le;if(Ge){if(ft){t:{for(var x=ft,_=tr;x.nodeType!==8;){if(!_){x=null;break t}if(x=rr(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){ft=rr(x.nextSibling),p=x.data==="F!";break e}}Ui(p)}p=!1}p&&(s=c[0])}}return c=yn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yw,lastRenderedState:s},c.queue=p,c=Lw.bind(null,Le,p),p.dispatch=c,p=Tp(!1),_=Ip.bind(null,Le,!1,p.queue),p=yn(),x={state:s,dispatch:null,action:a,pending:null},p.queue=x,c=P2.bind(null,Le,x,_,c),x.dispatch=c,p.memoizedState=a,[s,c,!1]}function bw(a){var s=Tt();return xw(s,rt,a)}function xw(a,s,c){if(s=Sp(a,s,yw)[0],a=yc(Zr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=vl(s)}catch(C){throw C===Lo?sc:C}else p=s;s=Tt();var x=s.queue,_=x.dispatch;return c!==s.memoizedState&&(Le.flags|=2048,$o(9,{destroy:void 0},R2.bind(null,x,c),null)),[p,_,a]}function R2(a,s){a.action=s}function ww(a){var s=Tt(),c=rt;if(c!==null)return xw(s,c,a);Tt(),s=s.memoizedState,c=Tt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function $o(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Le.updateQueue,s===null&&(s=mc(),Le.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function _w(){return Tt().memoizedState}function vc(a,s,c,p){var x=yn();Le.flags|=a,x.memoizedState=$o(1|s,{destroy:void 0},c,p===void 0?null:p)}function bc(a,s,c,p){var x=Tt();p=p===void 0?null:p;var _=x.memoizedState.inst;rt!==null&&p!==null&&yp(p,rt.memoizedState.deps)?x.memoizedState=$o(s,_,c,p):(Le.flags|=a,x.memoizedState=$o(1|s,_,c,p))}function Sw(a,s){vc(8390656,8,a,s)}function Cp(a,s){bc(2048,8,a,s)}function I2(a){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=mc(),Le.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Ew(a){var s=Tt().memoizedState;return I2({ref:s,nextImpl:a}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Tw(a,s){return bc(4,2,a,s)}function Aw(a,s){return bc(4,4,a,s)}function Cw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Nw(a,s,c){c=c!=null?c.concat([a]):null,bc(4,4,Cw.bind(null,s,a),c)}function Np(){}function kw(a,s){var c=Tt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&yp(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function Pw(a,s){var c=Tt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&yp(s,p[1]))return p[0];if(p=a(),Ma){Mi(!0);try{a()}finally{Mi(!1)}}return c.memoizedState=[p,s],p}function kp(a,s,c){return c===void 0||(Qr&1073741824)!==0&&($e&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=R_(),Le.lanes|=a,Ki|=a,c)}function Rw(a,s,c,p){return In(c,s)?c:Bo.current!==null?(a=kp(a,c,p),In(a,s)||(Pt=!0),a):(Qr&42)===0||(Qr&1073741824)!==0&&($e&261930)===0?(Pt=!0,a.memoizedState=c):(a=R_(),Le.lanes|=a,Ki|=a,s)}function Iw(a,s,c,p,x){var _=Z.p;Z.p=_!==0&&8>_?_:8;var C=z.T,M={};z.T=M,Ip(a,!1,s,c);try{var U=x(),X=z.S;if(X!==null&&X(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=C2(U,p);bl(a,s,re,Un(a))}else bl(a,s,p,Un(a))}catch(le){bl(a,s,{then:function(){},status:"rejected",reason:le},Un())}finally{Z.p=_,C!==null&&M.types!==null&&(C.types=M.types),z.T=C}}function M2(){}function Pp(a,s,c,p){if(a.tag!==5)throw Error(r(476));var x=Mw(a).queue;Iw(a,x,s,de,c===null?M2:function(){return Ow(a),c(p)})}function Mw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:de},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Ow(a){var s=Mw(a);s.next===null&&(s=a.alternate.memoizedState),bl(a,s.next.queue,{},Un())}function Rp(){return en(jl)}function Dw(){return Tt().memoizedState}function jw(){return Tt().memoizedState}function O2(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Un();a=zi(c);var p=$i(s,a,c);p!==null&&(An(p,s,c),pl(p,s,c)),s={cache:op()},a.payload=s;return}s=s.return}}function D2(a,s,c){var p=Un();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xc(a)?Uw(s,c):(c=Wh(a,s,c,p),c!==null&&(An(c,a,p),Bw(c,s,p)))}function Lw(a,s,c){var p=Un();bl(a,s,c,p)}function bl(a,s,c,p){var x={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(xc(a))Uw(s,x);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var C=s.lastRenderedState,M=_(C,c);if(x.hasEagerState=!0,x.eagerState=M,In(M,C))return ec(a,s,x,0),lt===null&&Zu(),!1}catch{}finally{}if(c=Wh(a,s,x,p),c!==null)return An(c,a,p),Bw(c,s,p),!0}return!1}function Ip(a,s,c,p){if(p={lane:2,revertLane:cm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},xc(a)){if(s)throw Error(r(479))}else s=Wh(a,c,p,2),s!==null&&An(s,a,2)}function xc(a){var s=a.alternate;return a===Le||s!==null&&s===Le}function Uw(a,s){qo=hc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Bw(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,G0(a,c)}}var xl={readContext:en,use:gc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};xl.useEffectEvent=xt;var qw={readContext:en,use:gc,useCallback:function(a,s){return yn().memoizedState=[a,s===void 0?null:s],a},useContext:en,useEffect:Sw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,vc(4194308,4,Cw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return vc(4194308,4,a,s)},useInsertionEffect:function(a,s){vc(4,2,a,s)},useMemo:function(a,s){var c=yn();s=s===void 0?null:s;var p=a();if(Ma){Mi(!0);try{a()}finally{Mi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=yn();if(c!==void 0){var x=c(s);if(Ma){Mi(!0);try{c(s)}finally{Mi(!1)}}}else x=s;return p.memoizedState=p.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},p.queue=a,a=a.dispatch=D2.bind(null,Le,a),[p.memoizedState,a]},useRef:function(a){var s=yn();return a={current:a},s.memoizedState=a},useState:function(a){a=Tp(a);var s=a.queue,c=Lw.bind(null,Le,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Np,useDeferredValue:function(a,s){var c=yn();return kp(c,a,s)},useTransition:function(){var a=Tp(!1);return a=Iw.bind(null,Le,a.queue,!0,!1),yn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Le,x=yn();if(Ge){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),lt===null)throw Error(r(349));($e&127)!==0||sw(p,s,c)}x.memoizedState=c;var _={value:c,getSnapshot:s};return x.queue=_,Sw(uw.bind(null,p,_,a),[a]),p.flags|=2048,$o(9,{destroy:void 0},lw.bind(null,p,_,c,s),null),c},useId:function(){var a=yn(),s=lt.identifierPrefix;if(Ge){var c=Ir,p=Rr;c=(p&~(1<<32-Rn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=pc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=N2++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Rp,useFormState:vw,useActionState:vw,useOptimistic:function(a){var s=yn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Ip.bind(null,Le,!0,c),c.dispatch=s,[a,s]},useMemoCache:_p,useCacheRefresh:function(){return yn().memoizedState=O2.bind(null,Le)},useEffectEvent:function(a){var s=yn(),c={impl:a};return s.memoizedState=c,function(){if((Qe&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Mp={readContext:en,use:gc,useCallback:kw,useContext:en,useEffect:Cp,useImperativeHandle:Nw,useInsertionEffect:Tw,useLayoutEffect:Aw,useMemo:Pw,useReducer:yc,useRef:_w,useState:function(){return yc(Zr)},useDebugValue:Np,useDeferredValue:function(a,s){var c=Tt();return Rw(c,rt.memoizedState,a,s)},useTransition:function(){var a=yc(Zr)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:vl(a),s]},useSyncExternalStore:ow,useId:Dw,useHostTransitionStatus:Rp,useFormState:bw,useActionState:bw,useOptimistic:function(a,s){var c=Tt();return fw(c,rt,a,s)},useMemoCache:_p,useCacheRefresh:jw};Mp.useEffectEvent=Ew;var zw={readContext:en,use:gc,useCallback:kw,useContext:en,useEffect:Cp,useImperativeHandle:Nw,useInsertionEffect:Tw,useLayoutEffect:Aw,useMemo:Pw,useReducer:Ep,useRef:_w,useState:function(){return Ep(Zr)},useDebugValue:Np,useDeferredValue:function(a,s){var c=Tt();return rt===null?kp(c,a,s):Rw(c,rt.memoizedState,a,s)},useTransition:function(){var a=Ep(Zr)[0],s=Tt().memoizedState;return[typeof a=="boolean"?a:vl(a),s]},useSyncExternalStore:ow,useId:Dw,useHostTransitionStatus:Rp,useFormState:ww,useActionState:ww,useOptimistic:function(a,s){var c=Tt();return rt!==null?fw(c,rt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:_p,useCacheRefresh:jw};zw.useEffectEvent=Ew;function Op(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Dp={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Un(),x=zi(p);x.payload=s,c!=null&&(x.callback=c),s=$i(a,x,p),s!==null&&(An(s,a,p),pl(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Un(),x=zi(p);x.tag=1,x.payload=s,c!=null&&(x.callback=c),s=$i(a,x,p),s!==null&&(An(s,a,p),pl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Un(),p=zi(c);p.tag=2,s!=null&&(p.callback=s),s=$i(a,p,c),s!==null&&(An(s,a,c),pl(s,a,c))}};function $w(a,s,c,p,x,_,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,C):s.prototype&&s.prototype.isPureReactComponent?!ol(c,p)||!ol(x,_):!0}function Hw(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Dp.enqueueReplaceState(s,s.state,null)}function Oa(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var x in a)c[x]===void 0&&(c[x]=a[x])}return c}function Gw(a){Qu(a)}function Fw(a){console.error(a)}function Vw(a){Qu(a)}function wc(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function Kw(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function jp(a,s,c){return c=zi(c),c.tag=3,c.payload={element:null},c.callback=function(){wc(a,s)},c}function Yw(a){return a=zi(a),a.tag=3,a}function Ww(a,s,c,p){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var _=p.value;a.payload=function(){return x(_)},a.callback=function(){Kw(s,c,p)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){Kw(s,c,p),typeof x!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function j2(a,s,c,p,x){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Oo(s,c,x,!0),c=On.current,c!==null){switch(c.tag){case 31:case 13:return nr===null?Mc():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=x,p===lc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),sm(a,p,x)),!1;case 22:return c.flags|=65536,p===lc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),sm(a,p,x)),!1}throw Error(r(435,c.tag))}return sm(a,p,x),Mc(),!1}if(Ge)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,p!==tp&&(a=Error(r(422),{cause:p}),ul(Qn(a,c)))):(p!==tp&&(s=Error(r(423),{cause:p}),ul(Qn(s,c))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,p=Qn(p,c),x=jp(a.stateNode,p,x),fp(a,x),wt!==4&&(wt=2)),!1;var _=Error(r(520),{cause:p});if(_=Qn(_,c),Nl===null?Nl=[_]:Nl.push(_),wt!==4&&(wt=2),s===null)return!0;p=Qn(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=x&-x,c.lanes|=a,a=jp(c.stateNode,p,a),fp(c,a),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Yi===null||!Yi.has(_))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Yw(x),Ww(x,a,c,p),fp(c,x),!1}c=c.return}while(c!==null);return!1}var Lp=Error(r(461)),Pt=!1;function tn(a,s,c,p){s.child=a===null?Zx(s,null,c,p):Ia(s,a.child,c,p)}function Jw(a,s,c,p,x){c=c.render;var _=s.ref;if("ref"in p){var C={};for(var M in p)M!=="ref"&&(C[M]=p[M])}else C=p;return Na(s),p=vp(a,s,c,C,_,x),M=bp(),a!==null&&!Pt?(xp(a,s,x),ei(a,s,x)):(Ge&&M&&Zh(s),s.flags|=1,tn(a,s,p,x),s.child)}function Xw(a,s,c,p,x){if(a===null){var _=c.type;return typeof _=="function"&&!Jh(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,Qw(a,s,_,p,x)):(a=nc(c.type,null,p,s,s.mode,x),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Fp(a,x)){var C=_.memoizedProps;if(c=c.compare,c=c!==null?c:ol,c(C,p)&&a.ref===s.ref)return ei(a,s,x)}return s.flags|=1,a=Yr(_,p),a.ref=s.ref,a.return=s,s.child=a}function Qw(a,s,c,p,x){if(a!==null){var _=a.memoizedProps;if(ol(_,p)&&a.ref===s.ref)if(Pt=!1,s.pendingProps=p=_,Fp(a,x))(a.flags&131072)!==0&&(Pt=!0);else return s.lanes=a.lanes,ei(a,s,x)}return Up(a,s,c,p,x)}function Zw(a,s,c,p){var x=p.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(p=s.child=a.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~_}else p=0,s.child=null;return e_(a,s,_,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&oc(s,_!==null?_.cachePool:null),_!==null?nw(s,_):pp(),rw(s);else return p=s.lanes=536870912,e_(a,s,_!==null?_.baseLanes|c:c,c,p)}else _!==null?(oc(s,_.cachePool),nw(s,_),Gi(),s.memoizedState=null):(a!==null&&oc(s,null),pp(),Gi());return tn(a,s,x,c),s.child}function wl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function e_(a,s,c,p,x){var _=lp();return _=_===null?null:{parent:Nt._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},a!==null&&oc(s,null),pp(),rw(s),a!==null&&Oo(a,s,p,!0),s.childLanes=x,null}function _c(a,s){return s=Ec({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function t_(a,s,c){return Ia(s,a.child,null,c),a=_c(s,s.pendingProps),a.flags|=2,Dn(s),s.memoizedState=null,a}function L2(a,s,c){var p=s.pendingProps,x=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ge){if(p.mode==="hidden")return a=_c(s,p),s.lanes=536870912,wl(null,a);if(gp(s),(a=ft)?(a=hS(a,tr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ji!==null?{id:Rr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},c=Ux(a),c.return=s,s.child=c,Zt=s,ft=null)):a=null,a===null)throw Ui(s);return s.lanes=536870912,null}return _c(s,p)}var _=a.memoizedState;if(_!==null){var C=_.dehydrated;if(gp(s),x)if(s.flags&256)s.flags&=-257,s=t_(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Pt||Oo(a,s,c,!1),x=(c&a.childLanes)!==0,Pt||x){if(p=lt,p!==null&&(C=F0(p,c),C!==0&&C!==_.retryLane))throw _.retryLane=C,Ea(a,C),An(p,a,C),Lp;Mc(),s=t_(a,s,c)}else a=_.treeContext,ft=rr(C.nextSibling),Zt=s,Ge=!0,Li=null,tr=!1,a!==null&&zx(s,a),s=_c(s,p),s.flags|=4096;return s}return a=Yr(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Sc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Up(a,s,c,p,x){return Na(s),c=vp(a,s,c,p,void 0,x),p=bp(),a!==null&&!Pt?(xp(a,s,x),ei(a,s,x)):(Ge&&p&&Zh(s),s.flags|=1,tn(a,s,c,x),s.child)}function n_(a,s,c,p,x,_){return Na(s),s.updateQueue=null,c=aw(s,p,c,x),iw(a),p=bp(),a!==null&&!Pt?(xp(a,s,_),ei(a,s,_)):(Ge&&p&&Zh(s),s.flags|=1,tn(a,s,c,_),s.child)}function r_(a,s,c,p,x){if(Na(s),s.stateNode===null){var _=Po,C=c.contextType;typeof C=="object"&&C!==null&&(_=en(C)),_=new c(p,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Dp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=p,_.state=s.memoizedState,_.refs={},cp(s),C=c.contextType,_.context=typeof C=="object"&&C!==null?en(C):Po,_.state=s.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Op(s,c,C,p),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&Dp.enqueueReplaceState(_,_.state,null),gl(s,p,_,x),ml(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){_=s.stateNode;var M=s.memoizedProps,U=Oa(c,M);_.props=U;var X=_.context,re=c.contextType;C=Po,typeof re=="object"&&re!==null&&(C=en(re));var le=c.getDerivedStateFromProps;re=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||X!==C)&&Hw(s,_,p,C),qi=!1;var Q=s.memoizedState;_.state=Q,gl(s,p,_,x),ml(),X=s.memoizedState,M||Q!==X||qi?(typeof le=="function"&&(Op(s,c,le,p),X=s.memoizedState),(U=qi||$w(s,c,U,p,Q,X,C))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=X),_.props=p,_.state=X,_.context=C,p=U):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{_=s.stateNode,dp(a,s),C=s.memoizedProps,re=Oa(c,C),_.props=re,le=s.pendingProps,Q=_.context,X=c.contextType,U=Po,typeof X=="object"&&X!==null&&(U=en(X)),M=c.getDerivedStateFromProps,(X=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==le||Q!==U)&&Hw(s,_,p,U),qi=!1,Q=s.memoizedState,_.state=Q,gl(s,p,_,x),ml();var ee=s.memoizedState;C!==le||Q!==ee||qi||a!==null&&a.dependencies!==null&&ic(a.dependencies)?(typeof M=="function"&&(Op(s,c,M,p),ee=s.memoizedState),(re=qi||$w(s,c,re,p,Q,ee,U)||a!==null&&a.dependencies!==null&&ic(a.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,ee,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,ee,U)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ee),_.props=p,_.state=ee,_.context=U,p=re):(typeof _.componentDidUpdate!="function"||C===a.memoizedProps&&Q===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&Q===a.memoizedState||(s.flags|=1024),p=!1)}return _=p,Sc(a,s),p=(s.flags&128)!==0,_||p?(_=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&p?(s.child=Ia(s,a.child,null,x),s.child=Ia(s,null,c,x)):tn(a,s,c,x),s.memoizedState=_.state,a=s.child):a=ei(a,s,x),a}function i_(a,s,c,p){return Aa(),s.flags|=256,tn(a,s,c,p),s.child}var Bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(a){return{baseLanes:a,cachePool:Kx()}}function zp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ln),a}function a_(a,s,c){var p=s.pendingProps,x=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=a!==null&&a.memoizedState===null?!1:(Et.current&2)!==0),C&&(x=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ge){if(x?Hi(s):Gi(),(a=ft)?(a=hS(a,tr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ji!==null?{id:Rr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},c=Ux(a),c.return=s,s.child=c,Zt=s,ft=null)):a=null,a===null)throw Ui(s);return Sm(a)?s.lanes=32:s.lanes=536870912,null}var M=p.children;return p=p.fallback,x?(Gi(),x=s.mode,M=Ec({mode:"hidden",children:M},x),p=Ta(p,x,c,null),M.return=s,p.return=s,M.sibling=p,s.child=M,p=s.child,p.memoizedState=qp(c),p.childLanes=zp(a,C,c),s.memoizedState=Bp,wl(null,p)):(Hi(s),$p(s,M))}var U=a.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(_)s.flags&256?(Hi(s),s.flags&=-257,s=Hp(a,s,c)):s.memoizedState!==null?(Gi(),s.child=a.child,s.flags|=128,s=null):(Gi(),M=p.fallback,x=s.mode,p=Ec({mode:"visible",children:p.children},x),M=Ta(M,x,c,null),M.flags|=2,p.return=s,M.return=s,p.sibling=M,s.child=p,Ia(s,a.child,null,c),p=s.child,p.memoizedState=qp(c),p.childLanes=zp(a,C,c),s.memoizedState=Bp,s=wl(null,p));else if(Hi(s),Sm(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var X=C.dgst;C=X,p=Error(r(419)),p.stack="",p.digest=C,ul({value:p,source:null,stack:null}),s=Hp(a,s,c)}else if(Pt||Oo(a,s,c,!1),C=(c&a.childLanes)!==0,Pt||C){if(C=lt,C!==null&&(p=F0(C,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,Ea(a,p),An(C,a,p),Lp;_m(M)||Mc(),s=Hp(a,s,c)}else _m(M)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,ft=rr(M.nextSibling),Zt=s,Ge=!0,Li=null,tr=!1,a!==null&&zx(s,a),s=$p(s,p.children),s.flags|=4096);return s}return x?(Gi(),M=p.fallback,x=s.mode,U=a.child,X=U.sibling,p=Yr(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,X!==null?M=Yr(X,M):(M=Ta(M,x,c,null),M.flags|=2),M.return=s,p.return=s,p.sibling=M,s.child=p,wl(null,p),p=s.child,M=a.child.memoizedState,M===null?M=qp(c):(x=M.cachePool,x!==null?(U=Nt._currentValue,x=x.parent!==U?{parent:U,pool:U}:x):x=Kx(),M={baseLanes:M.baseLanes|c,cachePool:x}),p.memoizedState=M,p.childLanes=zp(a,C,c),s.memoizedState=Bp,wl(a.child,p)):(Hi(s),c=a.child,a=c.sibling,c=Yr(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(C=s.deletions,C===null?(s.deletions=[a],s.flags|=16):C.push(a)),s.child=c,s.memoizedState=null,c)}function $p(a,s){return s=Ec({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Ec(a,s){return a=Mn(22,a,null,s),a.lanes=0,a}function Hp(a,s,c){return Ia(s,a.child,null,c),a=$p(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function o_(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),ip(a.return,s,c)}function Gp(a,s,c,p,x,_){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x,treeForkCount:_}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=c,C.tailMode=x,C.treeForkCount=_)}function s_(a,s,c){var p=s.pendingProps,x=p.revealOrder,_=p.tail;p=p.children;var C=Et.current,M=(C&2)!==0;if(M?(C=C&1|2,s.flags|=128):C&=1,oe(Et,C),tn(a,s,p,c),p=Ge?ll:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&o_(a,c,s);else if(a.tag===19)o_(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(c=s.child,x=null;c!==null;)a=c.alternate,a!==null&&fc(a)===null&&(x=c),c=c.sibling;c=x,c===null?(x=s.child,s.child=null):(x=c.sibling,c.sibling=null),Gp(s,!1,x,c,_,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=s.child,s.child=null;x!==null;){if(a=x.alternate,a!==null&&fc(a)===null){s.child=x;break}a=x.sibling,x.sibling=c,c=x,x=a}Gp(s,!0,c,null,_,p);break;case"together":Gp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function ei(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Ki|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Oo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Yr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Yr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Fp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&ic(a)))}function U2(a,s,c){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Bi(s,Nt,a.memoizedState.cache),Aa();break;case 27:case 5:we(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Bi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Hi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?a_(a,s,c):(Hi(s),a=ei(a,s,c),a!==null?a.sibling:null);Hi(s);break;case 19:var x=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Oo(a,s,c,!1),p=(c&s.childLanes)!==0),x){if(p)return s_(a,s,c);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),oe(Et,Et.current),p)break;return null;case 22:return s.lanes=0,Zw(a,s,c,s.pendingProps);case 24:Bi(s,Nt,a.memoizedState.cache)}return ei(a,s,c)}function l_(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Pt=!0;else{if(!Fp(a,c)&&(s.flags&128)===0)return Pt=!1,U2(a,s,c);Pt=(a.flags&131072)!==0}else Pt=!1,Ge&&(s.flags&1048576)!==0&&qx(s,ll,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Pa(s.elementType),s.type=a,typeof a=="function")Jh(a)?(p=Oa(a,p),s.tag=1,s=r_(null,s,a,p,c)):(s.tag=0,s=Up(null,s,a,p,c));else{if(a!=null){var x=a.$$typeof;if(x===I){s.tag=11,s=Jw(null,s,a,p,c);break e}else if(x===D){s.tag=14,s=Xw(null,s,a,p,c);break e}}throw s=ce(a)||a,Error(r(306,s,""))}}return s;case 0:return Up(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,x=Oa(p,s.pendingProps),r_(a,s,p,x,c);case 3:e:{if(De(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var _=s.memoizedState;x=_.element,dp(a,s),gl(s,p,null,c);var C=s.memoizedState;if(p=C.cache,Bi(s,Nt,p),p!==_.cache&&ap(s,[Nt],c,!0),ml(),p=C.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=i_(a,s,p,c);break e}else if(p!==x){x=Qn(Error(r(424)),s),ul(x),s=i_(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ft=rr(a.firstChild),Zt=s,Ge=!0,Li=null,tr=!0,c=Zx(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Aa(),p===x){s=ei(a,s,c);break e}tn(a,s,p,c)}s=s.child}return s;case 26:return Sc(a,s),a===null?(c=bS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ge||(c=s.type,a=s.pendingProps,p=qc(pe.current).createElement(c),p[Qt]=s,p[xn]=a,nn(p,c,a),Kt(p),s.stateNode=p):s.memoizedState=bS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Ge&&(p=s.stateNode=gS(s.type,s.pendingProps,pe.current),Zt=s,tr=!0,x=ft,Qi(s.type)?(Em=x,ft=rr(p.firstChild)):ft=x),tn(a,s,s.pendingProps.children,c),Sc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ge&&((x=p=ft)&&(p=pj(p,s.type,s.pendingProps,tr),p!==null?(s.stateNode=p,Zt=s,ft=rr(p.firstChild),tr=!1,x=!0):x=!1),x||Ui(s)),we(s),x=s.type,_=s.pendingProps,C=a!==null?a.memoizedProps:null,p=_.children,bm(x,_)?p=null:C!==null&&bm(x,C)&&(s.flags|=32),s.memoizedState!==null&&(x=vp(a,s,k2,null,null,c),jl._currentValue=x),Sc(a,s),tn(a,s,p,c),s.child;case 6:return a===null&&Ge&&((a=c=ft)&&(c=mj(c,s.pendingProps,tr),c!==null?(s.stateNode=c,Zt=s,ft=null,a=!0):a=!1),a||Ui(s)),null;case 13:return a_(a,s,c);case 4:return De(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ia(s,null,p,c):tn(a,s,p,c),s.child;case 11:return Jw(a,s,s.type,s.pendingProps,c);case 7:return tn(a,s,s.pendingProps,c),s.child;case 8:return tn(a,s,s.pendingProps.children,c),s.child;case 12:return tn(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Bi(s,s.type,p.value),tn(a,s,p.children,c),s.child;case 9:return x=s.type._context,p=s.pendingProps.children,Na(s),x=en(x),p=p(x),s.flags|=1,tn(a,s,p,c),s.child;case 14:return Xw(a,s,s.type,s.pendingProps,c);case 15:return Qw(a,s,s.type,s.pendingProps,c);case 19:return s_(a,s,c);case 31:return L2(a,s,c);case 22:return Zw(a,s,c,s.pendingProps);case 24:return Na(s),p=en(Nt),a===null?(x=lp(),x===null&&(x=lt,_=op(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=c),x=_),s.memoizedState={parent:p,cache:x},cp(s),Bi(s,Nt,x)):((a.lanes&c)!==0&&(dp(a,s),gl(s,null,null,c),ml()),x=a.memoizedState,_=s.memoizedState,x.parent!==p?(x={parent:p,cache:p},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),Bi(s,Nt,p)):(p=_.cache,Bi(s,Nt,p),p!==x.cache&&ap(s,[Nt],c,!0))),tn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ti(a){a.flags|=4}function Vp(a,s,c,p,x){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(D_())a.flags|=8192;else throw Ra=lc,up}else a.flags&=-16777217}function u_(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ES(s))if(D_())a.flags|=8192;else throw Ra=lc,up}function Tc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?$0():536870912,a.lanes|=s,Vo|=s)}function _l(a,s){if(!Ge)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ht(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var x=a.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function B2(a,s,c){var p=s.pendingProps;switch(ep(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Xr(Nt),te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Mo(s)?ti(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,np())),ht(s),null;case 26:var x=s.type,_=s.memoizedState;return a===null?(ti(s),_!==null?(ht(s),u_(s,_)):(ht(s),Vp(s,x,null,p,c))):_?_!==a.memoizedState?(ti(s),ht(s),u_(s,_)):(ht(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&ti(s),ht(s),Vp(s,x,a,p,c)),null;case 27:if(Ne(s),c=pe.current,x=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ti(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ht(s),null}a=W.current,Mo(s)?$x(s):(a=gS(x,p,c),s.stateNode=a,ti(s))}return ht(s),null;case 5:if(Ne(s),x=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ti(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(_=W.current,Mo(s))$x(s);else{var C=qc(pe.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?C.createElement(x,{is:p.is}):C.createElement(x)}}_[Qt]=s,_[xn]=p;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=_;e:switch(nn(_,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ti(s)}}return ht(s),Vp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&ti(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=pe.current,Mo(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,x=Zt,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}a[Qt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||aS(a.nodeValue,c)),a||Ui(s,!0)}else a=qc(a).createTextNode(p),a[Qt]=s,s.stateNode=a}return ht(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=Mo(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Qt]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),a=!1}else c=np(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Dn(s),s):(Dn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Mo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Qt]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),x=!1}else x=np(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(Dn(s),s):(Dn(s),null)}return Dn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==x&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Tc(s,s.updateQueue),ht(s),null);case 4:return te(),a===null&&pm(s.stateNode.containerInfo),ht(s),null;case 10:return Xr(s.type),ht(s),null;case 19:if(Y(Et),p=s.memoizedState,p===null)return ht(s),null;if(x=(s.flags&128)!==0,_=p.rendering,_===null)if(x)_l(p,!1);else{if(wt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=fc(a),_!==null){for(s.flags|=128,_l(p,!1),a=_.updateQueue,s.updateQueue=a,Tc(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Lx(c,a),c=c.sibling;return oe(Et,Et.current&1|2),Ge&&Wr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&Lt()>Pc&&(s.flags|=128,x=!0,_l(p,!1),s.lanes=4194304)}else{if(!x)if(a=fc(_),a!==null){if(s.flags|=128,x=!0,a=a.updateQueue,s.updateQueue=a,Tc(s,a),_l(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ge)return ht(s),null}else 2*Lt()-p.renderingStartTime>Pc&&c!==536870912&&(s.flags|=128,x=!0,_l(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Lt(),a.sibling=null,c=Et.current,oe(Et,x?c&1|2:c&1),Ge&&Wr(s,p.treeForkCount),a):(ht(s),null);case 22:case 23:return Dn(s),mp(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),c=s.updateQueue,c!==null&&Tc(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&Y(ka),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Xr(Nt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function q2(a,s){switch(ep(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Xr(Nt),te(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(Dn(s),s.alternate===null)throw Error(r(340));Aa()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Dn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Aa()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Y(Et),null;case 4:return te(),null;case 10:return Xr(s.type),null;case 22:case 23:return Dn(s),mp(),a!==null&&Y(ka),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Xr(Nt),null;case 25:return null;default:return null}}function c_(a,s){switch(ep(s),s.tag){case 3:Xr(Nt),te();break;case 26:case 27:case 5:Ne(s);break;case 4:te();break;case 31:s.memoizedState!==null&&Dn(s);break;case 13:Dn(s);break;case 19:Y(Et);break;case 10:Xr(s.type);break;case 22:case 23:Dn(s),mp(),a!==null&&Y(ka);break;case 24:Xr(Nt)}}function Sl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&a)===a){p=void 0;var _=c.create,C=c.inst;p=_(),C.destroy=p}c=c.next}while(c!==x)}}catch(M){et(s,s.return,M)}}function Fi(a,s,c){try{var p=s.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var _=x.next;p=_;do{if((p.tag&a)===a){var C=p.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,x=s;var U=c,X=M;try{X()}catch(re){et(x,U,re)}}}p=p.next}while(p!==_)}}catch(re){et(s,s.return,re)}}function d_(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{tw(s,c)}catch(p){et(a,a.return,p)}}}function f_(a,s,c){c.props=Oa(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){et(a,s,p)}}function El(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(x){et(a,s,x)}}function Mr(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(x){et(a,s,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){et(a,s,x)}else c.current=null}function h_(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(x){et(a,a.return,x)}}function Kp(a,s,c){try{var p=a.stateNode;lj(p,a.type,c,s),p[xn]=s}catch(x){et(a,a.return,x)}}function p_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qi(a.type)||a.tag===4}function Yp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||p_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wp(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Vr));else if(p!==4&&(p===27&&Qi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Wp(a,s,c),a=a.sibling;a!==null;)Wp(a,s,c),a=a.sibling}function Ac(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&Qi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ac(a,s,c),a=a.sibling;a!==null;)Ac(a,s,c),a=a.sibling}function m_(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);nn(s,p,c),s[Qt]=a,s[xn]=c}catch(_){et(a,a.return,_)}}var ni=!1,Rt=!1,Jp=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function z2(a,s){if(a=a.containerInfo,ym=Kc,a=Nx(a),Hh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var C=0,M=-1,U=-1,X=0,re=0,le=a,Q=null;t:for(;;){for(var ee;le!==c||x!==0&&le.nodeType!==3||(M=C+x),le!==_||p!==0&&le.nodeType!==3||(U=C+p),le.nodeType===3&&(C+=le.nodeValue.length),(ee=le.firstChild)!==null;)Q=le,le=ee;for(;;){if(le===a)break t;if(Q===c&&++X===x&&(M=C),Q===_&&++re===p&&(U=C),(ee=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=ee}c=M===-1||U===-1?null:{start:M,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(vm={focusedElem:a,selectionRange:c},Kc=!1,Yt=s;Yt!==null;)if(s=Yt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Yt=a;else for(;Yt!==null;){switch(s=Yt,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)x=a[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=s,x=_.memoizedProps,_=_.memoizedState,p=c.stateNode;try{var xe=Oa(c.type,x);a=p.getSnapshotBeforeUpdate(xe,_),p.__reactInternalSnapshotBeforeUpdate=a}catch(Re){et(c,c.return,Re)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)wm(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Yt=a;break}Yt=s.return}}function y_(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:ii(a,c),p&4&&Sl(5,c);break;case 1:if(ii(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(C){et(c,c.return,C)}else{var x=Oa(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(x,s,a.__reactInternalSnapshotBeforeUpdate)}catch(C){et(c,c.return,C)}}p&64&&d_(c),p&512&&El(c,c.return);break;case 3:if(ii(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{tw(a,s)}catch(C){et(c,c.return,C)}}break;case 27:s===null&&p&4&&m_(c);case 26:case 5:ii(a,c),s===null&&p&4&&h_(c),p&512&&El(c,c.return);break;case 12:ii(a,c);break;case 31:ii(a,c),p&4&&x_(a,c);break;case 13:ii(a,c),p&4&&w_(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=J2.bind(null,c),gj(a,c))));break;case 22:if(p=c.memoizedState!==null||ni,!p){s=s!==null&&s.memoizedState!==null||Rt,x=ni;var _=Rt;ni=p,(Rt=s)&&!_?ai(a,c,(c.subtreeFlags&8772)!==0):ii(a,c),ni=x,Rt=_}break;case 30:break;default:ii(a,c)}}function v_(a){var s=a.alternate;s!==null&&(a.alternate=null,v_(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ah(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gt=null,_n=!1;function ri(a,s,c){for(c=c.child;c!==null;)b_(a,s,c),c=c.sibling}function b_(a,s,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Gr,c)}catch{}switch(c.tag){case 26:Rt||Mr(c,s),ri(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||Mr(c,s);var p=gt,x=_n;Qi(c.type)&&(gt=c.stateNode,_n=!1),ri(a,s,c),Ml(c.stateNode),gt=p,_n=x;break;case 5:Rt||Mr(c,s);case 6:if(p=gt,x=_n,gt=null,ri(a,s,c),gt=p,_n=x,gt!==null)if(_n)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(c.stateNode)}catch(_){et(c,s,_)}else try{gt.removeChild(c.stateNode)}catch(_){et(c,s,_)}break;case 18:gt!==null&&(_n?(a=gt,dS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),es(a)):dS(gt,c.stateNode));break;case 4:p=gt,x=_n,gt=c.stateNode.containerInfo,_n=!0,ri(a,s,c),gt=p,_n=x;break;case 0:case 11:case 14:case 15:Fi(2,c,s),Rt||Fi(4,c,s),ri(a,s,c);break;case 1:Rt||(Mr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&f_(c,s,p)),ri(a,s,c);break;case 21:ri(a,s,c);break;case 22:Rt=(p=Rt)||c.memoizedState!==null,ri(a,s,c),Rt=p;break;default:ri(a,s,c)}}function x_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{es(a)}catch(c){et(s,s.return,c)}}}function w_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{es(a)}catch(c){et(s,s.return,c)}}function $2(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new g_),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new g_),s;default:throw Error(r(435,a.tag))}}function Cc(a,s){var c=$2(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var x=X2.bind(null,a,p);p.then(x,x)}})}function Sn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p],_=a,C=s,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(Qi(M.type)){gt=M.stateNode,_n=!1;break e}break;case 5:gt=M.stateNode,_n=!1;break e;case 3:case 4:gt=M.stateNode.containerInfo,_n=!0;break e}M=M.return}if(gt===null)throw Error(r(160));b_(_,C,x),gt=null,_n=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)__(s,a),s=s.sibling}var xr=null;function __(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Sn(s,a),En(a),p&4&&(Fi(3,a,a.return),Sl(3,a),Fi(5,a,a.return));break;case 1:Sn(s,a),En(a),p&512&&(Rt||c===null||Mr(c,c.return)),p&64&&ni&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var x=xr;if(Sn(s,a),En(a),p&512&&(Rt||c===null||Mr(c,c.return)),p&4){var _=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":_=x.getElementsByTagName("title")[0],(!_||_[Xs]||_[Qt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(p),x.head.insertBefore(_,x.querySelector("head > title"))),nn(_,p,c),_[Qt]=a,Kt(_),p=_;break e;case"link":var C=_S("link","href",x).get(p+(c.href||""));if(C){for(var M=0;M<C.length;M++)if(_=C[M],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(M,1);break t}}_=x.createElement(p),nn(_,p,c),x.head.appendChild(_);break;case"meta":if(C=_S("meta","content",x).get(p+(c.content||""))){for(M=0;M<C.length;M++)if(_=C[M],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(M,1);break t}}_=x.createElement(p),nn(_,p,c),x.head.appendChild(_);break;default:throw Error(r(468,p))}_[Qt]=a,Kt(_),p=_}a.stateNode=p}else SS(x,a.type,a.stateNode);else a.stateNode=wS(x,p,a.memoizedProps);else _!==p?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,p===null?SS(x,a.type,a.stateNode):wS(x,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Kp(a,a.memoizedProps,c.memoizedProps)}break;case 27:Sn(s,a),En(a),p&512&&(Rt||c===null||Mr(c,c.return)),c!==null&&p&4&&Kp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Sn(s,a),En(a),p&512&&(Rt||c===null||Mr(c,c.return)),a.flags&32){x=a.stateNode;try{So(x,"")}catch(xe){et(a,a.return,xe)}}p&4&&a.stateNode!=null&&(x=a.memoizedProps,Kp(a,x,c!==null?c.memoizedProps:x)),p&1024&&(Jp=!0);break;case 6:if(Sn(s,a),En(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(xe){et(a,a.return,xe)}}break;case 3:if(Hc=null,x=xr,xr=zc(s.containerInfo),Sn(s,a),xr=x,En(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{es(s.containerInfo)}catch(xe){et(a,a.return,xe)}Jp&&(Jp=!1,S_(a));break;case 4:p=xr,xr=zc(a.stateNode.containerInfo),Sn(s,a),En(a),xr=p;break;case 12:Sn(s,a),En(a);break;case 31:Sn(s,a),En(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Cc(a,p)));break;case 13:Sn(s,a),En(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(kc=Lt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Cc(a,p)));break;case 22:x=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,X=ni,re=Rt;if(ni=X||x,Rt=re||U,Sn(s,a),Rt=re,ni=X,En(a),p&8192)e:for(s=a.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(c===null||U||ni||Rt||Da(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(_=U.stateNode,x)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=U.stateNode;var le=U.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;M.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(xe){et(U,U.return,xe)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=x?"":U.memoizedProps}catch(xe){et(U,U.return,xe)}}}else if(s.tag===18){if(c===null){U=s;try{var ee=U.stateNode;x?fS(ee,!0):fS(U.stateNode,!1)}catch(xe){et(U,U.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Cc(a,c))));break;case 19:Sn(s,a),En(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Cc(a,p)));break;case 30:break;case 21:break;default:Sn(s,a),En(a)}}function En(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(p_(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var x=c.stateNode,_=Yp(a);Ac(a,_,x);break;case 5:var C=c.stateNode;c.flags&32&&(So(C,""),c.flags&=-33);var M=Yp(a);Ac(a,M,C);break;case 3:case 4:var U=c.stateNode.containerInfo,X=Yp(a);Wp(a,X,U);break;default:throw Error(r(161))}}catch(re){et(a,a.return,re)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function S_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;S_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ii(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y_(a,s.alternate,s),s=s.sibling}function Da(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Fi(4,s,s.return),Da(s);break;case 1:Mr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&f_(s,s.return,c),Da(s);break;case 27:Ml(s.stateNode);case 26:case 5:Mr(s,s.return),Da(s);break;case 22:s.memoizedState===null&&Da(s);break;case 30:Da(s);break;default:Da(s)}a=a.sibling}}function ai(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,x=a,_=s,C=_.flags;switch(_.tag){case 0:case 11:case 15:ai(x,_,c),Sl(4,_);break;case 1:if(ai(x,_,c),p=_,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(X){et(p,p.return,X)}if(p=_,x=p.updateQueue,x!==null){var M=p.stateNode;try{var U=x.shared.hiddenCallbacks;if(U!==null)for(x.shared.hiddenCallbacks=null,x=0;x<U.length;x++)ew(U[x],M)}catch(X){et(p,p.return,X)}}c&&C&64&&d_(_),El(_,_.return);break;case 27:m_(_);case 26:case 5:ai(x,_,c),c&&p===null&&C&4&&h_(_),El(_,_.return);break;case 12:ai(x,_,c);break;case 31:ai(x,_,c),c&&C&4&&x_(x,_);break;case 13:ai(x,_,c),c&&C&4&&w_(x,_);break;case 22:_.memoizedState===null&&ai(x,_,c),El(_,_.return);break;case 30:break;default:ai(x,_,c)}s=s.sibling}}function Xp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&cl(c))}function Qp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a))}function wr(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E_(a,s,c,p),s=s.sibling}function E_(a,s,c,p){var x=s.flags;switch(s.tag){case 0:case 11:case 15:wr(a,s,c,p),x&2048&&Sl(9,s);break;case 1:wr(a,s,c,p);break;case 3:wr(a,s,c,p),x&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a)));break;case 12:if(x&2048){wr(a,s,c,p),a=s.stateNode;try{var _=s.memoizedProps,C=_.id,M=_.onPostCommit;typeof M=="function"&&M(C,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){et(s,s.return,U)}}else wr(a,s,c,p);break;case 31:wr(a,s,c,p);break;case 13:wr(a,s,c,p);break;case 23:break;case 22:_=s.stateNode,C=s.alternate,s.memoizedState!==null?_._visibility&2?wr(a,s,c,p):Tl(a,s):_._visibility&2?wr(a,s,c,p):(_._visibility|=2,Ho(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),x&2048&&Xp(C,s);break;case 24:wr(a,s,c,p),x&2048&&Qp(s.alternate,s);break;default:wr(a,s,c,p)}}function Ho(a,s,c,p,x){for(x=x&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,C=s,M=c,U=p,X=C.flags;switch(C.tag){case 0:case 11:case 15:Ho(_,C,M,U,x),Sl(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?Ho(_,C,M,U,x):Tl(_,C):(re._visibility|=2,Ho(_,C,M,U,x)),x&&X&2048&&Xp(C.alternate,C);break;case 24:Ho(_,C,M,U,x),x&&X&2048&&Qp(C.alternate,C);break;default:Ho(_,C,M,U,x)}s=s.sibling}}function Tl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,x=p.flags;switch(p.tag){case 22:Tl(c,p),x&2048&&Xp(p.alternate,p);break;case 24:Tl(c,p),x&2048&&Qp(p.alternate,p);break;default:Tl(c,p)}s=s.sibling}}var Al=8192;function Go(a,s,c){if(a.subtreeFlags&Al)for(a=a.child;a!==null;)T_(a,s,c),a=a.sibling}function T_(a,s,c){switch(a.tag){case 26:Go(a,s,c),a.flags&Al&&a.memoizedState!==null&&Nj(c,xr,a.memoizedState,a.memoizedProps);break;case 5:Go(a,s,c);break;case 3:case 4:var p=xr;xr=zc(a.stateNode.containerInfo),Go(a,s,c),xr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Al,Al=16777216,Go(a,s,c),Al=p):Go(a,s,c));break;default:Go(a,s,c)}}function A_(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Cl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Yt=p,N_(p,a)}A_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)C_(a),a=a.sibling}function C_(a){switch(a.tag){case 0:case 11:case 15:Cl(a),a.flags&2048&&Fi(9,a,a.return);break;case 3:Cl(a);break;case 12:Cl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Nc(a)):Cl(a);break;default:Cl(a)}}function Nc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Yt=p,N_(p,a)}A_(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Fi(8,s,s.return),Nc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Nc(s));break;default:Nc(s)}a=a.sibling}}function N_(a,s){for(;Yt!==null;){var c=Yt;switch(c.tag){case 0:case 11:case 15:Fi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:cl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Yt=p;else e:for(c=a;Yt!==null;){p=Yt;var x=p.sibling,_=p.return;if(v_(p),p===c){Yt=null;break e}if(x!==null){x.return=_,Yt=x;break e}Yt=_}}}var H2={getCacheForType:function(a){var s=en(Nt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return en(Nt).controller.signal}},G2=typeof WeakMap=="function"?WeakMap:Map,Qe=0,lt=null,qe=null,$e=0,Ze=0,jn=null,Vi=!1,Fo=!1,Zp=!1,oi=0,wt=0,Ki=0,ja=0,em=0,Ln=0,Vo=0,Nl=null,Tn=null,tm=!1,kc=0,k_=0,Pc=1/0,Rc=null,Yi=null,Ut=0,Wi=null,Ko=null,si=0,nm=0,rm=null,P_=null,kl=0,im=null;function Un(){return(Qe&2)!==0&&$e!==0?$e&-$e:z.T!==null?cm():V0()}function R_(){if(Ln===0)if(($e&536870912)===0||Ge){var a=Bu;Bu<<=1,(Bu&3932160)===0&&(Bu=262144),Ln=a}else Ln=536870912;return a=On.current,a!==null&&(a.flags|=32),Ln}function An(a,s,c){(a===lt&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)&&(Yo(a,0),Ji(a,$e,Ln,!1)),Js(a,c),((Qe&2)===0||a!==lt)&&(a===lt&&((Qe&2)===0&&(ja|=c),wt===4&&Ji(a,$e,Ln,!1)),Or(a))}function I_(a,s,c){if((Qe&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Ws(a,s),x=p?K2(a,s):om(a,s,!0),_=p;do{if(x===0){Fo&&!p&&Ji(a,s,0,!1);break}else{if(c=a.current.alternate,_&&!F2(c)){x=om(a,s,!1),_=!1;continue}if(x===2){if(_=s,a.errorRecoveryDisabledLanes&_)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var M=a;x=Nl;var U=M.current.memoizedState.isDehydrated;if(U&&(Yo(M,C).flags|=256),C=om(M,C,!1),C!==2){if(Zp&&!U){M.errorRecoveryDisabledLanes|=_,ja|=_,x=4;break e}_=Tn,Tn=x,_!==null&&(Tn===null?Tn=_:Tn.push.apply(Tn,_))}x=C}if(_=!1,x!==2)continue}}if(x===1){Yo(a,0),Ji(a,s,0,!0);break}e:{switch(p=a,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ji(p,s,Ln,!Vi);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=kc+300-Lt(),10<x)){if(Ji(p,s,Ln,!Vi),zu(p,0,!0)!==0)break e;si=s,p.timeoutHandle=uS(M_.bind(null,p,c,Tn,Rc,tm,s,Ln,ja,Vo,Vi,_,"Throttled",-0,0),x);break e}M_(p,c,Tn,Rc,tm,s,Ln,ja,Vo,Vi,_,null,-0,0)}}break}while(!0);Or(a)}function M_(a,s,c,p,x,_,C,M,U,X,re,le,Q,ee){if(a.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vr},T_(s,_,le);var xe=(_&62914560)===_?kc-Lt():(_&4194048)===_?k_-Lt():0;if(xe=kj(le,xe),xe!==null){si=_,a.cancelPendingCommit=xe(z_.bind(null,a,s,_,c,p,x,C,M,U,re,le,null,Q,ee)),Ji(a,_,C,!X);return}}z_(a,s,_,c,p,x,C,M,U)}function F2(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var x=c[p],_=x.getSnapshot;x=x.value;try{if(!In(_(),x))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ji(a,s,c,p){s&=~em,s&=~ja,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var x=s;0<x;){var _=31-Rn(x),C=1<<_;p[_]=-1,x&=~C}c!==0&&H0(a,c,s)}function Ic(){return(Qe&6)===0?(Pl(0),!1):!0}function am(){if(qe!==null){if(Ze===0)var a=qe.return;else a=qe,Jr=Ca=null,wp(a),Uo=null,fl=0,a=qe;for(;a!==null;)c_(a.alternate,a),a=a.return;qe=null}}function Yo(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,dj(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),si=0,am(),lt=a,qe=c=Yr(a.current,null),$e=s,Ze=0,jn=null,Vi=!1,Fo=Ws(a,s),Zp=!1,Vo=Ln=em=ja=Ki=wt=0,Tn=Nl=null,tm=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var x=31-Rn(p),_=1<<x;s|=a[x],p&=~_}return oi=s,Zu(),c}function O_(a,s){Le=null,z.H=xl,s===Lo||s===sc?(s=Jx(),Ze=3):s===up?(s=Jx(),Ze=4):Ze=s===Lp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,qe===null&&(wt=1,wc(a,Qn(s,a.current)))}function D_(){var a=On.current;return a===null?!0:($e&4194048)===$e?nr===null:($e&62914560)===$e||($e&536870912)!==0?a===nr:!1}function j_(){var a=z.H;return z.H=xl,a===null?xl:a}function L_(){var a=z.A;return z.A=H2,a}function Mc(){wt=4,Vi||($e&4194048)!==$e&&On.current!==null||(Fo=!0),(Ki&134217727)===0&&(ja&134217727)===0||lt===null||Ji(lt,$e,Ln,!1)}function om(a,s,c){var p=Qe;Qe|=2;var x=j_(),_=L_();(lt!==a||$e!==s)&&(Rc=null,Yo(a,s)),s=!1;var C=wt;e:do try{if(Ze!==0&&qe!==null){var M=qe,U=jn;switch(Ze){case 8:am(),C=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var X=Ze;if(Ze=0,jn=null,Wo(a,M,U,X),c&&Fo){C=0;break e}break;default:X=Ze,Ze=0,jn=null,Wo(a,M,U,X)}}V2(),C=wt;break}catch(re){O_(a,re)}while(!0);return s&&a.shellSuspendCounter++,Jr=Ca=null,Qe=p,z.H=x,z.A=_,qe===null&&(lt=null,$e=0,Zu()),C}function V2(){for(;qe!==null;)U_(qe)}function K2(a,s){var c=Qe;Qe|=2;var p=j_(),x=L_();lt!==a||$e!==s?(Rc=null,Pc=Lt()+500,Yo(a,s)):Fo=Ws(a,s);e:do try{if(Ze!==0&&qe!==null){s=qe;var _=jn;t:switch(Ze){case 1:Ze=0,jn=null,Wo(a,s,_,1);break;case 2:case 9:if(Yx(_)){Ze=0,jn=null,B_(s);break}s=function(){Ze!==2&&Ze!==9||lt!==a||(Ze=7),Or(a)},_.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Yx(_)?(Ze=0,jn=null,B_(s)):(Ze=0,jn=null,Wo(a,s,_,7));break;case 5:var C=null;switch(qe.tag){case 26:C=qe.memoizedState;case 5:case 27:var M=qe;if(C?ES(C):M.stateNode.complete){Ze=0,jn=null;var U=M.sibling;if(U!==null)qe=U;else{var X=M.return;X!==null?(qe=X,Oc(X)):qe=null}break t}}Ze=0,jn=null,Wo(a,s,_,5);break;case 6:Ze=0,jn=null,Wo(a,s,_,6);break;case 8:am(),wt=6;break e;default:throw Error(r(462))}}Y2();break}catch(re){O_(a,re)}while(!0);return Jr=Ca=null,z.H=p,z.A=x,Qe=c,qe!==null?0:(lt=null,$e=0,Zu(),wt)}function Y2(){for(;qe!==null&&!St();)U_(qe)}function U_(a){var s=l_(a.alternate,a,oi);a.memoizedProps=a.pendingProps,s===null?Oc(a):qe=s}function B_(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=n_(c,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=n_(c,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:wp(s);default:c_(c,s),s=qe=Lx(s,oi),s=l_(c,s,oi)}a.memoizedProps=a.pendingProps,s===null?Oc(a):qe=s}function Wo(a,s,c,p){Jr=Ca=null,wp(s),Uo=null,fl=0;var x=s.return;try{if(j2(a,x,s,c,$e)){wt=1,wc(a,Qn(c,a.current)),qe=null;return}}catch(_){if(x!==null)throw qe=x,_;wt=1,wc(a,Qn(c,a.current)),qe=null;return}s.flags&32768?(Ge||p===1?a=!0:Fo||($e&536870912)!==0?a=!1:(Vi=a=!0,(p===2||p===9||p===3||p===6)&&(p=On.current,p!==null&&p.tag===13&&(p.flags|=16384))),q_(s,a)):Oc(s)}function Oc(a){var s=a;do{if((s.flags&32768)!==0){q_(s,Vi);return}a=s.return;var c=B2(s.alternate,s,oi);if(c!==null){qe=c;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=a}while(s!==null);wt===0&&(wt=5)}function q_(a,s){do{var c=q2(a.alternate,a);if(c!==null){c.flags&=32767,qe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){qe=a;return}qe=a=c}while(a!==null);wt=6,qe=null}function z_(a,s,c,p,x,_,C,M,U){a.cancelPendingCommit=null;do Dc();while(Ut!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Yh,CD(a,c,_,C,M,U),a===lt&&(qe=lt=null,$e=0),Ko=s,Wi=a,si=c,nm=_,rm=x,P_=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q2(Ii,function(){return V_(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=z.T,z.T=null,x=Z.p,Z.p=2,C=Qe,Qe|=4;try{z2(a,s,c)}finally{Qe=C,Z.p=x,z.T=p}}Ut=1,$_(),H_(),G_()}}function $_(){if(Ut===1){Ut=0;var a=Wi,s=Ko,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var p=Z.p;Z.p=2;var x=Qe;Qe|=4;try{__(s,a);var _=vm,C=Nx(a.containerInfo),M=_.focusedElem,U=_.selectionRange;if(C!==M&&M&&M.ownerDocument&&Cx(M.ownerDocument.documentElement,M)){if(U!==null&&Hh(M)){var X=U.start,re=U.end;if(re===void 0&&(re=X),"selectionStart"in M)M.selectionStart=X,M.selectionEnd=Math.min(re,M.value.length);else{var le=M.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var ee=Q.getSelection(),xe=M.textContent.length,Re=Math.min(U.start,xe),at=U.end===void 0?Re:Math.min(U.end,xe);!ee.extend&&Re>at&&(C=at,at=Re,Re=C);var V=Ax(M,Re),B=Ax(M,at);if(V&&B&&(ee.rangeCount!==1||ee.anchorNode!==V.node||ee.anchorOffset!==V.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var J=le.createRange();J.setStart(V.node,V.offset),ee.removeAllRanges(),Re>at?(ee.addRange(J),ee.extend(B.node,B.offset)):(J.setEnd(B.node,B.offset),ee.addRange(J))}}}}for(le=[],ee=M;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<le.length;M++){var ae=le[M];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Kc=!!ym,vm=ym=null}finally{Qe=x,Z.p=p,z.T=c}}a.current=s,Ut=2}}function H_(){if(Ut===2){Ut=0;var a=Wi,s=Ko,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var p=Z.p;Z.p=2;var x=Qe;Qe|=4;try{y_(a,s.alternate,s)}finally{Qe=x,Z.p=p,z.T=c}}Ut=3}}function G_(){if(Ut===4||Ut===3){Ut=0,Hr();var a=Wi,s=Ko,c=si,p=P_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,Ko=Wi=null,F_(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(Yi=null),Eh(c),s=s.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Gr,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=z.T,x=Z.p,Z.p=2,z.T=null;try{for(var _=a.onRecoverableError,C=0;C<p.length;C++){var M=p[C];_(M.value,{componentStack:M.stack})}}finally{z.T=s,Z.p=x}}(si&3)!==0&&Dc(),Or(a),x=a.pendingLanes,(c&261930)!==0&&(x&42)!==0?a===im?kl++:(kl=0,im=a):kl=0,Pl(0)}}function F_(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,cl(s)))}function Dc(){return $_(),H_(),G_(),V_()}function V_(){if(Ut!==5)return!1;var a=Wi,s=nm;nm=0;var c=Eh(si),p=z.T,x=Z.p;try{Z.p=32>c?32:c,z.T=null,c=rm,rm=null;var _=Wi,C=si;if(Ut=0,Ko=Wi=null,si=0,(Qe&6)!==0)throw Error(r(331));var M=Qe;if(Qe|=4,C_(_.current),E_(_,_.current,C,c),Qe=M,Pl(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Gr,_)}catch{}return!0}finally{Z.p=x,z.T=p,F_(a,s)}}function K_(a,s,c){s=Qn(c,s),s=jp(a.stateNode,s,2),a=$i(a,s,2),a!==null&&(Js(a,2),Or(a))}function et(a,s,c){if(a.tag===3)K_(a,a,c);else for(;s!==null;){if(s.tag===3){K_(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))){a=Qn(c,a),c=Yw(2),p=$i(s,c,2),p!==null&&(Ww(c,p,s,a),Js(p,2),Or(p));break}}s=s.return}}function sm(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new G2;var x=new Set;p.set(s,x)}else x=p.get(s),x===void 0&&(x=new Set,p.set(s,x));x.has(c)||(Zp=!0,x.add(c),a=W2.bind(null,a,s,c),s.then(a,a))}function W2(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,lt===a&&($e&c)===c&&(wt===4||wt===3&&($e&62914560)===$e&&300>Lt()-kc?(Qe&2)===0&&Yo(a,0):em|=c,Vo===$e&&(Vo=0)),Or(a)}function Y_(a,s){s===0&&(s=$0()),a=Ea(a,s),a!==null&&(Js(a,s),Or(a))}function J2(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),Y_(a,c)}function X2(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,x=a.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Y_(a,c)}function Q2(a,s){return Pe(a,s)}var jc=null,Jo=null,lm=!1,Lc=!1,um=!1,Xi=0;function Or(a){a!==Jo&&a.next===null&&(Jo===null?jc=Jo=a:Jo=Jo.next=a),Lc=!0,lm||(lm=!0,ej())}function Pl(a,s){if(!um&&Lc){um=!0;do for(var c=!1,p=jc;p!==null;){if(a!==0){var x=p.pendingLanes;if(x===0)var _=0;else{var C=p.suspendedLanes,M=p.pingedLanes;_=(1<<31-Rn(42|a)+1)-1,_&=x&~(C&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Q_(p,_))}else _=$e,_=zu(p,p===lt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Ws(p,_)||(c=!0,Q_(p,_));p=p.next}while(c);um=!1}}function Z2(){W_()}function W_(){Lc=lm=!1;var a=0;Xi!==0&&cj()&&(a=Xi);for(var s=Lt(),c=null,p=jc;p!==null;){var x=p.next,_=J_(p,s);_===0?(p.next=null,c===null?jc=x:c.next=x,x===null&&(Jo=c)):(c=p,(a!==0||(_&3)!==0)&&(Lc=!0)),p=x}Ut!==0&&Ut!==5||Pl(a),Xi!==0&&(Xi=0)}function J_(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,x=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var C=31-Rn(_),M=1<<C,U=x[C];U===-1?((M&c)===0||(M&p)!==0)&&(x[C]=AD(M,s)):U<=s&&(a.expiredLanes|=M),_&=~M}if(s=lt,c=$e,c=zu(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ws(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&Ve(p),Eh(c)){case 2:case 8:c=mo;break;case 32:c=Ii;break;case 268435456:c=go;break;default:c=Ii}return p=X_.bind(null,a),c=Pe(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&Ve(p),a.callbackPriority=2,a.callbackNode=null,2}function X_(a,s){if(Ut!==0&&Ut!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Dc()&&a.callbackNode!==c)return null;var p=$e;return p=zu(a,a===lt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(I_(a,p,s),J_(a,Lt()),a.callbackNode!=null&&a.callbackNode===c?X_.bind(null,a):null)}function Q_(a,s){if(Dc())return null;I_(a,s,!0)}function ej(){fj(function(){(Qe&6)!==0?Pe(po,Z2):W_()})}function cm(){if(Xi===0){var a=Do;a===0&&(a=Uu,Uu<<=1,(Uu&261888)===0&&(Uu=256)),Xi=a}return Xi}function Z_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fu(""+a)}function eS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function tj(a,s,c,p,x){if(s==="submit"&&c&&c.stateNode===x){var _=Z_((x[xn]||null).action),C=p.submitter;C&&(s=(s=C[xn]||null)?Z_(s.formAction):C.getAttribute("formAction"),s!==null&&(_=s,C=null));var M=new Wu("action","action",null,p,x);a.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Xi!==0){var U=C?eS(x,C):new FormData(x);Pp(c,{pending:!0,data:U,method:x.method,action:_},null,U)}}else typeof _=="function"&&(M.preventDefault(),U=C?eS(x,C):new FormData(x),Pp(c,{pending:!0,data:U,method:x.method,action:_},_,U))},currentTarget:x}]})}}for(var dm=0;dm<Kh.length;dm++){var fm=Kh[dm],nj=fm.toLowerCase(),rj=fm[0].toUpperCase()+fm.slice(1);br(nj,"on"+rj)}br(Rx,"onAnimationEnd"),br(Ix,"onAnimationIteration"),br(Mx,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(b2,"onTransitionRun"),br(x2,"onTransitionStart"),br(w2,"onTransitionCancel"),br(Ox,"onTransitionEnd"),wo("onMouseEnter",["mouseout","mouseover"]),wo("onMouseLeave",["mouseout","mouseover"]),wo("onPointerEnter",["pointerout","pointerover"]),wo("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ij=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function tS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],x=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var C=p.length-1;0<=C;C--){var M=p[C],U=M.instance,X=M.currentTarget;if(M=M.listener,U!==_&&x.isPropagationStopped())break e;_=M,x.currentTarget=X;try{_(x)}catch(re){Qu(re)}x.currentTarget=null,_=U}else for(C=0;C<p.length;C++){if(M=p[C],U=M.instance,X=M.currentTarget,M=M.listener,U!==_&&x.isPropagationStopped())break e;_=M,x.currentTarget=X;try{_(x)}catch(re){Qu(re)}x.currentTarget=null,_=U}}}}function ze(a,s){var c=s[Th];c===void 0&&(c=s[Th]=new Set);var p=a+"__bubble";c.has(p)||(nS(s,a,2,!1),c.add(p))}function hm(a,s,c){var p=0;s&&(p|=4),nS(c,a,p,s)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function pm(a){if(!a[Uc]){a[Uc]=!0,W0.forEach(function(c){c!=="selectionchange"&&(ij.has(c)||hm(c,!1,a),hm(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Uc]||(s[Uc]=!0,hm("selectionchange",!1,s))}}function nS(a,s,c,p){switch(RS(s)){case 2:var x=Ij;break;case 8:x=Mj;break;default:x=km}c=x.bind(null,s,c,a),x=void 0,!Oh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),p?x!==void 0?a.addEventListener(s,c,{capture:!0,passive:x}):a.addEventListener(s,c,!0):x!==void 0?a.addEventListener(s,c,{passive:x}):a.addEventListener(s,c,!1)}function mm(a,s,c,p,x){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var M=p.stateNode.containerInfo;if(M===x)break;if(C===4)for(C=p.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;M!==null;){if(C=vo(M),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){p=_=C;continue e}M=M.parentNode}}p=p.return}sx(function(){var X=_,re=Ih(c),le=[];e:{var Q=Dx.get(a);if(Q!==void 0){var ee=Wu,xe=a;switch(a){case"keypress":if(Ku(c)===0)break e;case"keydown":case"keyup":ee=XD;break;case"focusin":xe="focus",ee=Uh;break;case"focusout":xe="blur",ee=Uh;break;case"beforeblur":case"afterblur":ee=Uh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=BD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=e2;break;case Rx:case Ix:case Mx:ee=$D;break;case Ox:ee=n2;break;case"scroll":case"scrollend":ee=LD;break;case"wheel":ee=i2;break;case"copy":case"cut":case"paste":ee=GD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=fx;break;case"toggle":case"beforetoggle":ee=o2}var Re=(s&4)!==0,at=!Re&&(a==="scroll"||a==="scrollend"),V=Re?Q!==null?Q+"Capture":null:Q;Re=[];for(var B=X,J;B!==null;){var ae=B;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||V===null||(ae=Zs(B,V),ae!=null&&Re.push(Il(B,ae,J))),at)break;B=B.return}0<Re.length&&(Q=new ee(Q,xe,null,c,re),le.push({event:Q,listeners:Re}))}}if((s&7)===0){e:{if(Q=a==="mouseover"||a==="pointerover",ee=a==="mouseout"||a==="pointerout",Q&&c!==Rh&&(xe=c.relatedTarget||c.fromElement)&&(vo(xe)||xe[yo]))break e;if((ee||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(xe=c.relatedTarget||c.toElement,ee=X,xe=xe?vo(xe):null,xe!==null&&(at=o(xe),Re=xe.tag,xe!==at||Re!==5&&Re!==27&&Re!==6)&&(xe=null)):(ee=null,xe=X),ee!==xe)){if(Re=cx,ae="onMouseLeave",V="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(Re=fx,ae="onPointerLeave",V="onPointerEnter",B="pointer"),at=ee==null?Q:Qs(ee),J=xe==null?Q:Qs(xe),Q=new Re(ae,B+"leave",ee,c,re),Q.target=at,Q.relatedTarget=J,ae=null,vo(re)===X&&(Re=new Re(V,B+"enter",xe,c,re),Re.target=J,Re.relatedTarget=at,ae=Re),at=ae,ee&&xe)t:{for(Re=aj,V=ee,B=xe,J=0,ae=V;ae;ae=Re(ae))J++;ae=0;for(var ke=B;ke;ke=Re(ke))ae++;for(;0<J-ae;)V=Re(V),J--;for(;0<ae-J;)B=Re(B),ae--;for(;J--;){if(V===B||B!==null&&V===B.alternate){Re=V;break t}V=Re(V),B=Re(B)}Re=null}else Re=null;ee!==null&&rS(le,Q,ee,Re,!1),xe!==null&&at!==null&&rS(le,at,xe,Re,!0)}}e:{if(Q=X?Qs(X):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var Ye=xx;else if(vx(Q))if(wx)Ye=g2;else{Ye=p2;var _e=h2}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Ph(X.elementType)&&(Ye=xx):Ye=m2;if(Ye&&(Ye=Ye(a,X))){bx(le,Ye,c,re);break e}_e&&_e(a,Q,X),a==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&kh(Q,"number",Q.value)}switch(_e=X?Qs(X):window,a){case"focusin":(vx(_e)||_e.contentEditable==="true")&&(Co=_e,Gh=X,sl=null);break;case"focusout":sl=Gh=Co=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,kx(le,c,re);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":kx(le,c,re)}var Ue;if(qh)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ao?gx(a,c)&&(He="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(hx&&c.locale!=="ko"&&(Ao||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ao&&(Ue=lx()):(Di=re,Dh="value"in Di?Di.value:Di.textContent,Ao=!0)),_e=Bc(X,He),0<_e.length&&(He=new dx(He,a,null,c,re),le.push({event:He,listeners:_e}),Ue?He.data=Ue:(Ue=yx(c),Ue!==null&&(He.data=Ue)))),(Ue=l2?u2(a,c):c2(a,c))&&(He=Bc(X,"onBeforeInput"),0<He.length&&(_e=new dx("onBeforeInput","beforeinput",null,c,re),le.push({event:_e,listeners:He}),_e.data=Ue)),tj(le,a,X,c,re)}tS(le,s)})}function Il(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Bc(a,s){for(var c=s+"Capture",p=[];a!==null;){var x=a,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=Zs(a,c),x!=null&&p.unshift(Il(a,x,_)),x=Zs(a,s),x!=null&&p.push(Il(a,x,_))),a.tag===3)return p;a=a.return}return[]}function aj(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function rS(a,s,c,p,x){for(var _=s._reactName,C=[];c!==null&&c!==p;){var M=c,U=M.alternate,X=M.stateNode;if(M=M.tag,U!==null&&U===p)break;M!==5&&M!==26&&M!==27||X===null||(U=X,x?(X=Zs(c,_),X!=null&&C.unshift(Il(c,X,U))):x||(X=Zs(c,_),X!=null&&C.push(Il(c,X,U)))),c=c.return}C.length!==0&&a.push({event:s,listeners:C})}var oj=/\r\n?/g,sj=/\u0000|\uFFFD/g;function iS(a){return(typeof a=="string"?a:""+a).replace(oj,`
`).replace(sj,"")}function aS(a,s){return s=iS(s),iS(a)===s}function it(a,s,c,p,x,_){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||So(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&So(a,""+p);break;case"className":Hu(a,"class",p);break;case"tabIndex":Hu(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Hu(a,c,p);break;case"style":ax(a,p,_);break;case"data":if(s!=="object"){Hu(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Fu(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&it(a,s,"name",x.name,x,null),it(a,s,"formEncType",x.formEncType,x,null),it(a,s,"formMethod",x.formMethod,x,null),it(a,s,"formTarget",x.formTarget,x,null)):(it(a,s,"encType",x.encType,x,null),it(a,s,"method",x.method,x,null),it(a,s,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Fu(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=Vr);break;case"onScroll":p!=null&&ze("scroll",a);break;case"onScrollEnd":p!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=Fu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":ze("beforetoggle",a),ze("toggle",a),$u(a,"popover",p);break;case"xlinkActuate":Fr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Fr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Fr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Fr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Fr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Fr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Fr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Fr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Fr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":$u(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=DD.get(c)||c,$u(a,c,p))}}function gm(a,s,c,p,x,_){switch(c){case"style":ax(a,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?So(a,p):(typeof p=="number"||typeof p=="bigint")&&So(a,""+p);break;case"onScroll":p!=null&&ze("scroll",a);break;case"onScrollEnd":p!=null&&ze("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J0.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),s=c.slice(2,x?c.length-7:void 0),_=a[xn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(s,_,x),typeof p=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,x);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):$u(a,c,p)}}}function nn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var p=!1,x=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var C=c[_];if(C!=null)switch(_){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(a,s,_,C,c,null)}}x&&it(a,s,"srcSet",c.srcSet,c,null),p&&it(a,s,"src",c.src,c,null);return;case"input":ze("invalid",a);var M=_=C=x=null,U=null,X=null;for(p in c)if(c.hasOwnProperty(p)){var re=c[p];if(re!=null)switch(p){case"name":x=re;break;case"type":C=re;break;case"checked":U=re;break;case"defaultChecked":X=re;break;case"value":_=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:it(a,s,p,re,c,null)}}tx(a,_,M,U,X,C,x,!1);return;case"select":ze("invalid",a),p=C=_=null;for(x in c)if(c.hasOwnProperty(x)&&(M=c[x],M!=null))switch(x){case"value":_=M;break;case"defaultValue":C=M;break;case"multiple":p=M;default:it(a,s,x,M,c,null)}s=_,c=C,a.multiple=!!p,s!=null?_o(a,!!p,s,!1):c!=null&&_o(a,!!p,c,!0);return;case"textarea":ze("invalid",a),_=x=p=null;for(C in c)if(c.hasOwnProperty(C)&&(M=c[C],M!=null))switch(C){case"value":p=M;break;case"defaultValue":x=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:it(a,s,C,M,c,null)}rx(a,p,x,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:it(a,s,U,p,c,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(p=0;p<Rl.length;p++)ze(Rl[p],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(p=c[X],p!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(a,s,X,p,c,null)}return;default:if(Ph(s)){for(re in c)c.hasOwnProperty(re)&&(p=c[re],p!==void 0&&gm(a,s,re,p,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(p=c[M],p!=null&&it(a,s,M,p,c,null))}function lj(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,C=null,M=null,U=null,X=null,re=null;for(ee in c){var le=c[ee];if(c.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=le;default:p.hasOwnProperty(ee)||it(a,s,ee,null,p,le)}}for(var Q in p){var ee=p[Q];if(le=c[Q],p.hasOwnProperty(Q)&&(ee!=null||le!=null))switch(Q){case"type":_=ee;break;case"name":x=ee;break;case"checked":X=ee;break;case"defaultChecked":re=ee;break;case"value":C=ee;break;case"defaultValue":M=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==le&&it(a,s,Q,ee,p,le)}}Nh(a,C,M,U,X,re,_,x);return;case"select":ee=C=M=Q=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":ee=U;default:p.hasOwnProperty(_)||it(a,s,_,null,p,U)}for(x in p)if(_=p[x],U=c[x],p.hasOwnProperty(x)&&(_!=null||U!=null))switch(x){case"value":Q=_;break;case"defaultValue":M=_;break;case"multiple":C=_;default:_!==U&&it(a,s,x,_,p,U)}s=M,c=C,p=ee,Q!=null?_o(a,!!c,Q,!1):!!p!=!!c&&(s!=null?_o(a,!!c,s,!0):_o(a,!!c,c?[]:"",!1));return;case"textarea":ee=Q=null;for(M in c)if(x=c[M],c.hasOwnProperty(M)&&x!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:it(a,s,M,null,p,x)}for(C in p)if(x=p[C],_=c[C],p.hasOwnProperty(C)&&(x!=null||_!=null))switch(C){case"value":Q=x;break;case"defaultValue":ee=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&it(a,s,C,x,p,_)}nx(a,Q,ee);return;case"option":for(var xe in c)if(Q=c[xe],c.hasOwnProperty(xe)&&Q!=null&&!p.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:it(a,s,xe,null,p,Q)}for(U in p)if(Q=p[U],ee=c[U],p.hasOwnProperty(U)&&Q!==ee&&(Q!=null||ee!=null))switch(U){case"selected":a.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(a,s,U,Q,p,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)Q=c[Re],c.hasOwnProperty(Re)&&Q!=null&&!p.hasOwnProperty(Re)&&it(a,s,Re,null,p,Q);for(X in p)if(Q=p[X],ee=c[X],p.hasOwnProperty(X)&&Q!==ee&&(Q!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:it(a,s,X,Q,p,ee)}return;default:if(Ph(s)){for(var at in c)Q=c[at],c.hasOwnProperty(at)&&Q!==void 0&&!p.hasOwnProperty(at)&&gm(a,s,at,void 0,p,Q);for(re in p)Q=p[re],ee=c[re],!p.hasOwnProperty(re)||Q===ee||Q===void 0&&ee===void 0||gm(a,s,re,Q,p,ee);return}}for(var V in c)Q=c[V],c.hasOwnProperty(V)&&Q!=null&&!p.hasOwnProperty(V)&&it(a,s,V,null,p,Q);for(le in p)Q=p[le],ee=c[le],!p.hasOwnProperty(le)||Q===ee||Q==null&&ee==null||it(a,s,le,Q,p,ee)}function oS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uj(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var x=c[p],_=x.transferSize,C=x.initiatorType,M=x.duration;if(_&&M&&oS(C)){for(C=0,M=x.responseEnd,p+=1;p<c.length;p++){var U=c[p],X=U.startTime;if(X>M)break;var re=U.transferSize,le=U.initiatorType;re&&oS(le)&&(U=U.responseEnd,C+=re*(U<M?1:(M-X)/(U-X)))}if(--p,s+=8*(_+C)/(x.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ym=null,vm=null;function qc(a){return a.nodeType===9?a:a.ownerDocument}function sS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function bm(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function cj(){var a=window.event;return a&&a.type==="popstate"?a===xm?!1:(xm=a,!0):(xm=null,!1)}var uS=typeof setTimeout=="function"?setTimeout:void 0,dj=typeof clearTimeout=="function"?clearTimeout:void 0,cS=typeof Promise=="function"?Promise:void 0,fj=typeof queueMicrotask=="function"?queueMicrotask:typeof cS<"u"?function(a){return cS.resolve(null).then(a).catch(hj)}:uS;function hj(a){setTimeout(function(){throw a})}function Qi(a){return a==="head"}function dS(a,s){var c=s,p=0;do{var x=c.nextSibling;if(a.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(x),es(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Ml(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Ml(c);for(var _=c.firstChild;_;){var C=_.nextSibling,M=_.nodeName;_[Xs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=C}}else c==="body"&&Ml(a.ownerDocument.body);c=x}while(c);es(s)}function fS(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function wm(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":wm(c),Ah(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function pj(a,s,c,p){for(;a.nodeType===1;){var x=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Xs])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=rr(a.nextSibling),a===null)break}return null}function mj(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=rr(a.nextSibling),a===null))return null;return a}function hS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=rr(a.nextSibling),a===null))return null;return a}function _m(a){return a.data==="$?"||a.data==="$~"}function Sm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function gj(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function rr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Em=null;function pS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return rr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function mS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function gS(a,s,c){switch(s=qc(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ml(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ah(a)}var ir=new Map,yS=new Set;function zc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var li=Z.d;Z.d={f:yj,r:vj,D:bj,C:xj,L:wj,m:_j,X:Ej,S:Sj,M:Tj};function yj(){var a=li.f(),s=Ic();return a||s}function vj(a){var s=bo(a);s!==null&&s.tag===5&&s.type==="form"?Ow(s):li.r(a)}var Xo=typeof document>"u"?null:document;function vS(a,s,c){var p=Xo;if(p&&typeof s=="string"&&s){var x=Jn(s);x='link[rel="'+a+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),yS.has(x)||(yS.add(x),a={rel:a,crossOrigin:c,href:s},p.querySelector(x)===null&&(s=p.createElement("link"),nn(s,"link",a),Kt(s),p.head.appendChild(s)))}}function bj(a){li.D(a),vS("dns-prefetch",a,null)}function xj(a,s){li.C(a,s),vS("preconnect",a,s)}function wj(a,s,c){li.L(a,s,c);var p=Xo;if(p&&a&&s){var x='link[rel="preload"][as="'+Jn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Jn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Jn(c.imageSizes)+'"]')):x+='[href="'+Jn(a)+'"]';var _=x;switch(s){case"style":_=Qo(a);break;case"script":_=Zo(a)}ir.has(_)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),ir.set(_,a),p.querySelector(x)!==null||s==="style"&&p.querySelector(Ol(_))||s==="script"&&p.querySelector(Dl(_))||(s=p.createElement("link"),nn(s,"link",a),Kt(s),p.head.appendChild(s)))}}function _j(a,s){li.m(a,s);var c=Xo;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+Jn(p)+'"][href="'+Jn(a)+'"]',_=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zo(a)}if(!ir.has(_)&&(a=m({rel:"modulepreload",href:a},s),ir.set(_,a),c.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Dl(_)))return}p=c.createElement("link"),nn(p,"link",a),Kt(p),c.head.appendChild(p)}}}function Sj(a,s,c){li.S(a,s,c);var p=Xo;if(p&&a){var x=xo(p).hoistableStyles,_=Qo(a);s=s||"default";var C=x.get(_);if(!C){var M={loading:0,preload:null};if(C=p.querySelector(Ol(_)))M.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=ir.get(_))&&Tm(a,c);var U=C=p.createElement("link");Kt(U),nn(U,"link",a),U._p=new Promise(function(X,re){U.onload=X,U.onerror=re}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,$c(C,s,p)}C={type:"stylesheet",instance:C,count:1,state:M},x.set(_,C)}}}function Ej(a,s){li.X(a,s);var c=Xo;if(c&&a){var p=xo(c).hoistableScripts,x=Zo(a),_=p.get(x);_||(_=c.querySelector(Dl(x)),_||(a=m({src:a,async:!0},s),(s=ir.get(x))&&Am(a,s),_=c.createElement("script"),Kt(_),nn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function Tj(a,s){li.M(a,s);var c=Xo;if(c&&a){var p=xo(c).hoistableScripts,x=Zo(a),_=p.get(x);_||(_=c.querySelector(Dl(x)),_||(a=m({src:a,async:!0,type:"module"},s),(s=ir.get(x))&&Am(a,s),_=c.createElement("script"),Kt(_),nn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function bS(a,s,c,p){var x=(x=pe.current)?zc(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Qo(c.href),c=xo(x).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Qo(c.href);var _=xo(x).hoistableStyles,C=_.get(a);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,C),(_=x.querySelector(Ol(a)))&&!_._p&&(C.instance=_,C.state.loading=5),ir.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ir.set(a,c),_||Aj(x,a,c,C.state))),s&&p===null)throw Error(r(528,""));return C}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(c),c=xo(x).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Qo(a){return'href="'+Jn(a)+'"'}function Ol(a){return'link[rel="stylesheet"]['+a+"]"}function xS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function Aj(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),nn(s,"link",c),Kt(s),a.head.appendChild(s))}function Zo(a){return'[src="'+Jn(a)+'"]'}function Dl(a){return"script[async]"+a}function wS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+Jn(c.href)+'"]');if(p)return s.instance=p,Kt(p),p;var x=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Kt(p),nn(p,"style",x),$c(p,c.precedence,a),s.instance=p;case"stylesheet":x=Qo(c.href);var _=a.querySelector(Ol(x));if(_)return s.state.loading|=4,s.instance=_,Kt(_),_;p=xS(c),(x=ir.get(x))&&Tm(p,x),_=(a.ownerDocument||a).createElement("link"),Kt(_);var C=_;return C._p=new Promise(function(M,U){C.onload=M,C.onerror=U}),nn(_,"link",p),s.state.loading|=4,$c(_,c.precedence,a),s.instance=_;case"script":return _=Zo(c.src),(x=a.querySelector(Dl(_)))?(s.instance=x,Kt(x),x):(p=c,(x=ir.get(_))&&(p=m({},c),Am(p,x)),a=a.ownerDocument||a,x=a.createElement("script"),Kt(x),nn(x,"link",p),a.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,$c(p,c.precedence,a));return s.instance}function $c(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,_=x,C=0;C<p.length;C++){var M=p[C];if(M.dataset.precedence===s)_=M;else if(_!==x)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Tm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Am(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Hc=null;function _S(a,s,c){if(Hc===null){var p=new Map,x=Hc=new Map;x.set(c,p)}else x=Hc,p=x.get(c),p||(p=new Map,x.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),x=0;x<c.length;x++){var _=c[x];if(!(_[Xs]||_[Qt]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(s)||"";C=a+C;var M=p.get(C);M?M.push(_):p.set(C,[_])}}return p}function SS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Cj(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ES(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Nj(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Qo(p.href),_=s.querySelector(Ol(x));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Gc.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=_,Kt(_);return}_=s.ownerDocument||s,p=xS(p),(x=ir.get(x))&&Tm(p,x),_=_.createElement("link"),Kt(_);var C=_;C._p=new Promise(function(M,U){C.onload=M,C.onerror=U}),nn(_,"link",p),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Gc.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Cm=0;function kj(a,s){return a.stylesheets&&a.count===0&&Vc(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Vc(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&Cm===0&&(Cm=62500*uj());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Vc(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Cm?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fc=null;function Vc(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fc=new Map,s.forEach(Pj,a),Fc=null,Gc.call(a))}function Pj(a,s){if(!(s.state.loading&4)){var c=Fc.get(a);if(c)var p=c.get(null);else{c=new Map,Fc.set(a,c);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var C=x[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),p=C)}p&&c.set(null,p)}x=s.instance,C=x.getAttribute("data-precedence"),_=c.get(C)||p,_===p&&c.set(null,x),c.set(C,x),this.count++,p=Gc.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),_?_.parentNode.insertBefore(x,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),s.state.loading|=4}}var jl={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Rj(a,s,c,p,x,_,C,M,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_h(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.hiddenUpdates=_h(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function TS(a,s,c,p,x,_,C,M,U,X,re,le){return a=new Rj(a,s,c,C,U,X,re,le,M),s=1,_===!0&&(s|=24),_=Mn(3,null,null,s),a.current=_,_.stateNode=a,s=op(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:p,isDehydrated:c,cache:s},cp(_),a}function AS(a){return a?(a=Po,a):Po}function CS(a,s,c,p,x,_){x=AS(x),p.context===null?p.context=x:p.pendingContext=x,p=zi(s),p.payload={element:c},_=_===void 0?null:_,_!==null&&(p.callback=_),c=$i(a,p,s),c!==null&&(An(c,a,s),pl(c,a,s))}function NS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Nm(a,s){NS(a,s),(a=a.alternate)&&NS(a,s)}function kS(a){if(a.tag===13||a.tag===31){var s=Ea(a,67108864);s!==null&&An(s,a,67108864),Nm(a,67108864)}}function PS(a){if(a.tag===13||a.tag===31){var s=Un();s=Sh(s);var c=Ea(a,s);c!==null&&An(c,a,s),Nm(a,s)}}var Kc=!0;function Ij(a,s,c,p){var x=z.T;z.T=null;var _=Z.p;try{Z.p=2,km(a,s,c,p)}finally{Z.p=_,z.T=x}}function Mj(a,s,c,p){var x=z.T;z.T=null;var _=Z.p;try{Z.p=8,km(a,s,c,p)}finally{Z.p=_,z.T=x}}function km(a,s,c,p){if(Kc){var x=Pm(p);if(x===null)mm(a,s,p,Yc,c),IS(a,p);else if(Dj(x,a,s,c,p))p.stopPropagation();else if(IS(a,p),s&4&&-1<Oj.indexOf(a)){for(;x!==null;){var _=bo(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=ba(_.pendingLanes);if(C!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var U=1<<31-Rn(C);M.entanglements[1]|=U,C&=~U}Or(_),(Qe&6)===0&&(Pc=Lt()+500,Pl(0))}}break;case 31:case 13:M=Ea(_,2),M!==null&&An(M,_,2),Ic(),Nm(_,2)}if(_=Pm(p),_===null&&mm(a,s,p,Yc,c),_===x)break;x=_}x!==null&&p.stopPropagation()}else mm(a,s,p,null,c)}}function Pm(a){return a=Ih(a),Rm(a)}var Yc=null;function Rm(a){if(Yc=null,a=vo(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Yc=a,null}function RS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case po:return 2;case mo:return 8;case Ii:case Ks:return 32;case go:return 268435456;default:return 32}default:return 32}}var Im=!1,Zi=null,ea=null,ta=null,Ll=new Map,Ul=new Map,na=[],Oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IS(a,s){switch(a){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Ll.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function Bl(a,s,c,p,x,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[x]},s!==null&&(s=bo(s),s!==null&&kS(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),a)}function Dj(a,s,c,p,x){switch(s){case"focusin":return Zi=Bl(Zi,a,s,c,p,x),!0;case"dragenter":return ea=Bl(ea,a,s,c,p,x),!0;case"mouseover":return ta=Bl(ta,a,s,c,p,x),!0;case"pointerover":var _=x.pointerId;return Ll.set(_,Bl(Ll.get(_)||null,a,s,c,p,x)),!0;case"gotpointercapture":return _=x.pointerId,Ul.set(_,Bl(Ul.get(_)||null,a,s,c,p,x)),!0}return!1}function MS(a){var s=vo(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,K0(a.priority,function(){PS(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,K0(a.priority,function(){PS(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Pm(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Rh=p,c.target.dispatchEvent(p),Rh=null}else return s=bo(c),s!==null&&kS(s),a.blockedOn=c,!1;s.shift()}return!0}function OS(a,s,c){Wc(a)&&c.delete(s)}function jj(){Im=!1,Zi!==null&&Wc(Zi)&&(Zi=null),ea!==null&&Wc(ea)&&(ea=null),ta!==null&&Wc(ta)&&(ta=null),Ll.forEach(OS),Ul.forEach(OS)}function Jc(a,s){a.blockedOn===s&&(a.blockedOn=null,Im||(Im=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jj)))}var Xc=null;function DS(a){Xc!==a&&(Xc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xc===a&&(Xc=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],x=a[s+2];if(typeof p!="function"){if(Rm(p||c)===null)continue;break}var _=bo(c);_!==null&&(a.splice(s,3),s-=3,Pp(_,{pending:!0,data:x,method:c.method,action:p},p,x))}}))}function es(a){function s(U){return Jc(U,a)}Zi!==null&&Jc(Zi,a),ea!==null&&Jc(ea,a),ta!==null&&Jc(ta,a),Ll.forEach(s),Ul.forEach(s);for(var c=0;c<na.length;c++){var p=na[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<na.length&&(c=na[0],c.blockedOn===null);)MS(c),c.blockedOn===null&&na.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var x=c[p],_=c[p+1],C=x[xn]||null;if(typeof _=="function")C||DS(c);else if(C){var M=null;if(_&&_.hasAttribute("formAction")){if(x=_,C=_[xn]||null)M=C.formAction;else if(Rm(x)!==null)continue}else M=C.action;typeof M=="function"?c[p+1]=M:(c.splice(p,3),p-=3),DS(c)}}}function jS(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return x=C})},focusReset:"manual",scroll:"manual"})}function s(){x!==null&&(x(),x=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),x!==null&&(x(),x=null)}}}function Mm(a){this._internalRoot=a}Qc.prototype.render=Mm.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Un();CS(c,p,a,s,null,null)},Qc.prototype.unmount=Mm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;CS(a.current,2,null,a,null,null),Ic(),s[yo]=null}};function Qc(a){this._internalRoot=a}Qc.prototype.unstable_scheduleHydration=function(a){if(a){var s=V0();a={blockedOn:null,target:a,priority:s};for(var c=0;c<na.length&&s!==0&&s<na[c].priority;c++);na.splice(c,0,a),c===0&&MS(a)}};var LS=e.version;if(LS!=="19.2.0")throw Error(r(527,LS,"19.2.0"));Z.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Lj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Gr=Zc.inject(Lj),Pn=Zc}catch{}}return ql.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",x=Gw,_=Fw,C=Vw;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=TS(a,1,!1,null,null,c,p,null,x,_,C,jS),a[yo]=s.current,pm(a),new Mm(s)},ql.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,x="",_=Gw,C=Fw,M=Vw,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=TS(a,1,!0,s,c??null,p,x,U,_,C,M,jS),s.context=AS(null),c=s.current,p=Un(),p=Sh(p),x=zi(p),x.callback=null,$i(c,x,p),c=p,s.current.lanes=c,Js(s,c),Or(s),a[yo]=s.current,pm(a),new Qc(s)},ql.version="19.2.0",ql}var FS;function Yj(){if(FS)return jm.exports;FS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=Kj(),jm.exports}var Wj=Yj();const Jj=Nr(Wj);var qm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function Xj(){if(VS)return zl;VS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var KS;function Qj(){return KS||(KS=1,qm.exports=Xj()),qm.exports}var g=Qj(),Py=function(t,e){return Py=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Py(t,e)};function ZN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Py(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Pd=function(){return Pd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pd.apply(this,arguments)};function Ms(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ek(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(o=(i<3?l(o):i>3?l(e,n,o):l(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function tk(t,e){return function(n,r){e(n,r,t)}}function nk(t,e,n,r,i,o){function l(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&t?r.static?t:t.prototype:null,h=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,v=!1,w=n.length-1;w>=0;w--){var S={};for(var T in r)S[T]=T==="access"?{}:r[T];for(var T in r.access)S.access[T]=r.access[T];S.addInitializer=function(k){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(k||null))};var E=(0,n[w])(u==="accessor"?{get:h.get,set:h.set}:h[d],S);if(u==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=l(E.get))&&(h.get=m),(m=l(E.set))&&(h.set=m),(m=l(E.init))&&i.unshift(m)}else(m=l(E))&&(u==="field"?i.unshift(m):h[d]=m)}f&&Object.defineProperty(f,r.name,h),v=!0}function rk(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function ik(t){return typeof t=="symbol"?t:"".concat(t)}function ak(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function ok(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Te(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})}function sk(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(h){return d([f,h])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var kf=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function lk(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kf(e,t,n)}function Rd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function uk(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yv(arguments[e]));return t}function ck(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,i++)r[i]=o[l];return r}function dk(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Es(t){return this instanceof Es?(this.v=t,this):new Es(t)}function fk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(S){return Promise.resolve(S).then(w,m)}}function u(w,S){r[w]&&(i[w]=function(T){return new Promise(function(E,k){o.push([w,T,E,k])>1||d(w,T)})},S&&(i[w]=S(i[w])))}function d(w,S){try{f(r[w](S))}catch(T){v(o[0][3],T)}}function f(w){w.value instanceof Es?Promise.resolve(w.value.v).then(h,m):v(o[0][2],w)}function h(w){d("next",w)}function m(w){d("throw",w)}function v(w,S){w(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function hk(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(l){return(n=!n)?{value:Es(t[i](l)),done:!1}:o?o(l):l}:o}}function pk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rd=="function"?Rd(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,d){l=t[o](l),i(u,d,l.done,l.value)})}}function i(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}function mk(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Zj=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ry=function(t){return Ry=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Ry(t)};function gk(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ry(t),r=0;r<n.length;r++)n[r]!=="default"&&kf(e,t,n[r]);return Zj(e,t),e}function yk(t){return t&&t.__esModule?t:{default:t}}function vk(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function bk(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function xk(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function wk(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var eL=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function _k(t){function e(o){t.error=t.hasError?new eL(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return e(l),i()})}else r|=1}catch(l){e(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Sk(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?e?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):t}const tL={__extends:ZN,__assign:Pd,__rest:Ms,__decorate:ek,__param:tk,__esDecorate:nk,__runInitializers:rk,__propKey:ik,__setFunctionName:ak,__metadata:ok,__awaiter:Te,__generator:sk,__createBinding:kf,__exportStar:lk,__values:Rd,__read:Yv,__spread:uk,__spreadArrays:ck,__spreadArray:dk,__await:Es,__asyncGenerator:fk,__asyncDelegator:hk,__asyncValues:pk,__makeTemplateObject:mk,__importStar:gk,__importDefault:yk,__classPrivateFieldGet:vk,__classPrivateFieldSet:bk,__classPrivateFieldIn:xk,__addDisposableResource:wk,__disposeResources:_k,__rewriteRelativeImportExtension:Sk},nL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wk,get __assign(){return Pd},__asyncDelegator:hk,__asyncGenerator:fk,__asyncValues:pk,__await:Es,__awaiter:Te,__classPrivateFieldGet:vk,__classPrivateFieldIn:xk,__classPrivateFieldSet:bk,__createBinding:kf,__decorate:ek,__disposeResources:_k,__esDecorate:nk,__exportStar:lk,__extends:ZN,__generator:sk,__importDefault:yk,__importStar:gk,__makeTemplateObject:mk,__metadata:ok,__param:tk,__propKey:ik,__read:Yv,__rest:Ms,__rewriteRelativeImportExtension:Sk,__runInitializers:rk,__setFunctionName:ak,__spread:uk,__spreadArray:dk,__spreadArrays:ck,__values:Rd,default:tL},Symbol.toStringTag,{value:"Module"})),rL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Wv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class iL extends Wv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class YS extends Wv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WS extends Wv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Iy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Iy||(Iy={}));class aL{constructor(e,{headers:n={},customFetch:r,region:i=Iy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=rL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Te(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:d,body:f,signal:h,timeout:m}=r;let v={},{region:w}=r;w||(w=this.region);const S=new URL(`${this.url}/${n}`);w&&w!=="any"&&(v["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let T;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(v["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(v["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let E=h;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),h?(E=l.signal,h.addEventListener("abort",()=>l.abort())):E=l.signal);const k=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:T,signal:E}).catch(R=>{throw new iL(R)}),P=k.headers.get("x-relay-error");if(P&&P==="true")throw new YS(k);if(!k.ok)throw new WS(k);let N=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield k.json():N==="application/octet-stream"||N==="application/pdf"?I=yield k.blob():N==="text/event-stream"?I=k:N==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof WS||u instanceof YS?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var cn={};const Os=zj(nL);var ed={},td={},nd={},rd={},id={},ad={},JS;function Ek(){if(JS)return ad;JS=1,Object.defineProperty(ad,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ad.default=t,ad}var XS;function Tk(){if(XS)return id;XS=1,Object.defineProperty(id,"__esModule",{value:!0});const e=Os.__importDefault(Ek());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,m,v;let w=null,S=null,T=null,E=d.status,k=d.statusText;if(d.ok){if(this.method!=="HEAD"){const R=await d.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=R:S=JSON.parse(R))}const N=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),I=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&I&&I.length>1&&(T=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,T=null,E=406,k="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const N=await d.text();try{w=JSON.parse(N),Array.isArray(w)&&d.status===404&&(S=[],w=null,E=200,k="OK")}catch{d.status===404&&N===""?(E=204,k="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,E=200,k="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:S,count:T,status:E,statusText:k}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,m,v,w,S;let T="";const E=d==null?void 0:d.cause;if(E){const k=(f=E==null?void 0:E.message)!==null&&f!==void 0?f:"",P=(h=E==null?void 0:E.code)!==null&&h!==void 0?h:"";T=`${(m=d==null?void 0:d.name)!==null&&m!==void 0?m:"FetchError"}: ${d==null?void 0:d.message}`,T+=`

Caused by: ${(v=E==null?void 0:E.name)!==null&&v!==void 0?v:"Error"}: ${k}`,P&&(T+=` (${P})`),E!=null&&E.stack&&(T+=`
${E.stack}`)}else T=(w=d==null?void 0:d.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"FetchError"}: ${d==null?void 0:d.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return id.default=n,id}var QS;function Ak(){if(QS)return rd;QS=1,Object.defineProperty(rd,"__esModule",{value:!0});const e=Os.__importDefault(Tk());class n extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var h;const m=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return rd.default=n,rd}var ZS;function Jv(){if(ZS)return nd;ZS=1,Object.defineProperty(nd,"__esModule",{value:!0});const e=Os.__importDefault(Ak()),n=new RegExp("[,()]");class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return nd.default=r,nd}var eE;function Ck(){if(eE)return td;eE=1,Object.defineProperty(td,"__esModule",{value:!0});const e=Os.__importDefault(Jv());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},d=l?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return td.default=n,td}var tE;function oL(){if(tE)return ed;tE=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=Os,e=t.__importDefault(Ck()),n=t.__importDefault(Jv());class r{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:f}={}){var h;let m;const v=new URL(`${this.url}/rpc/${o}`);let w;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([T,E])=>E!==void 0).map(([T,E])=>[T,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([T,E])=>{v.searchParams.append(T,E)})):(m="POST",w=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:m,url:v,headers:S,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ed.default=r,ed}var nE;function sL(){if(nE)return cn;nE=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.PostgrestError=cn.PostgrestBuilder=cn.PostgrestTransformBuilder=cn.PostgrestFilterBuilder=cn.PostgrestQueryBuilder=cn.PostgrestClient=void 0;const t=Os,e=t.__importDefault(oL());cn.PostgrestClient=e.default;const n=t.__importDefault(Ck());cn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Jv());cn.PostgrestFilterBuilder=r.default;const i=t.__importDefault(Ak());cn.PostgrestTransformBuilder=i.default;const o=t.__importDefault(Tk());cn.PostgrestBuilder=o.default;const l=t.__importDefault(Ek());return cn.PostgrestError=l.default,cn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},cn}var Nk=sL();const kk=Nr(Nk),lL=XN({__proto__:null,default:kk},[Nk]),{PostgrestClient:uL,PostgrestQueryBuilder:Fre,PostgrestFilterBuilder:Vre,PostgrestTransformBuilder:Kre,PostgrestBuilder:Yre,PostgrestError:Wre}=kk||lL;class cL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dL="2.83.0",fL=`realtime-js/${dL}`,Pk="1.0.0",hL="2.0.0",rE=Pk,My=1e4,pL=1e3,mL=100;var Ha;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ha||(Ha={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cr||(cr={}));var Oy;(function(t){t.websocket="websocket"})(Oy||(Oy={}));var Ga;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ga||(Ga={}));class gL{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:l}=e,u=(n=e.ref)!==null&&n!==void 0?n:"",d=(r=e.join_ref)!==null&&r!==void 0?r:"",f=this.META_LENGTH+d.length+u.length+o.length+i.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),v=0;m.setUint8(v++,this.KINDS.push),m.setUint8(v++,d.length),m.setUint8(v++,u.length),m.setUint8(v++,o.length),m.setUint8(v++,i.length),Array.from(d,S=>m.setUint8(v++,S.charCodeAt(0))),Array.from(u,S=>m.setUint8(v++,S.charCodeAt(0))),Array.from(o,S=>m.setUint8(v++,S.charCodeAt(0))),Array.from(i,S=>m.setUint8(v++,S.charCodeAt(0)));var w=new Uint8Array(h.byteLength+l.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(l),h.byteLength),w.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const l=e.topic,u=(n=e.ref)!==null&&n!==void 0?n:"",d=(r=e.join_ref)!==null&&r!==void 0?r:"",f=e.payload.event,h=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(v),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,u.length),w.setUint8(S++,l.length),w.setUint8(S++,f.length),w.setUint8(S++,this.BINARY_ENCODING),Array.from(d,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(u,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(l,E=>w.setUint8(S++,E.charCodeAt(0))),Array.from(f,E=>w.setUint8(S++,E.charCodeAt(0)));var T=new Uint8Array(v.byteLength+h.byteLength);return T.set(new Uint8Array(v),0),T.set(new Uint8Array(h),v.byteLength),T.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const l=e.topic,u=(n=e.ref)!==null&&n!==void 0?n:"",d=(r=e.join_ref)!==null&&r!==void 0?r:"",f=e.payload.event,h=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},v=new TextEncoder().encode(JSON.stringify(h)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(S),E=0;T.setUint8(E++,this.KINDS.userBroadcastPush),T.setUint8(E++,d.length),T.setUint8(E++,u.length),T.setUint8(E++,l.length),T.setUint8(E++,f.length),T.setUint8(E++,this.JSON_ENCODING),Array.from(d,P=>T.setUint8(E++,P.charCodeAt(0))),Array.from(u,P=>T.setUint8(E++,P.charCodeAt(0))),Array.from(l,P=>T.setUint8(E++,P.charCodeAt(0))),Array.from(f,P=>T.setUint8(E++,P.charCodeAt(0)));var k=new Uint8Array(S.byteLength+v.byteLength);return k.set(new Uint8Array(S),0),k.set(new Uint8Array(v),S.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,l,u,d]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3);let u=this.HEADER_LENGTH+this.META_LENGTH-1;const d=r.decode(e.slice(u,u+i));u=u+i;const f=r.decode(e.slice(u,u+o));u=u+o;const h=r.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{join_ref:d,ref:null,topic:f,event:h,payload:m}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(e.slice(d,d+i));d=d+i;const h=r.decode(e.slice(d,d+o));d=d+o;const m=r.decode(e.slice(d,d+l));d=d+l;const v=r.decode(e.slice(d,d+u));d=d+u;const w=JSON.parse(r.decode(e.slice(d,e.byteLength))),S={status:v,response:w};return{join_ref:f,ref:h,topic:m,event:cr.reply,payload:S}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:u,event:d,payload:f}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const h=r.decode(e.slice(d,d+o));d=d+o;const m=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,S={type:this.BROADCAST,event:h,payload:w};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Rk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const iE=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=yL(l,t,e,i),o),{}):{}},yL=(t,e,n,r)=>{const i=e.find(u=>u.name===t),o=i==null?void 0:i.type,l=n[t];return o&&!r.includes(o)?Ik(o,l):Dy(l)},Ik=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wL(e,n)}switch(t){case ct.bool:return vL(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return bL(e);case ct.json:case ct.jsonb:return xL(e);case ct.timestamp:return _L(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Dy(e);default:return Dy(e)}},Dy=t=>t,vL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Ik(e,u))}return t},_L=t=>typeof t=="string"?t.replace(" ","T"):t,Mk=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zm{constructor(e,n,r={},i=My){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var aE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(aE||(aE={}));class eu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eu.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=eu.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=eu.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),l=this.transformState(n),u={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=o[f];if(m){const v=h.map(E=>E.presence_ref),w=m.map(E=>E.presence_ref),S=h.filter(E=>w.indexOf(E.presence_ref)<0),T=m.filter(E=>v.indexOf(E.presence_ref)<0);S.length>0&&(u[f]=S),T.length>0&&(d[f]=T)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),h.length>0){const m=e[u].map(w=>w.presence_ref),v=h.filter(w=>m.indexOf(w.presence_ref)<0);e[u].unshift(...v)}r(u,h,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oE||(oE={}));var tu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tu||(tu={}));var ui;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));class Xv{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,cr.join,this.params,this.timeout),this.rejoinTimer=new Rk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new eu(this),this.broadcastEndpointURL=Mk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[tu.PRESENCE]&&this.bindings[tu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(ui.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e==null||e(ui.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,E=(S=T==null?void 0:T.length)!==null&&S!==void 0?S:0,k=[];for(let P=0;P<E;P++){const N=T[P],{filter:{event:I,schema:R,table:O,filter:D}}=N,q=w&&w[P];if(q&&q.event===I&&q.schema===R&&q.table===O&&q.filter===D)k.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),this.state=Bt.errored,e==null||e(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ui.SUBSCRIBED);return}}).receive("error",w=>{this.state=Bt.errored,e==null||e(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Bt.joined&&e===tu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zm(this,cr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=cr;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,T,E;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(T=w.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(w=>w.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var S,T,E,k,P,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const I=w.id,R=(S=w.filter)===null||S===void 0?void 0:S.event;return I&&((T=n.ids)===null||T===void 0?void 0:T.includes(I))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(P=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:T,table:E,commit_timestamp:k,type:P,errors:N}=S;v=Object.assign(Object.assign({},{schema:T,table:E,commit_timestamp:k,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(S))}w.callback(v,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Xv.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cr.close,{},e)}_onError(e){this._on(cr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=iE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=iE(e.columns,e.old_record)),n}}const $m=()=>{},od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SL=[1e3,2e3,5e3,1e4],EL=1e4,TL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=My,this.transport=null,this.heartbeatIntervalMs=od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$m,this.ref=0,this.reconnectTimer=null,this.vsn=rE,this.logger=$m,this.conn=null,this.sendBuffer=[],this.serializer=new gL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Oy.websocket}`,this.httpEndpoint=Mk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Ga.Connecting;case Ha.open:return Ga.Open;case Ha.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Xv(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([TL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:fL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Rk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,l,u,d,f,h,m,v,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:My,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:od.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:$m,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:rE,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(S=>SL[S-1]||EL),this.vsn){case Pk:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((S,T)=>T(JSON.stringify(S))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((S,T)=>T(JSON.parse(S)));break;case hL:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Qv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CL extends Qv{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jy extends Qv{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Zv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NL=()=>Response,Ly=t=>{if(Array.isArray(t))return t.map(n=>Ly(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Ly(r)}),e},kL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},PL=(t,e,n)=>Te(void 0,void 0,void 0,function*(){const r=yield NL();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new CL(Hm(i),o,l))}).catch(i=>{e(new jy(Hm(i),i))}):e(new jy(Hm(t),t))}),RL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(kL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function _u(t,e,n,r,i,o){return Te(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,RL(e,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>PL(d,u,r))})})}function au(t,e,n,r){return Te(this,void 0,void 0,function*(){return _u(t,"GET",e,n,r)})}function Er(t,e,n,r,i){return Te(this,void 0,void 0,function*(){return _u(t,"POST",e,r,i,n)})}function Uy(t,e,n,r,i){return Te(this,void 0,void 0,function*(){return _u(t,"PUT",e,r,i,n)})}function IL(t,e,n,r){return Te(this,void 0,void 0,function*(){return _u(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function eb(t,e,n,r,i){return Te(this,void 0,void 0,function*(){return _u(t,"DELETE",e,r,i,n)})}class ML{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}var Ok;class OL{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Ok]="BlobDownloadBuilder",this.promise=null}asStream(){return new ML(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bt(e))return{data:null,error:e};throw e}})}}Ok=Symbol.toStringTag;const DL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jL{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Zv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Te(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},sE),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield(e=="PUT"?Uy:Er)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Te(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:sE.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield Uy(this.fetch,u.toString(),d,{headers:h});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(bt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Er(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Qv("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Te(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Er(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Te(this,void 0,void 0,function*(){try{const i=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>au(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new OL(d,this.shouldThrowOnError)}info(e){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield au(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ly(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}exists(e){return Te(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield IL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r)&&r instanceof jy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Te(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DL),n),{prefix:e||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}listV2(e,n){return Te(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Dk="2.83.0",jk={"X-Client-Info":`storage-js/${Dk}`};class LL{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jk),n),this.fetch=Zv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Te(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield au(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}getBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}createBucket(e){return Te(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Te(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class UL{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jk),n),this.fetch=Zv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}listBuckets(e){return Te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield au(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}}const tb={"X-Client-Info":`storage-js/${Dk}`,"Content-Type":"application/json"};class Lk extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Gm extends Lk{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BL extends Lk{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var lE;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lE||(lE={}));const nb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zL=(t,e,n)=>Te(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Gm(uE(l),i,u))}).catch(()=>{const l=i+"",u=o.statusText||`HTTP ${i} error`;e(new Gm(u,i,l))});else{const l=i+"",u=o.statusText||`HTTP ${i} error`;e(new Gm(u,i,l))}}else e(new BL(uE(t),t))}),$L=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(qL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function HL(t,e,n,r,i,o){return Te(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,$L(e,r,i,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>zL(d,u,r))})})}function Gn(t,e,n,r,i){return Te(this,void 0,void 0,function*(){return HL(t,"POST",e,r,i,n)})}class GL{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tb),n),this.fetch=nb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Te(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Te(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}listIndexes(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Te(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}}class FL{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tb),n),this.fetch=nb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Te(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getVectors(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}listVectors(e){return Te(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Gn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}queryVectors(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Te(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}}class VL{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tb),n),this.fetch=nb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}listBuckets(){return Te(this,arguments,void 0,function*(e={}){try{return{data:yield Gn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Te(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}}class KL extends VL{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new YL(this.url,this.headers,e,this.fetch)}}class YL extends GL{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Te(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WL extends FL{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Te(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class JL extends LL{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new jL(this.url,this.headers,e,this.fetch)}get vectors(){return new KL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new UL(this.url+"/iceberg",this.headers,this.fetch)}}const XL="2.83.0";let Jl="";typeof Deno<"u"?Jl="deno":typeof document<"u"?Jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jl="react-native":Jl="node";const QL={"X-Client-Info":`supabase-js-${Jl}/${XL}`},ZL={headers:QL},eU={schema:"public"},tU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nU={},rU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iU=()=>Headers,aU=(t,e,n)=>{const r=rU(n),i=iU();return async(o,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))}};function oU(t){return t.endsWith("/")?t:t+"/"}function sU(t,e){var n,r;const{db:i,auth:o,realtime:l,global:u}=t,{db:d,auth:f,realtime:h,global:m}=e,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function lU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uk="2.83.0",cs=30*1e3,By=3,Fm=By*cs,uU="http://localhost:9999",cU="supabase.auth.token",dU={"X-Client-Info":`gotrue-js/${Uk}`},qy="X-Supabase-Api-Version",Bk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hU=600*1e3;class ou extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pU extends ou{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mU(t){return Ae(t)&&t.name==="AuthApiError"}class Fa extends ou{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ha extends ou{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Bn extends ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gU(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class ts extends ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sd extends ha{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ld extends ha{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yU(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class cE extends ha{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zy extends ha{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vm(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class dE extends ha{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $y extends ha{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fE=` 	
\r=`.split(""),vU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fE.length;e+=1)t[fE[e].charCodeAt(0)]=-2;for(let e=0;e<Id.length;e+=1)t[Id[e].charCodeAt(0)]=e;return t})();function hE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Id[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Id[r]),e.queuedBits-=6}}function qk(t,e,n){const r=vU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pE(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{wU(l,r,n)};for(let l=0;l<t.length;l+=1)qk(t.charCodeAt(l),i,o);return e.join("")}function bU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}bU(r,e)}}function wU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vs(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)qk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function _U(t){const e=[];return xU(t,n=>e.push(n)),new Uint8Array(e)}function Va(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>hE(i,n,r)),hE(null,n,r),e.join("")}function SU(t){return Math.round(Date.now()/1e3)+t}function EU(){return Symbol("auth-callback")}const rn=()=>typeof window<"u"&&typeof document<"u",La={tested:!1,writable:!1},zk=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(La.tested)return La.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),La.tested=!0,La.writable=!0}catch{La.tested=!0,La.writable=!1}return La.writable};function TU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const $k=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ds=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ua=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ia=async(t,e)=>{await t.removeItem(e)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pf.promiseConstructor=Promise;function Km(t){const e=t.split(".");if(e.length!==3)throw new $y("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!fU.test(e[r]))throw new $y("JWT not in base64url format");return{header:JSON.parse(pE(e[0])),payload:JSON.parse(pE(e[1])),signature:vs(e[2]),raw:{header:e[0],payload:e[1]}}}async function CU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function NU(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function kU(t){return("0"+t.toString(16)).substr(-2)}function PU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kU).join("")}async function RU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function IU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await RU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(t,e,n=!1){const r=PU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ds(t,`${e}-code-verifier`,i);const o=await IU(r);return[o,r===o?"plain":"s256"]}const MU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OU(t){const e=t.headers.get(qy);if(!e||!e.match(MU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(t){if(!LU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ym(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UU(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function mE(t){return JSON.parse(JSON.stringify(t))}const Ba=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BU=[502,503,504];async function gE(t){var e;if(!AU(t))throw new zy(Ba(t),0);if(BU.includes(t.status))throw new zy(Ba(t),t.status);let n;try{n=await t.json()}catch(o){throw new Fa(Ba(o),o)}let r;const i=OU(t);if(i&&i.getTime()>=Bk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dE(Ba(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new dE(Ba(n),t.status,n.weak_password.reasons);throw new pU(Ba(n),t.status||500,r)}const qU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ie(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[qy]||(o[qy]=Bk["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await zU(t,e,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function zU(t,e,n,r,i,o){const l=qU(e,r,i,o);let u;try{u=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new zy(Ba(d),0)}if(u.ok||await gE(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await gE(d)}}function Sr(t){var e;let n=null;GU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=SU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yE(t){const e=Sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function sa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $U(t){return{data:t,error:null}}function HU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,l=Ms(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function vE(t){return t}function GU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wm=["global","local","others"];class FU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=$k(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Wm[0]){if(Wm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wm.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ms(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:HU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vE});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);f[`${E}Page`]=T}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){rs(e);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rs(e);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:sa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rs(e);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:sa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rs(e.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vE});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);f[`${E}Page`]=T}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ae(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}function bE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const is={debug:!!(globalThis&&zk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VU extends Hk{}async function KU(t,e,n){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(is.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function YU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WU(t){return parseInt(t,16)}function JU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function XU(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:m,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Gk(t.address),S=h?`${h}://${r}`:r,T=t.statement?`${t.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${w}

${T}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}k+=P}return`${E}
${k}`}class It extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Md extends It{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function QU({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Fk(l)){if(o.rp.id!==l)return new It({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ZU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Fk(r)){if(n.rpId!==r)return new It({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class e4{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const t4=new e4;function n4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ms(t,["challenge","user","excludeCredentials"]),o=vs(e).buffer,l=Object.assign(Object.assign({},n),{id:vs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:vs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function r4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ms(t,["challenge","allowCredentials"]),i=vs(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function i4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Va(new Uint8Array(t.response.attestationObject)),clientDataJSON:Va(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Va(new Uint8Array(i.authenticatorData)),clientDataJSON:Va(new Uint8Array(i.clientDataJSON)),signature:Va(new Uint8Array(i.signature)),userHandle:i.userHandle?Va(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xE(){var t,e;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function o4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Md("Browser returned unexpected credential type",e)}:{data:null,error:new Md("Empty credential response",e)}}catch(e){return{data:null,error:QU({error:e,options:t})}}}async function s4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Md("Browser returned unexpected credential type",e)}:{data:null,error:new Md("Empty credential response",e)}}catch(e){return{data:null,error:ZU({error:e,options:t})}}}const l4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},u4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const u=r[o];e(u)?r[o]=Od(u,l):r[o]=Od(l)}else r[o]=l}return r}function c4(t,e){return Od(l4,t,e||{})}function d4(t,e){return Od(u4,t,e||{})}class f4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const d=i??t4.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=c4(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await o4({publicKey:f,signal:d});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=d4(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await s4(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Fa("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn authentication")};try{if(!xE())return{data:null,error:new Fa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Fa("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn registration")};try{if(!xE())return{data:null,error:new Fa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Fa("Unexpected error in register",l)}}}}YU();const h4={url:uU,storageKey:cU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wE(t,e,n){return await n()}const as={};class su{get jwks(){var e,n;return(n=(e=as[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=as[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},h4),e);if(this.storageKey=o.storageKey,this.instanceID=(n=su.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,su.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&rn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new FU({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$k(o.fetch),this.lock=o.lock||wE,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KU:this.lock=wE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:zk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=bE(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uk}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(rn()&&(n=TU(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),rn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yU(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?this._returnResult({error:n}):this._returnResult({error:new Fa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Sr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(Ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:h,password:m,options:v}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await ns(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:S},xform:Sr})}else if("phone"in e){const{phone:h,password:m,options:v}=e;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Sr})}else throw new sd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(Ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:u}=e;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:yE})}else if("phone"in e){const{phone:o,password:l,options:u}=e;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:yE})}else throw new sd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new ts;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,l,u,d,f,h,m,v;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:T,wallet:E,statement:k,options:P}=e;let N;if(rn())if(typeof E=="object")N=E;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")N=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const I=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),R=await N.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Gk(R[0]);let D=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const $=await N.request({method:"eth_chainId"});D=WU($)}const q={domain:I.host,address:O,statement:k,uri:I.href,version:"1",chainId:D,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=XU(q),S=await N.request({method:"personal_sign",params:[JU(w),O]})}try{const{data:T,error:E}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Sr});if(E)throw E;if(!T||!T.session||!T.user){const k=new ts;return this._returnResult({data:{user:null,session:null},error:k})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(Ae(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,r,i,o,l,u,d,f,h,m,v,w;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:E,wallet:k,statement:P,options:N}=e;let I;if(rn())if(typeof k=="object")I=k;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))I=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const R=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const O=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),P?{statement:P}:null));let D;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")D=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)D=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),T=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const O=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=O}}try{const{data:E,error:k}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Va(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Sr});if(k)throw k;if(!E||!E.session||!E.user){const P=new ts;return this._returnResult({data:{user:null,session:null},error:P})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:k})}catch(E){if(Ae(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sr});if(await ia(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ae(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=e,u=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new ts;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ns(this.storage,this.storageKey));const{error:m}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new sd("You must provide either an email or phone number.")}catch(u){if(Ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Sr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ns(this.storage,this.storageKey));const f=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:$U});return!((o=f.data)===null||o===void 0)&&o.url&&rn()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(Ae(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Bn;const{error:i}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:u}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new sd("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ua(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Ym()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=UU(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sa}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:sa})})}catch(n){if(Ae(n))return gU(n)&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Bn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await ns(this.storage,this.storageKey));const{data:f,error:h}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:sa});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Km(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Bn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!rn())throw new ld("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ld(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ld("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cE("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!l||!f)throw new ld("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let v=h+m;d&&(v=parseInt(d));const w=v-h;w*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const S=v-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:T,error:E}=await this._getUser(o);if(E)throw E;const k={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(mU(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=EU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ns(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ae(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,h;const{data:m,error:v}=o;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return rn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=e,m=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sr}),{data:v,error:w}=m;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ts}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await NU(async i=>(i>0&&await CU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Vm(o)&&Date.now()+l-r<cs})}catch(r){if(this._debug(n,"error",r),Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),rn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ua(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await ds(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Ym()}else if(i&&!i.user&&!i.user){const l=await Ua(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ia(this.storage,this.storageKey+"-user"),await ds(this.storage,this.storageKey,i)):i.user=Ym()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Fm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Vm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Bn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ae(o)){const l={data:null,error:o};return Vm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ds(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=mE(i);await ds(this.storage,this.storageKey,o)}else{const i=mE(n);await ds(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ia(this.storage,this.storageKey),await ia(this.storage,this.storageKey+"-code-verifier"),await ia(this.storage,this.storageKey+"-user"),this.userStorage&&await ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cs}ms, refresh threshold is ${By} ticks`),i<=By&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ns(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?i4(e.webauthn.credential_response):a4(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:n4(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:r4(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Km(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Bn});const l=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Bn});const l=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(e){if(Ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Bn})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+hU>i)return r;const{data:o,error:l}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});r=w.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Km(r);n!=null&&n.allowExpired||DU(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:i,signature:l},error:null}}const h=jU(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,_U(`${u}.${d}`)))throw new $y("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}}su.nextInstanceID={};const p4=su;class m4 extends p4{constructor(e){super(e)}}class g4{constructor(e,n,r){var i,o,l;this.supabaseUrl=e,this.supabaseKey=n;const u=lU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:eU,realtime:nU,auth:Object.assign(Object.assign({},tU),{storageKey:d}),global:ZL},h=sU(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=aU(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new uL(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new JL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new aL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:f,throwOnError:h},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m4({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:f,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new AL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vk=(t,e,n)=>new g4(t,e,n);function y4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}y4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v4=void 0,b4=void 0;throw new Error("Supabase URL and Anon Key must be provided in environment variables.");const At=Vk(v4,b4),_E=()=>({revenue:{today:"",week:"",month:"",ytd:"",mcv:"",acv:""},prospectingBlock:"",events:[],followUpBlock:"",winsToday:[],topTargets:Array.from({length:6},(t,e)=>({id:`top-${e}-${Date.now()}`,text:"",completed:!1})),massiveGoals:Array.from({length:6},(t,e)=>({id:`massive-${e}-${Date.now()}`,text:"",completed:!1})),aiChallenge:{quote:null,challenges:[],challengesAccepted:!1,completedChallenges:[]},prospectingContacts:Array.from({length:200},(t,e)=>({id:`contact-${e}-${Date.now()}`,name:"",date:"",phone:"",email:"",interestLevel:5,prospecting:{}})),milestones:{calls30Achieved:!1},talkTime:"",eodSubmitted:!1}),x4=void 0,w4=void 0;throw new Error("Supabase URL and Anon Key must be provided in environment variables.");const SE=Vk(x4,w4),_4=({onClose:t})=>{const[e,n]=A.useState(!0),[r,i]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState(""),[f,h]=A.useState(""),[m,v]=A.useState(""),[w,S]=A.useState(!1),[T,E]=A.useState(!1),k=async N=>{if(N.preventDefault(),h(""),v(""),S(!0),e){const{error:I}=await SE.auth.signInWithPassword({email:o,password:u});I&&h(I.message)}else{const{error:I}=await SE.auth.signUp({email:o,password:u,options:{data:{full_name:r}}});I?h(I.message):(v("Sign-up successful! Please check your email to confirm your account."),n(!0))}S(!1)},P=()=>{n(!e),h(""),v("")};return g.jsx("div",{className:"modal-backdrop",onClick:t,children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl p-8 w-full max-w-md animate-fade-in",onClick:N=>N.stopPropagation(),children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-brand-light-text dark:text-white",children:e?"Welcome Back!":"Create Your Account"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e?"Log in to track your actions and dominate your day.":"Join the ranks of high-performers and start your journey."})]}),g.jsxs("form",{onSubmit:k,className:"space-y-6",children:[!e&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Full Name"}),g.jsx("input",{id:"name",type:"text",value:r,onChange:N=>i(N.target.value),required:!0,disabled:w,className:"w-full px-4 py-2 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-md text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Email Address"}),g.jsx("input",{id:"email",type:"email",value:o,onChange:N=>l(N.target.value),required:!0,disabled:w,className:"w-full px-4 py-2 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-md text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"password",type:T?"text":"password",value:u,onChange:N=>d(N.target.value),required:!0,disabled:w,className:"w-full px-4 py-2 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-md text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue pr-10"}),g.jsx("button",{type:"button",onClick:()=>E(!T),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-brand-blue","aria-label":T?"Hide password":"Show password",children:T?g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[g.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074L3.707 2.293zM10 12a2 2 0 110-4 2 2 0 010 4z",clipRule:"evenodd"}),g.jsx("path",{d:"M10 17a9.953 9.953 0 01-4.522-.997l1.523-1.523a4 4 0 005.9-5.9l1.523-1.523A9.953 9.953 0 0110 17z"})]}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[g.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),g.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})]}),f&&g.jsx("p",{className:"text-brand-red text-sm text-center",children:f}),m&&g.jsx("p",{className:"text-brand-lime text-sm text-center",children:m}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:w,className:"w-full bg-brand-red text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:bg-brand-gray",children:w?"Processing...":e?"Sign In":"Sign Up & Get Started"})})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:P,className:"text-sm text-brand-blue hover:underline font-semibold",children:e?"Don't have an account? Sign Up":"Already have an account? Sign In"})})]})})},ud=({icon:t,title:e,children:n})=>g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray/50 text-center transform hover:-translate-y-2 transition-transform duration-300",children:[g.jsx("div",{className:"flex justify-center mb-4 text-brand-red",children:t}),g.jsx("h3",{className:"text-xl font-bold text-brand-light-text dark:text-white mb-2",children:e}),g.jsx("p",{className:"text-brand-light-gray dark:text-gray-400 text-sm",children:n})]}),Jm=({plan:t,price:e,description:n,features:r,isFeatured:i,ctaLink:o})=>g.jsxs("div",{className:`border rounded-lg p-8 flex flex-col ${i?"border-brand-red scale-105 bg-brand-navy":"border-brand-light-border dark:border-brand-gray bg-brand-light-card dark:bg-brand-navy"}`,children:[g.jsx("h3",{className:`text-2xl font-bold ${i?"text-white":"text-brand-light-text dark:text-white"}`,children:t}),g.jsx("p",{className:`mt-2 ${i?"text-gray-300":"text-brand-light-gray dark:text-gray-400"}`,children:n}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("span",{className:`text-5xl font-black tracking-tight ${i?"text-white":"text-brand-light-text dark:text-white"}`,children:["$",e]}),g.jsx("span",{className:` ${i?"text-gray-300":"text-brand-light-gray dark:text-gray-400"}`,children:"/ month"})]}),g.jsx("ul",{className:`mt-8 space-y-4 text-sm flex-grow ${i?"text-gray-300":"text-brand-light-gray dark:text-gray-300"}`,children:r.map(l=>g.jsxs("li",{className:"flex items-start",children:[g.jsx("svg",{className:"w-5 h-5 text-brand-lime mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),g.jsx("span",{children:l})]},l))}),g.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:`mt-8 block text-center font-bold py-3 px-4 rounded-lg transition-colors ${i?"bg-brand-lime text-brand-ink hover:bg-green-400":"bg-brand-blue text-white hover:bg-blue-700"}`,children:"Get Started"})]}),S4=()=>{const[t,e]=A.useState(!1),n=r=>{var o;r.preventDefault();const i=(o=r.currentTarget.getAttribute("href"))==null?void 0:o.substring(1);if(i){const l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}};return g.jsxs(g.Fragment,{children:[t&&g.jsx(_4,{onClose:()=>e(!1)}),g.jsxs("div",{className:"bg-brand-light-bg dark:bg-brand-ink text-brand-light-text dark:text-gray-300 font-sans",children:[g.jsx("header",{className:"sticky top-0 bg-brand-light-card/80 dark:bg-brand-navy/80 backdrop-blur-lg border-b border-brand-light-border dark:border-brand-gray z-50",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsxs("h1",{className:"text-2xl font-black tracking-tighter text-brand-light-text dark:text-white uppercase",children:["TRUE",g.jsx("span",{className:"text-brand-red",children:"X"}),"PANSE"]}),g.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[g.jsx("a",{href:"#features",onClick:n,className:"text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:"Features"}),g.jsx("a",{href:"#pricing",onClick:n,className:"text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:"Pricing"})]}),g.jsx("button",{onClick:()=>e(!0),className:"bg-brand-blue text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700 transition text-sm",children:"Login / Sign Up"})]})})}),g.jsxs("main",{children:[g.jsxs("section",{className:"relative text-center py-24 sm:py-40 px-4 bg-cover bg-center bg-no-repeat border-b border-brand-light-border dark:border-brand-gray",style:{backgroundImage:"url('https://storage.googleapis.com/aistudio-hosting/images/superhero-mat.jpg')"},children:[g.jsx("div",{className:"absolute inset-0 bg-brand-ink bg-opacity-70"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h1",{className:"text-4xl sm:text-6xl font-black tracking-tighter text-white uppercase",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.7)"},children:"STOP GUESSING. START DOMINATING."}),g.jsx("p",{className:"max-w-3xl mx-auto mt-4 text-lg text-gray-200 font-semibold tracking-wide",children:"Harness world-class KPIs, unbreakable accountability, and AI-powered strategy to turn massive action into predictable revenue. This is your command center."}),g.jsx("div",{className:"mt-8",children:g.jsx("a",{href:"#pricing",onClick:n,className:"bg-brand-red text-white font-bold py-4 px-8 rounded-lg hover:bg-red-700 transition-transform transform hover:scale-105 inline-block shadow-lg",children:"Choose Your Plan"})})]})]}),g.jsx("section",{id:"features",className:"py-20 sm:py-24 px-4",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-brand-light-text dark:text-white mb-12",children:"The Command Center for Your Ambition"}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[g.jsx(ud,{title:"Clarity Through Action",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),children:"Log every call, every meeting, every win. Build unstoppable momentum with a system that translates daily grind into measurable progress."}),g.jsx(ud,{title:"Data-Driven Dominance",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),children:"Stop flying blind. Your revenue, pipeline, and conversion rates are monitored in real-time on a dashboard that turns critical KPIs into winning decisions."}),g.jsx(ud,{title:"Your AI Strategy Partner",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),children:"Generate powerful sales scripts, overcome objections with smart talking points, and get daily challenges that push you beyond your limits."}),g.jsx(ud,{title:"Scale Your Success",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),children:"From a solo powerhouse to a growing team, MAT scales with you. Onboard new reps, monitor team performance, and build a consistent culture of winning."})]})]})}),g.jsxs("section",{id:"pricing",className:"py-20 sm:py-24 px-4 bg-brand-light-bg dark:bg-brand-ink",children:[g.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-brand-light-text dark:text-white",children:"An Unfair Advantage is Priceless."}),g.jsx("p",{className:"mt-4 text-brand-light-gray dark:text-gray-400",children:"Invest in the system that pays for itself. Choose your plan."})]}),g.jsxs("div",{className:"max-w-7xl mx-auto mt-16 grid lg:grid-cols-3 gap-8",children:[g.jsx(Jm,{plan:"Pro",price:"97",description:"For the driven individual committed to peak performance.",features:["Full Daily Action Tracking","Personal KPI Dashboards","AI Coaching & Content Generation","Hot Lead Management","Revenue & Client Tracking","Daily AI Challenges"],ctaLink:"https://buy.stripe.com/test_1"}),g.jsx(Jm,{plan:"Elite",price:"247",description:"For serious business builders and small teams.",features:["Includes up to 5 users","All Pro features, plus:","Team Control Panel","Team Performance Dashboards","Advanced KPI Analytics","Priority Support"],isFeatured:!0,ctaLink:"https://buy.stripe.com/test_2"}),g.jsx(Jm,{plan:"Dominion",price:"497",description:"For leaders building an empire.",features:["Includes up to 15 users","All Elite features, plus:","AI Revenue Analysis","AI Performance Evaluations","Dedicated Account Manager","API Access (Coming Soon)"],ctaLink:"https://buy.stripe.com/test_3"})]})]})]}),g.jsx("footer",{className:"bg-brand-light-card dark:bg-brand-navy border-t border-brand-light-border dark:border-brand-gray",children:g.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center",children:g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," TRUE",g.jsx("span",{className:"text-brand-red",children:"X"}),"PANSE. All rights reserved. Take massive action."]})})})]})]})},E4=({theme:t,setTheme:e})=>{const n=()=>{e(t==="dark"?"light":"dark")};return g.jsx("button",{onClick:n,className:"ml-2 p-2 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-light-card dark:focus:ring-offset-brand-navy focus:ring-brand-blue","aria-label":"Toggle theme",children:t==="dark"?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})},T4=()=>g.jsxs("div",{className:"flex items-center space-x-2 ml-4",title:"Application Status",children:[g.jsx("div",{className:"w-2.5 h-2.5 bg-brand-lime rounded-full animate-pulse"}),g.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Status: Live"})]}),_r=({children:t,onClick:e,active:n})=>g.jsx("button",{onClick:e,className:`block w-full text-left px-4 py-2 text-sm ${n?"bg-brand-red text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-brand-gray/50"}`,children:t}),cd=({title:t,children:e,isOpen:n,onToggle:r})=>g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:r,className:"py-2 px-3 text-xs font-bold rounded-md transition-colors text-gray-400 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-brand-gray/50",children:t}),n&&g.jsx("div",{className:"absolute mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-brand-navy ring-1 ring-black ring-opacity-5 z-20",children:g.jsx("div",{className:"py-1",children:e})})]}),A4=({theme:t,setTheme:e,setView:n,currentView:r,userRole:i,onLogout:o,userName:l,isDemoMode:u})=>{const[d,f]=A.useState(null),h=v=>{f(d===v?null:v)},m=v=>{n(v),f(null)};return g.jsxs("header",{className:"bg-brand-light-card dark:bg-brand-navy border-b border-brand-light-border dark:border-brand-gray sticky top-0 z-40",children:[g.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsxs("h1",{className:"text-2xl font-black tracking-tighter text-brand-light-text dark:text-white uppercase cursor-pointer",onClick:()=>m("day-view"),children:["TRUE",g.jsx("span",{className:"text-brand-red",children:"X"}),"PANSE"]})}),g.jsxs("div",{className:"flex items-center",children:[g.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[g.jsxs(cd,{title:"Activity",isOpen:d==="activity",onToggle:()=>h("activity"),children:[g.jsx(_r,{onClick:()=>m("day-view"),active:r==="day-view",children:"Day View"}),g.jsx(_r,{onClick:()=>m("month-view"),active:r==="month-view",children:"Month View"})]}),g.jsxs(cd,{title:"Pipeline",isOpen:d==="pipeline",onToggle:()=>h("pipeline"),children:[g.jsx(_r,{onClick:()=>m("prospecting"),active:r==="prospecting",children:"Prospecting"}),g.jsx(_r,{onClick:()=>m("hot-leads"),active:r==="hot-leads",children:"Hot Leads"}),g.jsx(_r,{onClick:()=>m("new-clients"),active:r==="new-clients",children:"New Clients"}),g.jsx(_r,{onClick:()=>m("revenue"),active:r==="revenue",children:"Revenue"})]}),g.jsxs(cd,{title:"Marketing",isOpen:d==="marketing",onToggle:()=>h("marketing"),children:[g.jsx(_r,{onClick:()=>m("ai-images"),active:r==="ai-images",children:"AI Images"}),g.jsx(_r,{onClick:()=>m("ai-content"),active:r==="ai-content",children:"AI Content"}),g.jsx(_r,{onClick:()=>m("coaching"),active:r==="coaching",children:"Coaching"})]}),i==="Manager"&&g.jsxs(cd,{title:"Leadership",isOpen:d==="leadership",onToggle:()=>h("leadership"),children:[g.jsx(_r,{onClick:()=>m("team-control"),active:r==="team-control",children:"Team Control Panel"}),g.jsx(_r,{onClick:()=>m("performance-dashboard"),active:r==="performance-dashboard",children:"Performance Dashboard"})]}),g.jsx("button",{onClick:()=>m("eod-report"),className:`py-2 px-3 text-xs font-bold rounded-md transition-colors ${r==="eod-report"?"bg-brand-red text-white":"text-gray-400 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-brand-gray/50"}`,children:"EOD Report"})]}),g.jsxs("div",{className:"flex items-center ml-4",children:[g.jsxs("span",{className:"hidden sm:inline text-sm text-gray-500 dark:text-gray-400 mr-3",children:["Welcome, ",(l==null?void 0:l.split(" ")[0])||""]}),g.jsx("button",{onClick:o,className:"py-2 px-3 text-xs font-bold rounded-md transition-colors text-gray-400 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-brand-gray/50",children:"Logout"}),g.jsx(T4,{}),g.jsx(E4,{theme:t,setTheme:e})]})]})]})}),u&&g.jsx("div",{className:"bg-yellow-400 text-black text-xs font-bold text-center py-1",children:"DEMO MODE"})]})},C4=["Appointment","Meeting","Call","Follow-up","Personal","Task"],EE=["SW","NA","LM","ST","EP","SA"],TE={SW:"Spoke With",NA:"No Answer",LM:"Left Message",ST:"Sent Text",EP:"Emailed Proposal",SA:"Set Appointment"},ca=()=>({revenue:{today:"",week:"",month:"",ytd:"",mcv:"",acv:""},prospectingBlock:"",events:[],followUpBlock:"",winsToday:[],topTargets:Array.from({length:6},(t,e)=>({id:`top-${e}-${Date.now()}`,text:"",completed:!1})),massiveGoals:Array.from({length:6},(t,e)=>({id:`massive-${e}-${Date.now()}`,text:"",completed:!1})),aiChallenge:{quote:null,challenges:[],challengesAccepted:!1,completedChallenges:[]},prospectingContacts:Array.from({length:200},(t,e)=>({id:`contact-${e}-${Date.now()}`,name:"",date:"",phone:"",email:"",interestLevel:5,prospecting:{}})),milestones:{calls30Achieved:!1},talkTime:"",eodSubmitted:!1}),Hy={1:"Call",2:"Handwritten Letter",3:"Text Video",4:"Personal Visit",5:"Thought of You",10:"Event Offer",14:"Informational Links",21:"Video Email",30:"Special Offer"},ua=t=>{if(!t)return t;const e=t.replace(/[^\d]/g,""),n=e.length;return n<4?e:n<7?`(${e.slice(0,3)}) ${e.slice(3)}`:`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`},Kk=t=>{if(!t)return"";const[e,n]=t.split(":"),r=parseInt(e,10),i=r>=12?"PM":"AM";return`${r%12||12}:${n} ${i}`},yt=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let N4,k4;function P4(){return{geminiUrl:N4,vertexUrl:k4}}function R4(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=P4();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ei{}function ye(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];b(h,e.slice(o+1),n[f])}else for(const f of d)b(f,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];b(d[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function I4(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&o.length>u)for(let d=u;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Gy(t,i,o,0,l)}}function Gy(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Gy(d,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);b(l,m,h)}for(const f of u)delete l[f]}}else{const l=t;o in l&&Gy(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M4(t){const e={},n=y(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function O4(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response","generateVideoResponse"]);return l!=null&&b(e,["response"],j4(l)),e}function D4(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response"]);return l!=null&&b(e,["response"],L4(l)),e}function j4(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>U4(l))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function L4(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>B4(l))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function U4(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],F4(n)),e}function B4(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],V4(n)),e}function q4(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function z4(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function $4(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response"]);return l!=null&&b(e,["response"],H4(l)),e}function H4(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function Yk(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response"]);return l!=null&&b(e,["response"],G4(l)),e}function G4(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function F4(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],rb(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function V4(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],rb(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AE||(AE={}));var CE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(CE||(CE={}));var NE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(NE||(NE={}));var Me;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Me||(Me={}));var kE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kE||(kE={}));var PE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(PE||(PE={}));var RE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(RE||(RE={}));var IE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(IE||(IE={}));var ME;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ME||(ME={}));var OE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(OE||(OE={}));var DE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(DE||(DE={}));var jE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jE||(jE={}));var LE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(LE||(LE={}));var UE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(UE||(UE={}));var BE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(BE||(BE={}));var qE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qE||(qE={}));var zE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zE||(zE={}));var $E;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($E||($E={}));var HE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(HE||(HE={}));var lu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(lu||(lu={}));var GE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GE||(GE={}));var FE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(FE||(FE={}));var VE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VE||(VE={}));var Fy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fy||(Fy={}));var KE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KE||(KE={}));var YE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(YE||(YE={}));var WE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(WE||(WE={}));var JE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(JE||(JE={}));var XE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XE||(XE={}));var QE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QE||(QE={}));var ZE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ZE||(ZE={}));var eT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(eT||(eT={}));var tT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(tT||(tT={}));var nT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(nT||(nT={}));var rT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rT||(rT={}));var iT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iT||(iT={}));var aT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aT||(aT={}));var oT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oT||(oT={}));var sT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sT||(sT={}));var lT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(lT||(lT={}));var uT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(uT||(uT={}));var cT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cT||(cT={}));var dT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dT||(dT={}));var fT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(fT||(fT={}));var hT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hT||(hT={}));var pT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pT||(pT={}));var mT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mT||(mT={}));var gT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gT||(gT={}));var yT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yT||(yT={}));var vT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vT||(vT={}));var bT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bT||(bT={}));var xT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xT||(xT={}));var wT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wT||(wT={}));var _T;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(_T||(_T={}));var ps;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ps||(ps={}));class Vy{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $l{get text(){var e,n,r,i,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const v of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[w,S]of Object.entries(v))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[v,w]of Object.entries(m))v!=="inlineData"&&(w!==null||w!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,l,u,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,l,u,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class ST{}class ET{}class K4{}class Y4{}class W4{}class J4{}class TT{}class AT{}class CT{}class X4{}class Dd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Dd;let i;const o=e;return n?i=D4(o):i=O4(o),Object.assign(r,i),r}}class NT{}class kT{}class PT{}class Q4{}class Z4{}class e3{}class ib{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ib,o=$4(e);return Object.assign(r,o),r}}class t3{}class n3{}class r3{}class RT{}class i3{get text(){var e,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class a3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ab{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ab,o=Yk(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wk(t,e){const n=Je(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Jk(t){return Array.isArray(t)?t.map(e=>jd(e)):[jd(t)]}function jd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Xk(t){const e=jd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qk(t){const e=jd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Zk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>IT(e)):[IT(t)]}function Ky(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function MT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function OT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function hn(t){if(t==null)throw new Error("ContentUnion is required");return Ky(t)?t:{role:"user",parts:Zk(t)}}function ob(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=hn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=hn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>hn(n)):[hn(e)]}function hr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(MT(t)||OT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(t)]}const e=[],n=[],r=Ky(t[0]);for(const i of t){const o=Ky(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(MT(i)||OT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Zk(n)}),e}function o3(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Me).includes(n[0].toUpperCase())?n[0].toUpperCase():Me.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Me).includes(r.toUpperCase())?r.toUpperCase():Me.TYPE_UNSPECIFIED})}}function bs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&o3(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Me).includes(u.toUpperCase())?u.toUpperCase():Me.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=bs(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}d.push(bs(f))}e[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=bs(h);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function sb(t){return bs(t)}function lb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ub(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ds(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bs(e.response));return t}function js(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function s3(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return s3(t,e,"cachedContents")}function eP(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function pa(t){return rb(t)}function l3(t){return t!=null&&typeof t=="object"&&"name"in t}function u3(t){return t!=null&&typeof t=="object"&&"video"in t}function c3(t){return t!=null&&typeof t=="object"&&"uri"in t}function tP(t){var e;let n;if(l3(t)&&(n=t.name),!(c3(t)&&(n=t.uri,n===void 0))&&!(u3(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function nP(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rP(t){for(const e of["models","tunedModels","publisherModels"])if(d3(t,e))return t[e];return[]}function d3(t,e){return t!==null&&typeof t=="object"&&e in t}function f3(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function h3(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=f3(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function iP(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function p3(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aP(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ls(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oP(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m3(t){const e={},n=y(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>W3(l))),b(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["inlinedEmbedContentResponses"],o)}return e}function g3(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function y3(t){const e={},n=y(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Td(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&b(e,["state"],oP(i));const o=y(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const l=y(t,["metadata","endTime"]);l!=null&&b(e,["endTime"],l);const u=y(t,["metadata","updateTime"]);u!=null&&b(e,["updateTime"],u);const d=y(t,["metadata","model"]);d!=null&&b(e,["model"],d);const f=y(t,["metadata","output"]);return f!=null&&b(e,["dest"],m3(aP(f))),e}function Yy(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["state"]);i!=null&&b(e,["state"],oP(i));const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["createTime"]);l!=null&&b(e,["createTime"],l);const u=y(t,["startTime"]);u!=null&&b(e,["startTime"],u);const d=y(t,["endTime"]);d!=null&&b(e,["endTime"],d);const f=y(t,["updateTime"]);f!=null&&b(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&b(e,["model"],h);const m=y(t,["inputConfig"]);m!=null&&b(e,["src"],v3(m));const v=y(t,["outputConfig"]);v!=null&&b(e,["dest"],g3(aP(v)));const w=y(t,["completionStats"]);return w!=null&&b(e,["completionStats"],w),e}function v3(t){const e={},n=y(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function b3(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Y3(t,l))),b(n,["requests","requests"],o)}return n}function x3(t){const e={},n=y(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function w3(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function _3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function S3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function E3(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],T3(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const l=y(t,["avgLogprobs"]);l!=null&&b(e,["avgLogprobs"],l);const u=y(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const d=y(t,["index"]);d!=null&&b(e,["index"],d);const f=y(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["safetyRatings"],v)}const m=y(t,["urlContextMetadata"]);return m!=null&&b(e,["urlContextMetadata"],m),e}function T3(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function sP(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nB(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function A3(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function C3(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],y3(p3(i))),n}function DT(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],b3(t,iP(t,i)));const o=y(e,["config"]);return o!=null&&A3(o,n),n}function N3(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],Je(t,r));const i=y(e,["src"]);i!=null&&b(n,["inputConfig"],x3(iP(t,i)));const o=y(e,["config"]);return o!=null&&C3(o,n),n}function k3(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function P3(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],L3(t,i));const o=y(e,["config"]);return o!=null&&k3(o,n),n}function R3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function I3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function M3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function O3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function D3(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=ob(t,r);Array.isArray(o)&&(o=o.map(l=>l)),b(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(b(n,["_self"],j3(i,n)),I4(n,{"requests[].*":"requests[].request.*"})),n}function j3(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function L3(t,e){const n={},r=y(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],D3(t,i)),n}function U3(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function B3(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function q3(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function z3(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],sP(hn(i)));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const l=y(e,["topP"]);l!=null&&b(r,["topP"],l);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const d=y(e,["candidateCount"]);d!=null&&b(r,["candidateCount"],d);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const m=y(e,["responseLogprobs"]);m!=null&&b(r,["responseLogprobs"],m);const v=y(e,["logprobs"]);v!=null&&b(r,["logprobs"],v);const w=y(e,["presencePenalty"]);w!=null&&b(r,["presencePenalty"],w);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const T=y(e,["seed"]);T!=null&&b(r,["seed"],T);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const k=y(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],sb(k));const P=y(e,["responseJsonSchema"]);if(P!=null&&b(r,["responseJsonSchema"],P),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=y(e,["safetySettings"]);if(n!==void 0&&N!=null){let L=N;Array.isArray(L)&&(L=L.map(H=>rB(H))),b(n,["safetySettings"],L)}const I=y(e,["tools"]);if(n!==void 0&&I!=null){let L=js(I);Array.isArray(L)&&(L=L.map(H=>aB(Ds(H)))),b(n,["tools"],L)}const R=y(e,["toolConfig"]);if(n!==void 0&&R!=null&&b(n,["toolConfig"],iB(R)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(e,["cachedContent"]);n!==void 0&&O!=null&&b(n,["cachedContent"],Ti(t,O));const D=y(e,["responseModalities"]);D!=null&&b(r,["responseModalities"],D);const q=y(e,["mediaResolution"]);q!=null&&b(r,["mediaResolution"],q);const $=y(e,["speechConfig"]);if($!=null&&b(r,["speechConfig"],lb($)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(e,["thinkingConfig"]);F!=null&&b(r,["thinkingConfig"],F);const G=y(e,["imageConfig"]);return G!=null&&b(r,["imageConfig"],K3(G)),r}function $3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>E3(f))),b(e,["candidates"],d)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const l=y(t,["responseId"]);l!=null&&b(e,["responseId"],l);const u=y(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function H3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function G3(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ls(t,r)),n}function F3(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function V3(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function K3(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Y3(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["request","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let u=hr(i);Array.isArray(u)&&(u=u.map(d=>sP(d))),b(n,["request","contents"],u)}const o=y(e,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(e,["config"]);return l!=null&&b(n,["request","generationConfig"],z3(t,l,y(n,["request"],{}))),n}function W3(t){const e={},n=y(t,["response"]);n!=null&&b(e,["response"],$3(n));const r=y(t,["error"]);return r!=null&&b(e,["error"],r),e}function J3(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function X3(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function Q3(t){const e={},n=y(t,["config"]);return n!=null&&J3(n,e),e}function Z3(t){const e={},n=y(t,["config"]);return n!=null&&X3(n,e),e}function eB(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Td(l))),b(e,["batchJobs"],o)}return e}function tB(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Yy(l))),b(e,["batchJobs"],o)}return e}function nB(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],U3(o));const l=y(t,["functionCall"]);l!=null&&b(e,["functionCall"],B3(l));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const d=y(t,["inlineData"]);d!=null&&b(e,["inlineData"],w3(d));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const m=y(t,["thoughtSignature"]);m!=null&&b(e,["thoughtSignature"],m);const v=y(t,["videoMetadata"]);return v!=null&&b(e,["videoMetadata"],v),e}function rB(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function iB(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],q3(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function aB(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const l=y(t,["codeExecution"]);if(l!=null&&b(e,["codeExecution"],l),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],F3(u));const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],V3(d));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gi||(gi={}));class so{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oB extends Ei{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new so(gi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=DT(this.apiClient,e),r=n._url,i=ye("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const w=m.request;w.systemInstruction=v,m.request=w}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=N3(this.apiClient,e);return u=ye("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Yy(h))}else{const f=DT(this.apiClient,e);return u=ye("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Td(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P3(this.apiClient,e);return o=ye("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Td(d))}}async get(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=G3(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Yy(h))}else{const f=H3(this.apiClient,e);return u=ye("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Td(h))}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const d=S3(this.apiClient,e);l=ye("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=_3(this.apiClient,e);l=ye("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Z3(e);return u=ye("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=tB(h),v=new RT;return Object.assign(v,m),v})}else{const f=Q3(e);return u=ye("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=eB(h),v=new RT;return Object.assign(v,m),v})}}async delete(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=I3(this.apiClient,e);return u=ye("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>O3(h))}else{const f=R3(this.apiClient,e);return u=ye("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>M3(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sB(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function jT(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>PB(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function lB(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const l=y(t,["contents"]);if(e!==void 0&&l!=null){let h=hr(l);Array.isArray(h)&&(h=h.map(m=>jT(m))),b(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],jT(hn(u)));const d=y(t,["tools"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>IB(m))),b(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&b(e,["toolConfig"],RB(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function uB(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const l=y(t,["contents"]);if(e!==void 0&&l!=null){let m=hr(l);Array.isArray(m)&&(m=m.map(v=>v)),b(e,["contents"],m)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],hn(u));const d=y(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>MB(v))),b(e,["tools"],m)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&b(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function cB(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],Wk(t,r));const i=y(e,["config"]);return i!=null&&lB(i,n),n}function dB(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],Wk(t,r));const i=y(e,["config"]);return i!=null&&uB(i,n),n}function fB(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ti(t,r)),n}function hB(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ti(t,r)),n}function pB(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function mB(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function gB(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function yB(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vB(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bB(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const l=y(t,["response"]);l!=null&&b(e,["response"],l);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function xB(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ti(t,r)),n}function wB(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Ti(t,r)),n}function _B(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function SB(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function EB(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function TB(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function AB(t){const e={},n=y(t,["config"]);return n!=null&&EB(n,e),e}function CB(t){const e={},n=y(t,["config"]);return n!=null&&TB(n,e),e}function NB(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["cachedContents"],o)}return e}function kB(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["cachedContents"],o)}return e}function PB(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],gB(o));const l=y(t,["functionCall"]);l!=null&&b(e,["functionCall"],yB(l));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const d=y(t,["inlineData"]);d!=null&&b(e,["inlineData"],sB(d));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const m=y(t,["thoughtSignature"]);m!=null&&b(e,["thoughtSignature"],m);const v=y(t,["videoMetadata"]);return v!=null&&b(e,["videoMetadata"],v),e}function RB(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],vB(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function IB(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const l=y(t,["codeExecution"]);if(l!=null&&b(e,["codeExecution"],l),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],_B(u));const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],SB(d));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function MB(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>bB(v))),b(e,["functionDeclarations"],m)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(t,["codeExecution"]);l!=null&&b(e,["codeExecution"],l);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const d=y(t,["googleMaps"]);d!=null&&b(e,["googleMaps"],d);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function OB(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function DB(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function jB(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],Ti(t,r));const i=y(e,["config"]);return i!=null&&OB(i,n),n}function LB(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],Ti(t,r));const i=y(e,["config"]);return i!=null&&DB(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UB extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new so(gi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=dB(this.apiClient,e);return u=ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=cB(this.apiClient,e);return u=ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=wB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=xB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=hB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=mB(h),v=new kT;return Object.assign(v,m),v})}else{const f=fB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=pB(h),v=new kT;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=LB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=jB(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=CB(e);return u=ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=kB(h),v=new PT;return Object.assign(v,m),v})}else{const f=AB(e);return u=ye("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=NB(h),v=new PT;return Object.assign(v,m),v})}}}function LT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}function xs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(S){return Promise.resolve(S).then(w,m)}}function u(w,S){r[w]&&(i[w]=function(T){return new Promise(function(E,k){o.push([w,T,E,k])>1||d(w,T)})},S&&(i[w]=S(i[w])))}function d(w,S){try{f(r[w](S))}catch(T){v(o[0][3],T)}}function f(w){w.value instanceof pt?Promise.resolve(w.value.v).then(h,m):v(o[0][2],w)}function h(w){d("next",w)}function m(w){d("throw",w)}function v(w,S){w(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function nu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof LT=="function"?LT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,d){l=t[o](l),i(u,d,l.done,l.value)})}}function i(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BB(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lP(n)}function lP(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qB(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function UT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!lP(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class zB{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $B(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $B{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),qB(o)}async sendMessage(e){var n;await this.sendPromise;const r=hn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const d=await i,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=hn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?UT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return xs(this,arguments,function*(){var l,u,d,f;const h=[];try{for(var m=!0,v=nu(e),w;w=yield pt(v.next()),l=w.done,!l;m=!0){f=w.value,m=!1;const S=f;if(BB(S)){const T=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&h.push(T)}yield yield pt(S)}}catch(S){u={error:S}}finally{try{!m&&!l&&(d=v.return)&&(yield pt(d.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...UT(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HB(t){const e={},n=y(t,["file"]);return n!=null&&b(e,["file"],n),e}function GB(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function FB(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],tP(n)),e}function VB(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function KB(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],tP(n)),e}function YB(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function WB(t){const e={},n=y(t,["config"]);return n!=null&&YB(n,e),e}function JB(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XB extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new so(gi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WB(e);return o=ye("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=JB(d),h=new t3;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HB(e);return o=ye("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=GB(d),h=new n3;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KB(e);return o=ye("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FB(e);return o=ye("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=VB(d),h=new r3;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ad(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function QB(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pq(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function ZB(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function eq(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tq(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const l=y(t,["response"]);l!=null&&b(e,["response"],l);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function nq(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const l=y(t,["enableAffectiveDialog"]);l!=null&&b(e,["enableAffectiveDialog"],l);const u=y(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const d=y(t,["logprobs"]);d!=null&&b(e,["logprobs"],d);const f=y(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const m=y(t,["presencePenalty"]);m!=null&&b(e,["presencePenalty"],m);const v=y(t,["responseLogprobs"]);v!=null&&b(e,["responseLogprobs"],v);const w=y(t,["responseMimeType"]);w!=null&&b(e,["responseMimeType"],w);const S=y(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const T=y(t,["responseSchema"]);T!=null&&b(e,["responseSchema"],T);const E=y(t,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const k=y(t,["seed"]);k!=null&&b(e,["seed"],k);const P=y(t,["speechConfig"]);P!=null&&b(e,["speechConfig"],uP(P));const N=y(t,["stopSequences"]);N!=null&&b(e,["stopSequences"],N);const I=y(t,["temperature"]);I!=null&&b(e,["temperature"],I);const R=y(t,["thinkingConfig"]);R!=null&&b(e,["thinkingConfig"],R);const O=y(t,["topK"]);O!=null&&b(e,["topK"],O);const D=y(t,["topP"]);if(D!=null&&b(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function rq(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function iq(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function aq(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const l=y(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const d=y(t,["maxOutputTokens"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","maxOutputTokens"],d);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const m=y(t,["speechConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","speechConfig"],ub(m));const v=y(t,["thinkingConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","thinkingConfig"],v);const w=y(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],QB(hn(S)));const T=y(t,["tools"]);if(e!==void 0&&T!=null){let O=js(T);Array.isArray(O)&&(O=O.map(D=>gq(Ds(D)))),b(e,["setup","tools"],O)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],mq(E));const k=y(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&b(e,["setup","outputAudioTranscription"],P);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const I=y(t,["contextWindowCompression"]);e!==void 0&&I!=null&&b(e,["setup","contextWindowCompression"],I);const R=y(t,["proactivity"]);return e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),n}function oq(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],nq(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const l=y(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const d=y(t,["maxOutputTokens"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","maxOutputTokens"],d);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const m=y(t,["speechConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","speechConfig"],uP(ub(m)));const v=y(t,["thinkingConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","thinkingConfig"],v);const w=y(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],hn(S));const T=y(t,["tools"]);if(e!==void 0&&T!=null){let O=js(T);Array.isArray(O)&&(O=O.map(D=>yq(Ds(D)))),b(e,["setup","tools"],O)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],E);const k=y(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&b(e,["setup","outputAudioTranscription"],P);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const I=y(t,["contextWindowCompression"]);e!==void 0&&I!=null&&b(e,["setup","contextWindowCompression"],I);const R=y(t,["proactivity"]);return e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),n}function sq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Je(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],aq(i,n)),n}function lq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Je(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],oq(i,n)),n}function uq(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function cq(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function dq(t){const e={},n=y(t,["media"]);if(n!=null){let f=Jk(n);Array.isArray(f)&&(f=f.map(h=>Ad(h))),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],Ad(Qk(r)));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],Ad(Xk(o)));const l=y(t,["text"]);l!=null&&b(e,["text"],l);const u=y(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const d=y(t,["activityEnd"]);return d!=null&&b(e,["activityEnd"],d),e}function fq(t){const e={},n=y(t,["media"]);if(n!=null){let f=Jk(n);Array.isArray(f)&&(f=f.map(h=>h)),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],Qk(r));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],Xk(o));const l=y(t,["text"]);l!=null&&b(e,["text"],l);const u=y(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const d=y(t,["activityEnd"]);return d!=null&&b(e,["activityEnd"],d),e}function hq(t){const e={},n=y(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],o);const l=y(t,["usageMetadata"]);l!=null&&b(e,["usageMetadata"],vq(l));const u=y(t,["goAway"]);u!=null&&b(e,["goAway"],u);const d=y(t,["sessionResumptionUpdate"]);return d!=null&&b(e,["sessionResumptionUpdate"],d),e}function pq(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],ZB(o));const l=y(t,["functionCall"]);l!=null&&b(e,["functionCall"],eq(l));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const d=y(t,["inlineData"]);d!=null&&b(e,["inlineData"],Ad(d));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const m=y(t,["thoughtSignature"]);m!=null&&b(e,["thoughtSignature"],m);const v=y(t,["videoMetadata"]);return v!=null&&b(e,["videoMetadata"],v),e}function mq(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uP(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function gq(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const l=y(t,["codeExecution"]);if(l!=null&&b(e,["codeExecution"],l),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],rq(u));const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],iq(d));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function yq(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>tq(v))),b(e,["functionDeclarations"],m)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(t,["codeExecution"]);l!=null&&b(e,["codeExecution"],l);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const d=y(t,["googleMaps"]);d!=null&&b(e,["googleMaps"],d);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function vq(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const l=y(t,["thoughtsTokenCount"]);l!=null&&b(e,["thoughtsTokenCount"],l);const u=y(t,["totalTokenCount"]);u!=null&&b(e,["totalTokenCount"],u);const d=y(t,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>S)),b(e,["promptTokensDetails"],w)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(S=>S)),b(e,["cacheTokensDetails"],w)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(S=>S)),b(e,["responseTokensDetails"],w)}const m=y(t,["toolUsePromptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(S=>S)),b(e,["toolUsePromptTokensDetails"],w)}const v=y(t,["trafficType"]);return v!=null&&b(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bq(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function xq(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],wq(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const l=y(t,["avgLogprobs"]);l!=null&&b(e,["avgLogprobs"],l);const u=y(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const d=y(t,["index"]);d!=null&&b(e,["index"],d);const f=y(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["safetyRatings"],v)}const m=y(t,["urlContextMetadata"]);return m!=null&&b(e,["urlContextMetadata"],m),e}function wq(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function _q(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let o=hr(i);Array.isArray(o)&&(o=o.map(l=>l)),b(n,["contents"],o)}return n}function Sq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["tokensInfo"],i)}return e}function Eq(t){const e={},n=y(t,["values"]);n!=null&&b(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&b(e,["statistics"],Tq(r)),e}function Tq(t){const e={},n=y(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function If(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Oz(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Aq(t){const e={},n=y(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function Cq(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Nq(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],hn(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>pP(u))),b(e,["tools"],l)}const o=y(t,["generationConfig"]);return e!==void 0&&o!=null&&b(e,["generationConfig"],bz(o)),n}function kq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let l=hr(i);Array.isArray(l)&&(l=l.map(u=>If(u))),b(n,["contents"],l)}const o=y(e,["config"]);return o!=null&&Cq(o),n}function Pq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let l=hr(i);Array.isArray(l)&&(l=l.map(u=>u)),b(n,["contents"],l)}const o=y(e,["config"]);return o!=null&&Nq(o,n),n}function Rq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function Iq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function Mq(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Je(t,r)),n}function Oq(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Je(t,r)),n}function Dq(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function jq(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Lq(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const l=y(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const d=y(t,["seed"]);e!==void 0&&d!=null&&b(e,["parameters","seed"],d);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const m=y(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&b(e,["parameters","includeSafetyAttributes"],m);const v=y(t,["includeRaiReason"]);e!==void 0&&v!=null&&b(e,["parameters","includeRaiReason"],v);const w=y(t,["language"]);e!==void 0&&w!=null&&b(e,["parameters","language"],w);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","mimeType"],S);const T=y(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","compressionQuality"],T);const E=y(t,["addWatermark"]);e!==void 0&&E!=null&&b(e,["parameters","addWatermark"],E);const k=y(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const P=y(t,["editMode"]);e!==void 0&&P!=null&&b(e,["parameters","editMode"],P);const N=y(t,["baseSteps"]);return e!==void 0&&N!=null&&b(e,["parameters","editConfig","baseSteps"],N),n}function Uq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>qz(d))),b(n,["instances[0]","referenceImages"],u)}const l=y(e,["config"]);return l!=null&&Lq(l,n),n}function Bq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Mf(o))),b(e,["generatedImages"],i)}return e}function qq(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function zq(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const o=y(t,["outputDimensionality"]);e!==void 0&&o!=null&&b(e,["parameters","outputDimensionality"],o);const l=y(t,["mimeType"]);e!==void 0&&l!=null&&b(e,["instances[]","mimeType"],l);const u=y(t,["autoTruncate"]);return e!==void 0&&u!=null&&b(e,["parameters","autoTruncate"],u),n}function $q(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let u=ob(t,i);Array.isArray(u)&&(u=u.map(d=>d)),b(n,["requests[]","content"],u)}const o=y(e,["config"]);o!=null&&qq(o,n);const l=y(e,["model"]);return l!==void 0&&b(n,["requests[]","model"],Je(t,l)),n}function Hq(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let l=ob(t,i);Array.isArray(l)&&(l=l.map(u=>u)),b(n,["instances[]","content"],l)}const o=y(e,["config"]);return o!=null&&zq(o,n),n}function Gq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Fq(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Eq(l))),b(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Vq(t){const e={},n=y(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function Kq(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Yq(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wq(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jq(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const l=y(t,["response"]);l!=null&&b(e,["response"],l);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function Xq(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],If(hn(i)));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const l=y(e,["topP"]);l!=null&&b(r,["topP"],l);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const d=y(e,["candidateCount"]);d!=null&&b(r,["candidateCount"],d);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const m=y(e,["responseLogprobs"]);m!=null&&b(r,["responseLogprobs"],m);const v=y(e,["logprobs"]);v!=null&&b(r,["logprobs"],v);const w=y(e,["presencePenalty"]);w!=null&&b(r,["presencePenalty"],w);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const T=y(e,["seed"]);T!=null&&b(r,["seed"],T);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const k=y(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],sb(k));const P=y(e,["responseJsonSchema"]);if(P!=null&&b(r,["responseJsonSchema"],P),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=y(e,["safetySettings"]);if(n!==void 0&&N!=null){let L=N;Array.isArray(L)&&(L=L.map(H=>zz(H))),b(n,["safetySettings"],L)}const I=y(e,["tools"]);if(n!==void 0&&I!=null){let L=js(I);Array.isArray(L)&&(L=L.map(H=>Yz(Ds(H)))),b(n,["tools"],L)}const R=y(e,["toolConfig"]);if(n!==void 0&&R!=null&&b(n,["toolConfig"],Kz(R)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(e,["cachedContent"]);n!==void 0&&O!=null&&b(n,["cachedContent"],Ti(t,O));const D=y(e,["responseModalities"]);D!=null&&b(r,["responseModalities"],D);const q=y(e,["mediaResolution"]);q!=null&&b(r,["mediaResolution"],q);const $=y(e,["speechConfig"]);if($!=null&&b(r,["speechConfig"],lb($)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(e,["thinkingConfig"]);F!=null&&b(r,["thinkingConfig"],F);const G=y(e,["imageConfig"]);return G!=null&&b(r,["imageConfig"],Ez(G)),r}function Qq(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],hn(i));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const l=y(e,["topP"]);l!=null&&b(r,["topP"],l);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const d=y(e,["candidateCount"]);d!=null&&b(r,["candidateCount"],d);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const m=y(e,["responseLogprobs"]);m!=null&&b(r,["responseLogprobs"],m);const v=y(e,["logprobs"]);v!=null&&b(r,["logprobs"],v);const w=y(e,["presencePenalty"]);w!=null&&b(r,["presencePenalty"],w);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const T=y(e,["seed"]);T!=null&&b(r,["seed"],T);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const k=y(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],sb(k));const P=y(e,["responseJsonSchema"]);P!=null&&b(r,["responseJsonSchema"],P);const N=y(e,["routingConfig"]);N!=null&&b(r,["routingConfig"],N);const I=y(e,["modelSelectionConfig"]);I!=null&&b(r,["modelConfig"],I);const R=y(e,["safetySettings"]);if(n!==void 0&&R!=null){let z=R;Array.isArray(z)&&(z=z.map(Z=>Z)),b(n,["safetySettings"],z)}const O=y(e,["tools"]);if(n!==void 0&&O!=null){let z=js(O);Array.isArray(z)&&(z=z.map(Z=>pP(Ds(Z)))),b(n,["tools"],z)}const D=y(e,["toolConfig"]);n!==void 0&&D!=null&&b(n,["toolConfig"],D);const q=y(e,["labels"]);n!==void 0&&q!=null&&b(n,["labels"],q);const $=y(e,["cachedContent"]);n!==void 0&&$!=null&&b(n,["cachedContent"],Ti(t,$));const F=y(e,["responseModalities"]);F!=null&&b(r,["responseModalities"],F);const G=y(e,["mediaResolution"]);G!=null&&b(r,["mediaResolution"],G);const L=y(e,["speechConfig"]);L!=null&&b(r,["speechConfig"],hP(lb(L)));const H=y(e,["audioTimestamp"]);H!=null&&b(r,["audioTimestamp"],H);const ce=y(e,["thinkingConfig"]);ce!=null&&b(r,["thinkingConfig"],ce);const he=y(e,["imageConfig"]);return he!=null&&b(r,["imageConfig"],Tz(he)),r}function BT(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let l=hr(i);Array.isArray(l)&&(l=l.map(u=>If(u))),b(n,["contents"],l)}const o=y(e,["config"]);return o!=null&&b(n,["generationConfig"],Xq(t,o,n)),n}function qT(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["contents"]);if(i!=null){let l=hr(i);Array.isArray(l)&&(l=l.map(u=>u)),b(n,["contents"],l)}const o=y(e,["config"]);return o!=null&&b(n,["generationConfig"],Qq(t,o,n)),n}function zT(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>xq(f))),b(e,["candidates"],d)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const l=y(t,["responseId"]);l!=null&&b(e,["responseId"],l);const u=y(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function $T(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),b(e,["candidates"],f)}const i=y(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=y(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const l=y(t,["promptFeedback"]);l!=null&&b(e,["promptFeedback"],l);const u=y(t,["responseId"]);u!=null&&b(e,["responseId"],u);const d=y(t,["usageMetadata"]);return d!=null&&b(e,["usageMetadata"],d),e}function Zq(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const o=y(t,["guidanceScale"]);if(e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&b(e,["parameters","safetySetting"],l);const u=y(t,["personGeneration"]);e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u);const d=y(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const f=y(t,["includeRaiReason"]);e!==void 0&&f!=null&&b(e,["parameters","includeRaiReason"],f);const h=y(t,["language"]);e!==void 0&&h!=null&&b(e,["parameters","language"],h);const m=y(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const v=y(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&b(e,["parameters","outputOptions","compressionQuality"],v),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=y(t,["imageSize"]);if(e!==void 0&&w!=null&&b(e,["parameters","sampleImageSize"],w),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ez(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const l=y(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const d=y(t,["seed"]);e!==void 0&&d!=null&&b(e,["parameters","seed"],d);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const m=y(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&b(e,["parameters","includeSafetyAttributes"],m);const v=y(t,["includeRaiReason"]);e!==void 0&&v!=null&&b(e,["parameters","includeRaiReason"],v);const w=y(t,["language"]);e!==void 0&&w!=null&&b(e,["parameters","language"],w);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","mimeType"],S);const T=y(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","compressionQuality"],T);const E=y(t,["addWatermark"]);e!==void 0&&E!=null&&b(e,["parameters","addWatermark"],E);const k=y(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const P=y(t,["imageSize"]);e!==void 0&&P!=null&&b(e,["parameters","sampleImageSize"],P);const N=y(t,["enhancePrompt"]);return e!==void 0&&N!=null&&b(e,["parameters","enhancePrompt"],N),n}function tz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&Zq(o,n),n}function nz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&ez(o,n),n}function rz(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mz(l))),b(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],dP(i)),e}function iz(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Mf(l))),b(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],fP(i)),e}function az(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const l=y(t,["resolution"]);e!==void 0&&l!=null&&b(e,["parameters","resolution"],l);const u=y(t,["personGeneration"]);if(e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=y(t,["negativePrompt"]);e!==void 0&&d!=null&&b(e,["parameters","negativePrompt"],d);const f=y(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&b(e,["parameters","enhancePrompt"],f),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&b(e,["instances[0]","lastFrame"],Of(h));const m=y(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(w=>s$(w))),b(e,["instances[0]","referenceImages"],v)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oz(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=y(t,["fps"]);e!==void 0&&o!=null&&b(e,["parameters","fps"],o);const l=y(t,["durationSeconds"]);e!==void 0&&l!=null&&b(e,["parameters","durationSeconds"],l);const u=y(t,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const d=y(t,["aspectRatio"]);e!==void 0&&d!=null&&b(e,["parameters","aspectRatio"],d);const f=y(t,["resolution"]);e!==void 0&&f!=null&&b(e,["parameters","resolution"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const m=y(t,["pubsubTopic"]);e!==void 0&&m!=null&&b(e,["parameters","pubsubTopic"],m);const v=y(t,["negativePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","negativePrompt"],v);const w=y(t,["enhancePrompt"]);e!==void 0&&w!=null&&b(e,["parameters","enhancePrompt"],w);const S=y(t,["generateAudio"]);e!==void 0&&S!=null&&b(e,["parameters","generateAudio"],S);const T=y(t,["lastFrame"]);e!==void 0&&T!=null&&b(e,["instances[0]","lastFrame"],kr(T));const E=y(t,["referenceImages"]);if(e!==void 0&&E!=null){let N=E;Array.isArray(N)&&(N=N.map(I=>l$(I))),b(e,["instances[0]","referenceImages"],N)}const k=y(t,["mask"]);e!==void 0&&k!=null&&b(e,["instances[0]","mask"],o$(k));const P=y(t,["compressionQuality"]);return e!==void 0&&P!=null&&b(e,["parameters","compressionQuality"],P),n}function sz(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response","generateVideoResponse"]);return l!=null&&b(e,["response"],dz(l)),e}function lz(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response"]);return l!=null&&b(e,["response"],fz(l)),e}function uz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&b(n,["instances[0]","image"],Of(o));const l=y(e,["video"]);l!=null&&b(n,["instances[0]","video"],mP(l));const u=y(e,["source"]);u!=null&&hz(u,n);const d=y(e,["config"]);return d!=null&&az(d,n),n}function cz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&b(n,["instances[0]","image"],kr(o));const l=y(e,["video"]);l!=null&&b(n,["instances[0]","video"],gP(l));const u=y(e,["source"]);u!=null&&pz(u,n);const d=y(e,["config"]);return d!=null&&oz(d,n),n}function dz(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>yz(l))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function fz(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>vz(l))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function hz(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Of(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&b(e,["instances[0]","video"],mP(o)),n}function pz(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],kr(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&b(e,["instances[0]","video"],gP(o)),n}function mz(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],Az(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],dP(i)),e}function Mf(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],cP(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&b(e,["safetyAttributes"],fP(i));const o=y(t,["prompt"]);return o!=null&&b(e,["enhancedPrompt"],o),e}function gz(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["mask"],cP(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["labels"],i)}return e}function yz(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],i$(n)),e}function vz(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],a$(n)),e}function bz(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const l=y(t,["enableAffectiveDialog"]);l!=null&&b(e,["enableAffectiveDialog"],l);const u=y(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const d=y(t,["logprobs"]);d!=null&&b(e,["logprobs"],d);const f=y(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const m=y(t,["presencePenalty"]);m!=null&&b(e,["presencePenalty"],m);const v=y(t,["responseLogprobs"]);v!=null&&b(e,["responseLogprobs"],v);const w=y(t,["responseMimeType"]);w!=null&&b(e,["responseMimeType"],w);const S=y(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const T=y(t,["responseSchema"]);T!=null&&b(e,["responseSchema"],T);const E=y(t,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const k=y(t,["seed"]);k!=null&&b(e,["seed"],k);const P=y(t,["speechConfig"]);P!=null&&b(e,["speechConfig"],hP(P));const N=y(t,["stopSequences"]);N!=null&&b(e,["stopSequences"],N);const I=y(t,["temperature"]);I!=null&&b(e,["temperature"],I);const R=y(t,["thinkingConfig"]);R!=null&&b(e,["thinkingConfig"],R);const O=y(t,["topK"]);O!=null&&b(e,["topK"],O);const D=y(t,["topP"]);if(D!=null&&b(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xz(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Je(t,r)),n}function wz(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Je(t,r)),n}function _z(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Sz(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ez(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Tz(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=y(t,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const o=y(t,["outputCompressionQuality"]);return o!=null&&b(e,["imageOutputOptions","compressionQuality"],o),e}function Az(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],pa(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function cP(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],pa(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Of(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],pa(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function kr(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],pa(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Cz(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const l=y(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],nP(t,u)),r}function Nz(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const l=y(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],nP(t,u)),r}function kz(t,e){const n={},r=y(e,["config"]);return r!=null&&Cz(t,r,n),n}function Pz(t,e){const n={},r=y(e,["config"]);return r!=null&&Nz(t,r,n),n}function Rz(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=rP(i);Array.isArray(o)&&(o=o.map(l=>Wy(l))),b(e,["models"],o)}return e}function Iz(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=rP(i);Array.isArray(o)&&(o=o.map(l=>Jy(l))),b(e,["models"],o)}return e}function Mz(t){const e={},n=y(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function Wy(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const o=y(t,["version"]);o!=null&&b(e,["version"],o);const l=y(t,["_self"]);l!=null&&b(e,["tunedModelInfo"],Wz(l));const u=y(t,["inputTokenLimit"]);u!=null&&b(e,["inputTokenLimit"],u);const d=y(t,["outputTokenLimit"]);d!=null&&b(e,["outputTokenLimit"],d);const f=y(t,["supportedGenerationMethods"]);f!=null&&b(e,["supportedActions"],f);const h=y(t,["temperature"]);h!=null&&b(e,["temperature"],h);const m=y(t,["maxTemperature"]);m!=null&&b(e,["maxTemperature"],m);const v=y(t,["topP"]);v!=null&&b(e,["topP"],v);const w=y(t,["topK"]);w!=null&&b(e,["topK"],w);const S=y(t,["thinking"]);return S!=null&&b(e,["thinking"],S),e}function Jy(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const o=y(t,["versionId"]);o!=null&&b(e,["version"],o);const l=y(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>Vq(v))),b(e,["endpoints"],m)}const u=y(t,["labels"]);u!=null&&b(e,["labels"],u);const d=y(t,["_self"]);d!=null&&b(e,["tunedModelInfo"],Jz(d));const f=y(t,["defaultCheckpointId"]);f!=null&&b(e,["defaultCheckpointId"],f);const h=y(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),b(e,["checkpoints"],m)}return e}function Oz(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],Kq(o));const l=y(t,["functionCall"]);l!=null&&b(e,["functionCall"],Yq(l));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const d=y(t,["inlineData"]);d!=null&&b(e,["inlineData"],bq(d));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const m=y(t,["thoughtSignature"]);m!=null&&b(e,["thoughtSignature"],m);const v=y(t,["videoMetadata"]);return v!=null&&b(e,["videoMetadata"],v),e}function Dz(t){const e={},n=y(t,["productImage"]);return n!=null&&b(e,["image"],kr(n)),e}function jz(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const l=y(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&b(e,["parameters","personGeneration"],d);const f=y(t,["addWatermark"]);e!==void 0&&f!=null&&b(e,["parameters","addWatermark"],f);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","mimeType"],h);const m=y(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","compressionQuality"],m);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","enhancePrompt"],v);const w=y(t,["labels"]);return e!==void 0&&w!=null&&b(e,["labels"],w),n}function Lz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["source"]);i!=null&&Bz(i,n);const o=y(e,["config"]);return o!=null&&jz(o,n),n}function Uz(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mf(i))),b(e,["generatedImages"],r)}return e}function Bz(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],kr(i));const o=y(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Dz(u))),b(e,["instances[0]","productImages"],l)}return n}function qz(t){const e={},n=y(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],kr(n));const r=y(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const o=y(t,["maskImageConfig"]);o!=null&&b(e,["maskImageConfig"],Mz(o));const l=y(t,["controlImageConfig"]);l!=null&&b(e,["controlImageConfig"],Aq(l));const u=y(t,["styleImageConfig"]);u!=null&&b(e,["styleImageConfig"],u);const d=y(t,["subjectImageConfig"]);return d!=null&&b(e,["subjectImageConfig"],d),e}function dP(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function fP(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function zz(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function $z(t){const e={},n=y(t,["image"]);return n!=null&&b(e,["image"],kr(n)),e}function Hz(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const o=y(t,["confidenceThreshold"]);e!==void 0&&o!=null&&b(e,["parameters","confidenceThreshold"],o);const l=y(t,["maskDilation"]);e!==void 0&&l!=null&&b(e,["parameters","maskDilation"],l);const u=y(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&b(e,["parameters","binaryColorThreshold"],u);const d=y(t,["labels"]);return e!==void 0&&d!=null&&b(e,["labels"],d),n}function Gz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["source"]);i!=null&&Vz(i,n);const o=y(e,["config"]);return o!=null&&Hz(o,n),n}function Fz(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gz(i))),b(e,["generatedMasks"],r)}return e}function Vz(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],kr(i));const o=y(t,["scribbleImage"]);return e!==void 0&&o!=null&&b(e,["instances[0]","scribble"],$z(o)),n}function hP(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Kz(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Wq(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function Yz(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const l=y(t,["codeExecution"]);if(l!=null&&b(e,["codeExecution"],l),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],_z(u));const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],Sz(d));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function pP(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Jq(v))),b(e,["functionDeclarations"],m)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const o=y(t,["computerUse"]);if(o!=null&&b(e,["computerUse"],o),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(t,["codeExecution"]);l!=null&&b(e,["codeExecution"],l);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const d=y(t,["googleMaps"]);d!=null&&b(e,["googleMaps"],d);const f=y(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Wz(t){const e={},n=y(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Jz(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Xz(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function Qz(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function Zz(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","name"],Je(t,r));const i=y(e,["config"]);return i!=null&&Xz(i,n),n}function e$(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["config"]);return i!=null&&Qz(i,n),n}function t$(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const o=y(t,["personGeneration"]);e!==void 0&&o!=null&&b(e,["parameters","personGeneration"],o);const l=y(t,["includeRaiReason"]);e!==void 0&&l!=null&&b(e,["parameters","includeRaiReason"],l);const u=y(t,["outputMimeType"]);e!==void 0&&u!=null&&b(e,["parameters","outputOptions","mimeType"],u);const d=y(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&b(e,["parameters","outputOptions","compressionQuality"],d);const f=y(t,["enhanceInputImage"]);e!==void 0&&f!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=y(t,["labels"]);e!==void 0&&m!=null&&b(e,["labels"],m);const v=y(t,["numberOfImages"]);e!==void 0&&v!=null&&b(e,["parameters","sampleCount"],v);const w=y(t,["mode"]);return e!==void 0&&w!=null&&b(e,["parameters","mode"],w),n}function n$(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Je(t,r));const i=y(e,["image"]);i!=null&&b(n,["instances[0]","image"],kr(i));const o=y(e,["upscaleFactor"]);o!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=y(e,["config"]);return l!=null&&t$(l,n),n}function r$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Mf(o))),b(e,["generatedImages"],i)}return e}function i$(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],pa(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function a$(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],pa(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function o$(t){const e={},n=y(t,["image"]);n!=null&&b(e,["_self"],kr(n));const r=y(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function s$(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],Of(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function l$(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],kr(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function mP(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],pa(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function gP(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],pa(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u$="Content-Type",c$="X-Server-Timeout",d$="User-Agent",Xy="x-goog-api-client",f$="1.30.0",h$=`google-genai-sdk/${f$}`,p$="v1beta1",m$="v1beta",HT=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class g${constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:p$,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:m$,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&y$(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GT(i),new Vy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return xs(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield pt(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),w=v.status,S=v.code,T=`got status: ${w}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new Rf({message:T,status:S})}}catch(m){if(m.name==="ApiError")throw m}l+=f;let h=l.match(HT);for(;h;){const m=h[1];try{const v=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pt(new Vy(v)),l=l.slice(h[0].length),h=l.match(HT)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=h$+" "+this.clientOptions.userAgentExtra;return e[d$]=n,e[Xy]=n,e[u$]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(c$,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(e),h=ye("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(f,u,d,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function GT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Rf({message:i,status:n}):new Error(i)}}function y$(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v$="mcp_used/unknown";let b$=!1;function yP(t){for(const e of t)if(x$(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b$}function vP(t){var e;const n=(e=t[Xy])!==null&&e!==void 0?e:"";t[Xy]=(n+` ${v$}`).trimStart()}function x$(t){return t!==null&&typeof t=="object"&&t instanceof cb}function w$(t,e=100){return xs(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield pt(t.listTools({cursor:r}));for(const l of o.tools)yield yield pt(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class cb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new cb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,nu(w$(h))),f;f=await d.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const m=i;l.push(m);const v=m.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),h3(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _$(t,e,n){const r=new a3;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class S${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=A$(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(N=>{f=N}),m=e.callbacks,v=function(){f({})},w=this.apiClient,S={onopen:v,onmessage:N=>{_$(w,m.onmessage,N)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},T=this.webSocketFactory.create(d,T$(l),S);T.connect(),await h;const P={setup:{model:Je(this.apiClient,e.model)}};return T.send(JSON.stringify(P)),new E$(T,this.apiClient)}}class E${constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=cq(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uq(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ps.PLAY)}pause(){this.sendPlaybackControl(ps.PAUSE)}stop(){this.sendPlaybackControl(ps.STOP)}resetContext(){this.sendPlaybackControl(ps.RESET_CONTEXT)}close(){this.conn.close()}}function T$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function A$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C$="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function N$(t,e,n){const r=new i3;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=hq(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class k${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new S$(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&yP(e.config.tools)&&vP(m);const v=M$(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const $=this.apiClient.getApiKey();let F="BidiGenerateContent",G="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",G="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${F}?${G}=${$}`}let w=()=>{};const S=new Promise($=>{w=$}),T=e.callbacks,E=function(){var $;($=T==null?void 0:T.onopen)===null||$===void 0||$.call(T),w({})},k=this.apiClient,P={onopen:E,onmessage:$=>{N$(k,T.onmessage,$)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function($){}},N=this.webSocketFactory.create(h,I$(v),P);N.connect(),await S;let I=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const $=this.apiClient.getProject(),F=this.apiClient.getLocation();I=`projects/${$}/locations/${F}/`+I}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[lu.AUDIO]}:e.config.responseModalities=[lu.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],D=[];for(const $ of O)if(this.isCallableTool($)){const F=$;D.push(await F.tool())}else D.push($);D.length>0&&(e.config.tools=D);const q={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=lq(this.apiClient,q):R=sq(this.apiClient,q),delete R.config,N.send(JSON.stringify(R)),new R$(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const P$={turnComplete:!0};class R${constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=hr(n.turns),e.isVertexAI()||(r=r.map(i=>If(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(C$)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},P$),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fq(e)}:n={realtimeInput:dq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function I$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function M$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT=10;function VT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ws(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ws(t){return"callTool"in t&&typeof t.callTool=="function"}function O$(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ws(i)))!==null&&r!==void 0?r:!1}function KT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ws(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function YT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D$ extends Ei{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!O$(n)||VT(n.config))return await this.generateContentInternal(d);const f=KT(n);if(f.length>0){const T=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let h,m;const v=hr(d.contents),w=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:FT;let S=0;for(;S<w&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const T=h.candidates[0].content,E=[];for(const k of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(ws(k)){const N=await k.callTool(h.functionCalls);E.push(...N)}S++,m={role:"user",parts:E},d.contents=hr(d.contents),d.contents.push(T),d.contents.push(m),YT(d.config)&&(v.push(T),v.push(m))}return YT(d.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),VT(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=KT(n);if(d.length>0){const m=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new so(gi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async d=>ws(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&yP(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),vP(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ws(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:FT;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return(function(f,h,m){var v,w;return xs(this,arguments,function*(){for(var S,T,E,k;u<o;){l&&(u++,l=!1);const R=yield pt(f.processParamsMaybeAddMcpUsage(m)),O=yield pt(f.generateContentStreamInternal(R)),D=[],q=[];try{for(var P=!0,N=(T=void 0,nu(O)),I;I=yield pt(N.next()),S=I.done,!S;P=!0){k=I.value,P=!1;const $=k;if(yield yield pt($),$.candidates&&(!((v=$.candidates[0])===null||v===void 0)&&v.content)){q.push($.candidates[0].content);for(const F of(w=$.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(u<o&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const G=yield pt(h.get(F.functionCall.name).callTool([F.functionCall]));D.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch($){T={error:$}}finally{try{!P&&!S&&(E=N.return)&&(yield pt(E.call(N)))}finally{if(T)throw T.error}}if(D.length>0){l=!0;const $=new $l;$.candidates=[{content:{role:"user",parts:D}}],yield yield pt($);const F=[];F.push(...q),F.push({role:"user",parts:D});const G=hr(m.contents).concat(F);m.contents=G}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qT(this.apiClient,e);return u=ye("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=$T(h),v=new $l;return Object.assign(v,m),v})}else{const f=BT(this.apiClient,e);return u=ye("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=zT(h),v=new $l;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qT(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return xs(this,arguments,function*(){var v,w,S,T;try{for(var E=!0,k=nu(m),P;P=yield pt(k.next()),v=P.done,!v;E=!0){T=P.value,E=!1;const N=T,I=$T(yield pt(N.json()));I.sdkHttpResponse={headers:N.headers};const R=new $l;Object.assign(R,I),yield yield pt(R)}}catch(N){w={error:N}}finally{try{!E&&!v&&(S=k.return)&&(yield pt(S.call(k)))}finally{if(w)throw w.error}}})})}else{const f=BT(this.apiClient,e);return u=ye("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return xs(this,arguments,function*(){var v,w,S,T;try{for(var E=!0,k=nu(m),P;P=yield pt(k.next()),v=P.done,!v;E=!0){T=P.value,E=!1;const N=T,I=zT(yield pt(N.json()));I.sdkHttpResponse={headers:N.headers};const R=new $l;Object.assign(R,I),yield yield pt(R)}}catch(N){w={error:N}}finally{try{!E&&!v&&(S=k.return)&&(yield pt(S.call(k)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Hq(this.apiClient,e);return u=ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Fq(h),v=new ST;return Object.assign(v,m),v})}else{const f=$q(this.apiClient,e);return u=ye("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Gq(h),v=new ST;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=nz(this.apiClient,e);return u=ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=iz(h),v=new ET;return Object.assign(v,m),v})}else{const f=tz(this.apiClient,e);return u=ye("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=rz(h),v=new ET;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Uq(this.apiClient,e);return o=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Bq(d),h=new K4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=n$(this.apiClient,e);return o=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=r$(d),h=new Y4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Lz(this.apiClient,e);return o=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Uz(d),h=new W4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Gz(this.apiClient,e);return o=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Fz(d),h=new J4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=wz(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Jy(h))}else{const f=xz(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Wy(h))}}async listInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Pz(this.apiClient,e);return u=ye("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Iz(h),v=new TT;return Object.assign(v,m),v})}else{const f=kz(this.apiClient,e);return u=ye("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Rz(h),v=new TT;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=e$(this.apiClient,e);return u=ye("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Jy(h))}else{const f=Zz(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Wy(h))}}async delete(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Oq(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=jq(h),v=new AT;return Object.assign(v,m),v})}else{const f=Mq(this.apiClient,e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Dq(h),v=new AT;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Pq(this.apiClient,e);return u=ye("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Iq(h),v=new CT;return Object.assign(v,m),v})}else{const f=kq(this.apiClient,e);return u=ye("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Rq(h),v=new CT;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=_q(this.apiClient,e);return o=ye("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Sq(d),h=new X4;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=cz(this.apiClient,e);return u=ye("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=lz(h),v=new Dd;return Object.assign(v,m),v})}else{const f=uz(this.apiClient,e);return u=ye("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=sz(h),v=new Dd;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j$ extends Ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=z4(e);return u=ye("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=q4(e);return u=ye("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=M4(e);return o=ye("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L$(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function U$(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>K$(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function B$(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const l=y(e,["uses"]);n!==void 0&&l!=null&&b(n,["uses"],l);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&b(n,["bidiGenerateContentSetup"],V$(t,u));const d=y(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&b(n,["fieldMask"],d),r}function q$(t,e){const n={},r=y(e,["config"]);return r!=null&&b(n,["config"],B$(t,r,n)),n}function z$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function $$(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function H$(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function G$(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function F$(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const l=y(t,["topP"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topP"],l);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const d=y(t,["maxOutputTokens"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","maxOutputTokens"],d);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const m=y(t,["speechConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","speechConfig"],ub(m));const v=y(t,["thinkingConfig"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","thinkingConfig"],v);const w=y(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],U$(hn(S)));const T=y(t,["tools"]);if(e!==void 0&&T!=null){let O=js(T);Array.isArray(O)&&(O=O.map(D=>W$(Ds(D)))),b(e,["setup","tools"],O)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],Y$(E));const k=y(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&b(e,["setup","outputAudioTranscription"],P);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const I=y(t,["contextWindowCompression"]);e!==void 0&&I!=null&&b(e,["setup","contextWindowCompression"],I);const R=y(t,["proactivity"]);return e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),n}function V$(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Je(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],F$(i,n)),n}function K$(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],z$(o));const l=y(t,["functionCall"]);l!=null&&b(e,["functionCall"],$$(l));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const d=y(t,["inlineData"]);d!=null&&b(e,["inlineData"],L$(d));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const m=y(t,["thoughtSignature"]);m!=null&&b(e,["thoughtSignature"],m);const v=y(t,["videoMetadata"]);return v!=null&&b(e,["videoMetadata"],v),e}function Y$(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W$(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const o=y(t,["fileSearch"]);o!=null&&b(e,["fileSearch"],o);const l=y(t,["codeExecution"]);if(l!=null&&b(e,["codeExecution"],l),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],H$(u));const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],G$(d));const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J$(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function X$(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=J$(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Q$ extends Ei{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=q$(this.apiClient,e);o=ye("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=X$(u,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z$(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function e5(t){const e={},n=y(t,["config"]);return n!=null&&Z$(n,e),e}function t5(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function n5(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&t5(r,e),e}function r5(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function i5(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function a5(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const l=y(t,["response"]);return l!=null&&b(e,["response"],s5(l)),e}function o5(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&i5(i,e),e}function s5(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function l5(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function u5(t){const e={},n=y(t,["config"]);return n!=null&&l5(n,e),e}function c5(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["fileSearchStores"],o)}return e}function d5(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),b(e,["customMetadata"],u)}const l=y(t,["chunkingConfig"]);return e!==void 0&&l!=null&&b(e,["chunkingConfig"],l),n}function f5(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&d5(r,e),e}function h5(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p5(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function m5(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&p5(r,e),e}function g5(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function y5(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function v5(t){const e={},n=y(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&y5(r,e),e}function b5(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),b(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x5 extends Ei{constructor(e){super(),this.apiClient=e,this.list=async n=>new so(gi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g5(e);return o=ye("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=m5(e);i=ye("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v5(e);return o=ye("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=b5(d),h=new Q4;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w5 extends Ei{constructor(e,n=new x5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new so(gi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e5(e);return o=ye("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=r5(e);return o=ye("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=n5(e);i=ye("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u5(e);return o=ye("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=c5(d),h=new Z4;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f5(e);return o=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=h5(d),h=new e3;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=o5(e);return o=ye("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=a5(d),h=new ib;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _5(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function S5(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function E5(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&b(e,["tuningTask","hyperparameters","epochCount"],o);const l=y(t,["learningRateMultiplier"]);if(l!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&b(e,["tuningTask","hyperparameters","batchSize"],u);const d=y(t,["learningRate"]);if(e!==void 0&&d!=null&&b(e,["tuningTask","hyperparameters","learningRate"],d),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function T5(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=y(t,["validationDataset"]);e!==void 0&&w!=null&&b(e,["supervisedTuningSpec"],WT(w))}else if(i==="PREFERENCE_TUNING"){const w=y(t,["validationDataset"]);e!==void 0&&w!=null&&b(e,["preferenceOptimizationSpec"],WT(w))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&b(e,["tunedModelDisplayName"],o);const l=y(t,["description"]);e!==void 0&&l!=null&&b(e,["description"],l);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=y(t,["epochCount"]);e!==void 0&&w!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(u==="PREFERENCE_TUNING"){const w=y(t,["epochCount"]);e!==void 0&&w!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=y(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(d==="PREFERENCE_TUNING"){const w=y(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=y(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(f==="PREFERENCE_TUNING"){const w=y(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=y(t,["adapterSize"]);e!==void 0&&w!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(h==="PREFERENCE_TUNING"){const w=y(t,["adapterSize"]);e!==void 0&&w!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=y(t,["labels"]);e!==void 0&&m!=null&&b(e,["labels"],m);const v=y(t,["beta"]);return e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function A5(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&L5(o);const l=y(t,["config"]);return l!=null&&E5(l,n),n}function C5(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&U5(o,n,e);const l=y(t,["config"]);return l!=null&&T5(l,n,e),n}function N5(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function k5(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function P5(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const l=y(t,["filter"]);return e!==void 0&&l!=null&&b(e,["_query","filter"],l),r}function R5(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const l=y(t,["filter"]);return e!==void 0&&l!=null&&b(e,["_query","filter"],l),r}function I5(t,e){const n={},r=y(t,["config"]);return r!=null&&P5(r,n),n}function M5(t,e){const n={},r=y(t,["config"]);return r!=null&&R5(r,n),n}function O5(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>bP(u))),b(n,["tuningJobs"],l)}return n}function D5(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Qy(u))),b(n,["tuningJobs"],l)}return n}function j5(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const i=y(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function L5(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["examples","examples"],i)}return n}function U5(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=y(t,["gcsUri"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=y(t,["gcsUri"]);e!==void 0&&l!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=y(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=y(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function bP(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],eP(o));const l=y(t,["createTime"]);l!=null&&b(n,["createTime"],l);const u=y(t,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const d=y(t,["tuningTask","completeTime"]);d!=null&&b(n,["endTime"],d);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&b(n,["description"],h);const m=y(t,["baseModel"]);m!=null&&b(n,["baseModel"],m);const v=y(t,["_self"]);return v!=null&&b(n,["tunedModel"],j5(v)),n}function Qy(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],eP(o));const l=y(t,["createTime"]);l!=null&&b(n,["createTime"],l);const u=y(t,["startTime"]);u!=null&&b(n,["startTime"],u);const d=y(t,["endTime"]);d!=null&&b(n,["endTime"],d);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&b(n,["error"],h);const m=y(t,["description"]);m!=null&&b(n,["description"],m);const v=y(t,["baseModel"]);v!=null&&b(n,["baseModel"],v);const w=y(t,["tunedModel"]);w!=null&&b(n,["tunedModel"],w);const S=y(t,["preTunedModel"]);S!=null&&b(n,["preTunedModel"],S);const T=y(t,["supervisedTuningSpec"]);T!=null&&b(n,["supervisedTuningSpec"],T);const E=y(t,["preferenceOptimizationSpec"]);E!=null&&b(n,["preferenceOptimizationSpec"],E);const k=y(t,["tuningDataStats"]);k!=null&&b(n,["tuningDataStats"],k);const P=y(t,["encryptionSpec"]);P!=null&&b(n,["encryptionSpec"],P);const N=y(t,["partnerModelTuningSpec"]);N!=null&&b(n,["partnerModelTuningSpec"],N);const I=y(t,["customBaseModel"]);I!=null&&b(n,["customBaseModel"],I);const R=y(t,["experiment"]);R!=null&&b(n,["experiment"],R);const O=y(t,["labels"]);O!=null&&b(n,["labels"],O);const D=y(t,["outputUri"]);D!=null&&b(n,["outputUri"],D);const q=y(t,["pipelineJob"]);q!=null&&b(n,["pipelineJob"],q);const $=y(t,["serviceAccount"]);$!=null&&b(n,["serviceAccount"],$);const F=y(t,["tunedModelDisplayName"]);F!=null&&b(n,["tunedModelDisplayName"],F);const G=y(t,["veoTuningSpec"]);return G!=null&&b(n,["veoTuningSpec"],G),n}function B5(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);return u!=null&&b(n,["error"],u),n}function WT(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q5 extends Ei{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new so(gi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Fy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=k5(e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>Qy(h))}else{const f=N5(e);return u=ye("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>bP(h))}}async listInternal(e){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=M5(e);return u=ye("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=D5(h),v=new NT;return Object.assign(v,m),v})}else{const f=I5(e);return u=ye("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=O5(h),v=new NT;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const d=S5(e);l=ye("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=_5(e);l=ye("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=C5(e,e);return o=ye("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Qy(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A5(e);return o=ye("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>B5(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z5{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $5=1024*1024*8,H5=3,G5=1e3,F5=2,Ld="x-goog-upload-status";async function V5(t,e,n){var r;const i=await xP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ld])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function K5(t,e,n){var r;const i=await xP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ld])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Yk(o),u=new ab;return Object.assign(u,l),u}async function xP(t,e,n){var r,i;let o=0,l=0,u=new Vy(new Response),d="upload";for(o=t.size;l<o;){const f=Math.min($5,o-l),h=t.slice(l,l+f);l+f>=o&&(d+=", finalize");let m=0,v=G5;for(;m<H5&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Ld]));)m++,await W5(v),v=v*F5;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Ld])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Y5(t){return{size:t.size,type:t.type}}function W5(t){return new Promise(e=>setTimeout(e,t))}class J5{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V5(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await K5(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Y5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X5{create(e,n,r){return new Q5(e,n,r)}}class Q5{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JT="x-goog-api-key";class Z5{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(JT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(JT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eH="gl-node/";class tH{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=R4(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Z5(this.apiKey);this.apiClient=new g$({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:eH+"web",uploader:new J5,downloader:new z5}),this.models=new D$(this.apiClient),this.live=new k$(this.apiClient,i,new X5),this.batches=new oB(this.apiClient),this.chats=new zB(this.models,this.apiClient),this.caches=new UB(this.apiClient),this.files=new XB(this.apiClient),this.operations=new j$(this.apiClient),this.authTokens=new Q$(this.apiClient),this.tunings=new q5(this.apiClient),this.fileSearchStores=new w5(this.apiClient)}}var nH={};const wP=nH.API_KEY||"placeholder-gemini-key";wP==="placeholder-gemini-key"&&console.warn(`
    ********************************************************************************
    ** WARNING: Gemini API key is not set!                                          **
    ** AI features may not work. Please set the API_KEY environment variable.       **
    ********************************************************************************
    `);const Yn=new tH({apiKey:wP}),lo=(t,e)=>{try{const n=t.replace(/^```json\s*/,"").replace(/\s*```$/,"");return JSON.parse(n)}catch(n){return console.error("Failed to parse JSON response:",t,n),e}},rH=async(t,e)=>{try{const n=e?"gemini-2.5-pro":"gemini-2.5-flash",r=e?{thinkingConfig:{thinkingBudget:8192}}:{};return(await Yn.models.generateContent({model:n,contents:t,config:r})).text}catch(n){throw console.error("Error generating response:",n),n}},iH=async()=>{try{const t=await Yn.models.generateContent({model:"gemini-2.5-flash",contents:'Generate 3 short, actionable, and effective prospecting activities for a sales professional today. Examples: "Research 5 new leads in the tech industry" or "Send a personalized follow-up video to a key prospect."',config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{challenges:{type:Me.ARRAY,items:{type:Me.STRING}}},required:["challenges"]}}});return lo(t.text,{challenges:[]}).challenges.slice(0,3)}catch(t){throw console.error("Error fetching sales challenges:",t),t}},aH=async t=>{if(!t)return[];try{const e=await Yn.models.generateContent({model:"gemini-2.5-flash",contents:`List 5 to 7 common products or services a ${t} would sell.`,config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{products:{type:Me.ARRAY,items:{type:Me.STRING}}},required:["products"]}}});return lo(e.text,{products:[]}).products}catch(e){throw console.error(`Error fetching products for ${t}:`,e),e}},oH=async(t,e)=>{try{return`data:image/jpeg;base64,${(await Yn.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:e}})).generatedImages[0].image.imageBytes}`}catch(n){throw console.error("Error generating image:",n),n}},sH=async(t,e,n)=>{try{const r=await Yn.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:n}]},config:{responseModalities:[lu.IMAGE]}});for(const i of r.candidates[0].content.parts)if(i.inlineData)return`data:image/png;base64,${i.inlineData.data}`;throw new Error("No image was returned from the editImage call.")}catch(r){throw console.error("Error editing image:",r),r}},lH=async(t,e)=>{try{return(await Yn.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:'Suggest a short, creative edit for this image. The suggestion should be a command, like "Make the sky a vibrant sunset" or "Add a small, red boat on the water". Provide only the command text, nothing else.'}]}})).text.trim()}catch(n){return console.error("Error getting edit suggestion:",n),"Enhance the lighting and colors."}},uH=async(t,e)=>{try{const n=`Generate a "${t}" based on these details: ${JSON.stringify(e,null,2)}. The tone should be professional, clear, and persuasive. Format as clean text.`;return(await Yn.models.generateContent({model:"gemini-2.5-pro",contents:n})).text}catch(n){throw console.error("Error generating business content:",n),n}},cH=async t=>{if(!t)return[];try{const e=await Yn.models.generateContent({model:"gemini-2.5-flash",contents:`Provide 5 famous quotes by ${t}.`,config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{quotes:{type:Me.ARRAY,items:{type:Me.OBJECT,properties:{text:{type:Me.STRING},author:{type:Me.STRING}},required:["text","author"]}}},required:["quotes"]}}});return lo(e.text,{quotes:[]}).quotes}catch(e){throw console.error(`Error fetching quotes for ${t}:`,e),e}},dH=async()=>{try{const t=await Yn.models.generateContent({model:"gemini-2.5-flash",contents:"List the top 5 most impactful books for sales professionals. Include title, author, a one-sentence description, and placeholder links for Amazon and iBooks.",config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{books:{type:Me.ARRAY,items:{type:Me.OBJECT,properties:{title:{type:Me.STRING},author:{type:Me.STRING},description:{type:Me.STRING},amazonLink:{type:Me.STRING},ibooksLink:{type:Me.STRING}},required:["title","author","description","amazonLink","ibooksLink"]}}},required:["books"]}}});return lo(t.text,{books:[]}).books}catch(t){throw console.error("Error fetching recommended books:",t),t}},fH=async(t,e)=>{try{return(await Yn.models.generateContent({model:"gemini-2.5-flash",contents:`Provide a concise, 2-3 sentence summary of the book "${t}" by ${e}, focusing on its key takeaway for a sales professional.`})).text}catch(n){throw console.error("Error fetching book review:",n),n}},hH=async t=>{if(!t)return[];try{const e=await Yn.models.generateContent({model:"gemini-2.5-flash",contents:`List up to 3 major books by ${t}. Include title, author, a one-sentence description, and placeholder links for Amazon and iBooks.`,config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{books:{type:Me.ARRAY,items:{type:Me.OBJECT,properties:{title:{type:Me.STRING},author:{type:Me.STRING},description:{type:Me.STRING},amazonLink:{type:Me.STRING},ibooksLink:{type:Me.STRING}},required:["title","author","description","amazonLink","ibooksLink"]}}},required:["books"]}}});return lo(e.text,{books:[]}).books}catch(e){throw console.error(`Error searching books for ${t}:`,e),e}},pH=async t=>{const e=`Analyze sales metrics for ${t.timeframeDays} days: Revenue: ${t.revenue}, Calls: ${t.calls}, Appts: ${t.appts}, Deals: ${t.deals}. Provide an "Activity Score" (1-100) and 2-3 concise improvement suggestions.`;try{const n=await Yn.models.generateContent({model:"gemini-2.5-pro",contents:e,config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{score:{type:Me.INTEGER},suggestions:{type:Me.STRING}},required:["score","suggestions"]}}});return lo(n.text,{score:0,suggestions:"Could not generate evaluation."})}catch(n){throw console.error("Error fetching performance evaluation:",n),n}},mH=async(t,e)=>{const n=`Analyze product sales data for ${e}: ${JSON.stringify(t)}. Provide JSON with: 1. "questions" (2-3 insightful questions). 2. "strategies" (2 actionable marketing strategies). 3. "reading" (1 relevant book recommendation). 4. "quote" (1 relevant motivational quote).`;try{const r=await Yn.models.generateContent({model:"gemini-2.5-pro",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:Me.OBJECT,properties:{questions:{type:Me.ARRAY,items:{type:Me.STRING}},strategies:{type:Me.ARRAY,items:{type:Me.STRING}},reading:{type:Me.OBJECT,properties:{title:{type:Me.STRING},author:{type:Me.STRING},description:{type:Me.STRING}},required:["title","author","description"]},quote:{type:Me.OBJECT,properties:{text:{type:Me.STRING},author:{type:Me.STRING}},required:["text","author"]}},required:["questions","strategies","reading","quote"]}}});return lo(r.text,{questions:[],strategies:[],reading:{title:"",author:"",description:""},quote:{text:"",author:""}})}catch(r){throw console.error("Error fetching revenue analysis:",r),r}},uo=({selectedDate:t,onDateChange:e})=>{const n=["S","M","T","W","T","F","S"],r=t.getMonth(),i=t.getFullYear(),o=t.getDate(),l=()=>{e(new Date(i,r-1,1))},u=()=>{e(new Date(i,r+1,1))},d=S=>{if(S>0&&S!==o){const T=new Date(i,r,S);e(T)}},f=(S,T)=>new Date(S,T+1,0).getDate(),h=(S,T)=>new Date(S,T,1).getDay(),m=f(i,r),v=h(i,r),w=Array.from({length:v},()=>null).concat(Array.from({length:m},(S,T)=>T+1));return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-3 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[g.jsx("button",{onClick:l,className:"p-1 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50","aria-label":"Previous month",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),g.jsx("h4",{className:"font-bold text-sm text-center text-brand-light-text dark:text-white select-none",children:t.toLocaleString("en-US",{month:"long",year:"numeric"})}),g.jsx("button",{onClick:u,className:"p-1 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50","aria-label":"Next month",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),g.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-gray-500 dark:text-gray-400",children:[n.map((S,T)=>g.jsx("div",{className:"font-semibold w-7 h-7 flex items-center justify-center",children:S},T)),w.map((S,T)=>g.jsx("button",{onClick:()=>d(S),disabled:!S,className:`p-1 rounded-full w-7 h-7 mx-auto flex items-center justify-center text-xs transition-colors ${S?"hover:bg-gray-200 dark:hover:bg-brand-gray":"cursor-default"} ${S===o?"bg-brand-blue text-white font-bold":"text-brand-light-text dark:text-gray-300"}`,children:S},T))]})]})},os=({label:t,value:e,onClick:n})=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:n,className:"text-sm font-medium text-left flex items-center rounded px-2 py-1 transition-colors w-1/3 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-brand-gray/50",children:[g.jsx("span",{className:"text-brand-red mr-2",children:""})," ",t]}),g.jsx("p",{className:"w-2/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md px-2 py-1 text-sm text-brand-light-text dark:text-white text-right font-semibold",children:e||"$0.00"})]}),gH=({data:t,onNavigate:e})=>g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"REVENUE GENERATED"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(os,{label:"TODAY",value:t.today,onClick:()=>e("today")}),g.jsx(os,{label:"WEEK",value:t.week,onClick:()=>e("week")}),g.jsx(os,{label:"MONTH",value:t.month,onClick:()=>e("month")}),g.jsx(os,{label:"YTD",value:t.ytd,onClick:()=>e("ytd")}),g.jsx(os,{label:"MCV",value:t.mcv,onClick:()=>e("mcv")}),g.jsx(os,{label:"ACV",value:t.acv,onClick:()=>e("acv")})]})]}),yH=({data:t,isLoading:e,onAcceptChallenge:n})=>{const[r,i]=A.useState(!1);A.useEffect(()=>{},[t.quote]);const o=t.quote||{text:"The secret of getting ahead is getting started.",author:"Mark Twain"};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray relative",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"DAILY AI CHALLENGE"}),r?g.jsx("div",{className:"flex justify-center items-center h-24",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-red"})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-4 text-center",children:[g.jsxs("p",{className:"italic text-brand-light-text dark:text-gray-300",children:['"',o.text,'"']}),g.jsxs("p",{className:"font-semibold text-sm text-gray-500 dark:text-gray-400 mt-1",children:["- ",o.author]})]}),t.challengesAccepted?g.jsxs("div",{className:"text-center p-4 bg-brand-light-bg dark:bg-brand-gray/20 rounded-lg",children:[g.jsx("p",{className:"font-bold text-brand-lime",children:"Challenge Accepted!"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:`Your new targets have been added to the "Today's Top 6 Targets" list.`})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"mb-3 font-semibold text-brand-light-text dark:text-white",children:"Are you ready to take massive action today?"}),g.jsx("button",{onClick:n,disabled:e,className:"bg-brand-red text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition w-full disabled:bg-brand-gray",children:e?"Generating...":"Challenge Accepted"})]})]})]})},_P=({contacts:t,events:e})=>{const n=A.useMemo(()=>{const r=t.filter(f=>f.prospecting.SW||f.prospecting.NA||f.prospecting.LM).length,i=t.filter(f=>f.prospecting.ST).length,o=t.filter(f=>f.prospecting.EP).length,l=(e||[]).filter(f=>f.type==="Appointment").length,u=(e||[]).filter(f=>f.type==="Appointment"&&f.conducted).length,d=t.filter(f=>f.name).length;return{callsMade:r,textsSent:i,emailsSent:o,apptsSet:l,demosHeld:u,newLeads:d}},[t,e]);return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"DAILY PROSPECTING KPIS"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-4",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.callsMade}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Calls Made"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.apptsSet}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Appointments Set"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.demosHeld}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Demos Held"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.textsSent}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Texts Sent"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.emailsSent}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Emails Sent"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-3xl font-black text-brand-lime",children:n.newLeads}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"New Leads"})]})]})]})},vH=({events:t,onEventUpdate:e,onAddAppointment:n})=>{const r=t.filter(o=>o.type==="Appointment"),i=o=>{e({...o,conducted:!o.conducted})};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase",children:"Today's Appointments"}),g.jsx("button",{onClick:n,className:"bg-brand-lime text-brand-ink font-bold py-1 px-3 rounded-lg hover:bg-green-400 transition text-xs",children:"+ Add"})]}),g.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:r.length>0?r.map(o=>g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("input",{type:"checkbox",checked:!!o.conducted,onChange:()=>i(o),className:"h-5 w-5 rounded bg-brand-light-border dark:bg-brand-gray border-gray-300 dark:border-gray-600 text-brand-lime focus:ring-brand-lime"}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("p",{className:`text-sm font-semibold ${o.conducted?"line-through text-gray-500":"text-brand-light-text dark:text-white"}`,children:o.client||o.title}),g.jsx("p",{className:`text-xs ${o.conducted?"line-through text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:Kk(o.time)})]})]},o.id)):g.jsx("p",{className:"text-xs text-center text-gray-500 py-4",children:"No appointments scheduled for today."})})]})},XT=({title:t,goals:e,onGoalChange:n,highlight:r})=>{const[i,o]=A.useState(e);A.useEffect(()=>{o(e)},[e]);const l=d=>{const f=!d.completed,h={...d,completed:f};o(m=>m.map(v=>v.id===d.id?h:v)),n(h,f)},u=(d,f)=>{const h={...d,text:f};o(m=>m.map(v=>v.id===d.id?h:v)),n(h,!1)};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:`text-sm font-bold uppercase mb-2 ${r?"text-brand-red":"text-gray-600 dark:text-gray-300"}`,children:t}),g.jsx("div",{className:"space-y-2",children:i.map(d=>g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{type:"checkbox",checked:d.completed,onChange:()=>l(d),className:"peer",style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#2563eb"}}),g.jsx("svg",{className:"absolute w-5 h-5 pointer-events-none hidden peer-checked:block text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),g.jsx("input",{type:"text",value:d.text,onChange:f=>u(d,f.target.value),className:`w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid ${d.completed?"line-through text-gray-500":""}`})]},d.id))})]})},bH=({leads:t,userRole:e,onAddLeadClick:n,onViewLeadsClick:r})=>{const i=t.length;return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase mb-2",children:"New Leads Today"}),e==="Manager"?g.jsx("div",{className:"text-center my-4",children:g.jsx("p",{className:"text-6xl font-black text-brand-light-text dark:text-white",children:i})}):g.jsx("div",{className:"my-4 min-h-[7rem] max-h-48 overflow-y-auto bg-brand-light-bg dark:bg-brand-gray/20 rounded p-2 space-y-1",children:i>0?g.jsx("ul",{children:t.map(o=>g.jsxs("li",{className:"text-sm font-medium text-brand-light-text dark:text-gray-300 truncate",children:["- ",o.name]},o.id))}):g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("p",{className:"text-xs text-center text-gray-500",children:"Leads added today will appear here."})})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("button",{onClick:r,disabled:i===0,className:"w-full bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm disabled:bg-brand-gray disabled:cursor-not-allowed",children:"View Details"}),g.jsx("button",{onClick:n,className:"w-full bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm",children:"+ Add Lead"})]})]})},xH=({hotLeads:t,onUpdateHotLead:e,selectedDate:n,onWin:r})=>{const i=d=>d.toISOString().split("T")[0],o=i(n),l=t.flatMap(d=>{if(!d.appointmentDate)return[];const f=new Date(d.appointmentDate+"T00:00:00");return Object.entries(Hy).map(([h,m])=>{var S;const v=parseInt(h,10),w=new Date(f);return w.setDate(w.getDate()+v-1),i(w)===o?{lead:d,day:v,activity:m,isCompleted:!!((S=d.completedFollowUps)!=null&&S[v])}:null}).filter(Boolean)}),u=(d,f,h)=>{var S;if(!!((S=d.completedFollowUps)!=null&&S[f]))return;const v={...d.completedFollowUps||{},[f]:o},w={...d,completedFollowUps:v};e(w),r(`Follow-up: '${h}' for ${d.name}`)};return l.length===0?g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase mb-2",children:"Daily Follow-Ups"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No follow-ups scheduled for today."})]}):g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase mb-3",children:"Daily Follow-Ups"}),g.jsx("div",{className:"space-y-3",children:l.map(({lead:d,day:f,activity:h,isCompleted:m},v)=>g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("input",{type:"checkbox",id:`followup-${d.id}-${f}`,checked:m,onChange:()=>u(d,f,h),disabled:m,className:"h-5 w-5 mt-0.5 rounded bg-brand-light-border dark:bg-brand-gray border-gray-300 dark:border-gray-600 text-brand-blue focus:ring-brand-blue disabled:opacity-50"}),g.jsxs("label",{htmlFor:`followup-${d.id}-${f}`,className:`text-sm ${m?"line-through text-gray-500":"text-brand-light-text dark:text-gray-300"}`,children:[g.jsx("span",{className:"font-semibold",children:h})," for ",d.name]})]},`${d.id}-${f}`))})]})},wH=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState(""),[f,h]=A.useState(""),[m,v]=A.useState(5);A.useEffect(()=>{t&&(i(""),l(""),d(""),h(""),v(5))},[t]);const w=T=>{d(ua(T.target.value))},S=T=>{if(T.preventDefault(),!r.trim()){alert("Please enter a contact name.");return}n({name:r,company:o,phone:u,email:f,interestLevel:m})};return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-lg flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"Add New Lead"}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[g.jsx("input",{type:"text",placeholder:"Contact Name *",value:r,onChange:T=>i(T.target.value),required:!0,className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"}),g.jsx("input",{type:"text",placeholder:"Company (Optional)",value:o,onChange:T=>l(T.target.value),className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"}),g.jsx("input",{type:"tel",placeholder:"Phone Number (Optional)",value:u,onChange:w,className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"}),g.jsx("input",{type:"email",placeholder:"Email Address (Optional)",value:f,onChange:T=>h(T.target.value),className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"}),g.jsxs("div",{className:"pt-2",children:[g.jsxs("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["Interest Level: ",g.jsx("span",{className:"font-bold text-brand-lime",children:m})]}),g.jsx("input",{type:"range",min:"1",max:"10",value:m,onChange:T=>v(parseInt(T.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-brand-gray rounded-lg appearance-none cursor-pointer accent-brand-lime mt-1"})]})]}),g.jsxs("div",{className:"flex justify-end p-4 border-t border-brand-light-border dark:border-brand-gray space-x-2",children:[g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"}),g.jsx("button",{onClick:S,className:"bg-brand-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition text-sm",children:"Save Lead"})]})]})}):null},Xm=t=>{if(!t||!/^\d{4}-\d{2}-\d{2}$/.test(t))return"";const e=new Date(t+"T00:00:00");if(isNaN(e.getTime()))return"";const n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getFullYear()).slice(-2);return`${n}/${r}/${i}`},_H=t=>{const e=t.trim();if(!e)return null;const n=e.split(/[/-]/);if(n.length!==3)return null;let[r,i,o]=n.map(u=>parseInt(u,10));if(isNaN(r)||isNaN(i)||isNaN(o)||(o>=0&&o<100&&(o+=o>50?1900:2e3),o<1900||o>2100)||r<1||r>12||i<1||i>31)return null;const l=new Date(o,r-1,i);return l.getFullYear()!==o||l.getMonth()!==r-1||l.getDate()!==i?null:l.toISOString().split("T")[0]},yi=({value:t,onChange:e,className:n})=>{const[r,i]=A.useState(Xm(t)),[o,l]=A.useState(!1),u=A.useRef(null),d=A.useMemo(()=>t&&/^\d{4}-\d{2}-\d{2}$/.test(t)?new Date(t+"T00:00:00"):new Date,[t]);A.useEffect(()=>{i(Xm(t))},[t]),A.useEffect(()=>{const w=S=>{u.current&&!u.current.contains(S.target)&&(o&&m(),l(!1))};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[u,o,r,t]);const f=w=>{i(w.target.value)},h=w=>{w.key==="Enter"&&m()},m=()=>{const w=_H(r);w?w!==t&&e(w):r.trim()!==""&&i(Xm(t))},v=w=>{const S=w.toISOString().split("T")[0];e(S),l(!1)};return g.jsxs("div",{ref:u,className:`relative w-full ${n}`,children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:r,onChange:f,onBlur:m,onKeyDown:h,placeholder:"mm/dd/yy",className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid pr-8"}),g.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 flex items-center pr-2 text-gray-400 hover:text-brand-blue","aria-label":"Open calendar",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),o&&g.jsx("div",{className:"absolute top-full mt-2 z-30 bg-brand-light-card dark:bg-brand-navy shadow-lg rounded-lg border border-brand-light-border dark:border-brand-gray",children:g.jsx(uo,{selectedDate:d,onDateChange:v})})]})},SH=Array.from({length:12},(t,e)=>String(e+1)),EH=["00","30"],TH=["AM","PM"],SP=({isOpen:t,onClose:e,onSave:n,onDelete:r,date:i,eventToEdit:o,onGoToDay:l})=>{const[u,d]=A.useState("9"),[f,h]=A.useState("00"),[m,v]=A.useState("AM"),[w,S]=A.useState(""),[T,E]=A.useState(""),[k,P]=A.useState("Appointment"),[N,I]=A.useState(""),[R,O]=A.useState(""),[D,q]=A.useState("none"),[$,F]=A.useState(4);A.useEffect(()=>{const H=i||new Date;if(o){const[ce,he]=o.time.split(":").map(Number),z=ce>=12?"PM":"AM";let Z=ce%12||12;d(String(Z)),h(String(he).padStart(2,"0")),v(z),S(o.title),E(o.client||""),P(o.type),I(o.details||""),q("none")}else{const ce=new Date;let he=ce.getHours();const z=ce.getMinutes();v(he>=12?"PM":"AM"),he=he%12||12,d(String(he)),h(z<30?"00":"30"),S(""),E(""),P("Appointment"),I(""),q("none"),F(4)}O(H.toISOString().split("T")[0])},[o,i,t]);const G=H=>{if(H.preventDefault(),!w||!R){alert("Please provide at least a title and a full date.");return}if(D==="weekly"&&($<=0||$>52)){alert("Please enter a number of weeks between 1 and 52.");return}let ce=parseInt(u,10);m==="PM"&&ce<12&&(ce+=12),m==="AM"&&ce===12&&(ce=0);const he=`${String(ce).padStart(2,"0")}:${f}`,z=i?i.toISOString().split("T")[0]:null,Z=R;let de;if(o)de={...o,time:he,title:w,type:k,details:N,client:T,isRecurring:!1,groupId:void 0};else{const K=Date.now().toString();de={id:K,time:he,title:w,type:k,details:N,client:T,isRecurring:D==="weekly",groupId:D==="weekly"?`${K}-${$}`:void 0}}n(de,z,Z)},L=()=>{o&&i&&window.confirm("Are you sure you want to delete this event?")&&r(o.id,i.toISOString().split("T")[0])};return!t||!i?null:g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-lg flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("div",{children:g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:o?"Edit Event":"Add Event"})}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("form",{onSubmit:G,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Date"}),g.jsx(yi,{value:R,onChange:O})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Time"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("select",{value:u,onChange:H=>d(H.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:SH.map(H=>g.jsx("option",{value:H,children:H},H))}),g.jsx("select",{value:f,onChange:H=>h(H.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:EH.map(H=>g.jsx("option",{value:H,children:H},H))}),g.jsx("select",{value:m,onChange:H=>v(H.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:TH.map(H=>g.jsx("option",{value:H,children:H},H))})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"type",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Type"}),g.jsx("select",{id:"type",value:k,onChange:H=>P(H.target.value),className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:C4.map(H=>g.jsx("option",{value:H,children:H},H))})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Title"}),g.jsx("input",{type:"text",id:"title",value:w,onChange:H=>S(H.target.value),required:!0,placeholder:"e.g., Discovery Call",className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"client",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Client / Contact (Optional)"}),g.jsx("input",{type:"text",id:"client",value:T,onChange:H=>E(H.target.value),placeholder:"e.g., Jane Doe from Acme Inc.",className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"details",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Details (Optional)"}),g.jsx("textarea",{id:"details",value:N,onChange:H=>I(H.target.value),placeholder:"e.g., Discuss Q4 proposal",rows:2,className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"recurrence",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Repeats"}),g.jsxs("select",{id:"recurrence",value:D,onChange:H=>q(H.target.value),disabled:!!o,className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white disabled:opacity-50",children:[g.jsx("option",{value:"none",children:"Does not repeat"}),g.jsx("option",{value:"weekly",children:"Weekly"})]})]}),D==="weekly"&&!o&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"repeatWeeks",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Repeat for (weeks)"}),g.jsx("input",{type:"number",id:"repeatWeeks",value:$,onChange:H=>F(parseInt(H.target.value)),min:"1",max:"52",className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white"})]})]}),o&&g.jsx("p",{className:"text-xs text-center text-gray-400 dark:text-gray-500",children:"Editing an event will detach it from any recurring series."})]}),g.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex gap-2",children:[l&&i&&g.jsx("button",{type:"button",onClick:()=>l(i),className:"bg-brand-lime text-brand-ink font-bold py-2 px-6 rounded-lg hover:bg-green-400 transition text-sm",children:"Go to Day"}),o&&g.jsx("button",{onClick:L,className:"bg-brand-red text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition text-sm",children:"Delete"})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"}),g.jsx("button",{onClick:G,className:"bg-brand-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition text-sm",children:"Save"})]})]})]})})},AH=({isOpen:t,onClose:e,leads:n,users:r})=>{const[i,o]=A.useState("all"),l=A.useMemo(()=>{const d=new Map;return n.forEach(f=>{if(f.userId&&!d.has(f.userId)){const h=r.find(m=>m.id===f.userId);h&&d.set(f.userId,h)}}),Array.from(d.values())},[n,r]),u=A.useMemo(()=>i==="all"?n:n.filter(d=>d.userId===i),[n,i]);return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:["Leads Added Today (",n.length,")"]}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsx("div",{className:"p-3 border-b border-brand-light-border dark:border-brand-gray",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("button",{onClick:()=>o("all"),className:`text-xs font-bold py-1 px-3 rounded-full transition-colors ${i==="all"?"bg-brand-blue text-white":"bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300"}`,children:["All (",n.length,")"]}),l.map(d=>g.jsxs("button",{onClick:()=>o(d.id),className:`text-xs font-bold py-1 px-3 rounded-full transition-colors ${i===d.id?"bg-brand-blue text-white":"bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300"}`,children:[d.name," (",n.filter(f=>f.userId===d.id).length,")"]},d.id))]})}),g.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:u.length>0?g.jsx("ul",{className:"space-y-3",children:u.map(d=>g.jsxs("li",{className:"p-2 bg-brand-light-bg dark:bg-brand-gray/20 rounded-md",children:[g.jsxs("p",{className:"font-semibold text-brand-light-text dark:text-gray-200 text-sm",children:[d.name," ",d.company&&`(${d.company})`]}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.phone,"  ",d.email]})]},d.id))}):g.jsx("p",{className:"text-center text-gray-500 p-8",children:"No leads found for this selection."})}),g.jsx("div",{className:"p-4 border-t border-brand-light-border dark:border-brand-gray text-right",children:g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Close"})})]})}):null},CH=({wins:t=[]})=>g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase mb-2",children:"Wins Today"}),g.jsx("div",{className:"bg-brand-light-bg dark:bg-brand-gray/20 rounded p-3 min-h-[100px] max-h-[200px] overflow-y-auto",children:t.length>0?g.jsx("ul",{className:"space-y-2",children:t.map((e,n)=>g.jsxs("li",{className:"flex items-start text-sm text-brand-light-text dark:text-gray-300",children:[g.jsx("span",{className:"text-brand-lime mr-2 mt-1 flex-shrink-0",children:""}),g.jsx("span",{children:e})]},n))}):g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your wins for today will appear here!"})})})]}),NH=({allData:t,onDataChange:e,selectedDate:n,onDateChange:r,onAddWin:i,onAddHotLead:o,onUpdateHotLead:l,hotLeads:u,transactions:d,users:f,onNavigateToRevenue:h,user:m})=>{const[v,w]=A.useState(!1),[S,T]=A.useState(!1),[E,k]=A.useState(!1),[P,N]=A.useState(null),[I,R]=A.useState(!1),O=K=>K.toISOString().split("T")[0],D=O(n),q=t[D]||ca(),$=K=>{const ue={...t[D]||ca(),...K};e(D,ue)},F=A.useMemo(()=>{const K=O(n),ue=new Date(n);ue.setDate(ue.getDate()-n.getDay());const j=new Date(ue);j.setDate(j.getDate()+6);const Y=O(ue),oe=O(j),W=n.getMonth(),fe=n.getFullYear();let pe=0,me=0,De=0,te=0,we=0;(d||[]).forEach(ie=>{const Be=new Date(ie.date+"T00:00:00");ie.date===K&&(pe+=ie.amount),ie.date>=Y&&ie.date<=oe&&(me+=ie.amount),Be.getMonth()===W&&Be.getFullYear()===fe&&(De+=ie.amount,ie.isRecurring&&(we+=ie.amount)),Be.getFullYear()===fe&&(te+=ie.amount)});const Ne=we*12;return{today:yt(pe),week:yt(me),month:yt(De),ytd:yt(te),mcv:yt(we),acv:yt(Ne)}},[d,n]),G=async()=>{R(!0);try{const K=await iH();if(!K||K.length===0)throw new Error("AI did not return any challenges.");const ue=[...q.topTargets];let j=0;for(let oe=0;oe<ue.length&&!(j>=K.length);oe++)ue[oe].text.trim()===""&&(ue[oe].text=K[j],j++);const Y={...q.aiChallenge,challengesAccepted:!0,challenges:[]};$({topTargets:ue,aiChallenge:Y}),i(D,"AI Challenges Added to Targets!")}catch(K){console.error("Failed to fetch challenges:",K),alert("Could not generate AI challenges. The Gemini API may be unavailable or the API key is missing.")}finally{R(!1)}},L=(K,ue,j)=>{const oe=(q[K]||[]).map(W=>W.id===ue.id?ue:W);$({[K]:oe}),j&&ue.text.trim()!==""&&i(D,`Target Completed: ${ue.text}`)},H=async K=>{const ue={...K,date:D,prospecting:{},dateAdded:new Date().toISOString(),completedFollowUps:{},userId:m.id,id:""},j=await o(ue);j?i(D,`New Lead Added: ${j.name}`):alert("Failed to save the new lead. Please try again."),w(!1)},ce=()=>{N(null),T(!0)},he=K=>{const ue=[...q.events],j=ue.findIndex(Y=>Y.id===K.id);j>-1&&(ue[j]=K,$({events:ue}))},z=(K,ue,j)=>{if(ue&&t[ue]&&ue!==j){const W=t[ue],fe=W.events.filter(pe=>pe.id!==K.id);e(ue,{...W,events:fe})}const Y=t[j]||ca(),oe=Y.events.findIndex(W=>W.id===K.id);oe>-1?Y.events[oe]=K:Y.events.push(K),Y.events.sort((W,fe)=>W.time.localeCompare(fe.time)),e(j,Y),T(!1)},Z=(K,ue)=>{const j=t[ue];if(j){const Y=j.events.filter(oe=>oe.id!==K);e(ue,{...j,events:Y})}T(!1)};A.useMemo(()=>(q.events||[]).filter(K=>K.type==="Appointment"),[q.events]);const de=A.useMemo(()=>(u||[]).filter(K=>K.dateAdded&&K.dateAdded.startsWith(D)),[u,D]);return g.jsxs(g.Fragment,{children:[g.jsx(wH,{isOpen:v,onClose:()=>w(!1),onSave:H}),g.jsx(SP,{isOpen:S,onClose:()=>T(!1),onSave:z,onDelete:Z,date:n,eventToEdit:P}),g.jsx(AH,{isOpen:E,onClose:()=>k(!1),leads:de,users:f}),g.jsxs("div",{className:"text-left mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold uppercase text-brand-light-text dark:text-white",children:n.toLocaleDateString("en-US",{weekday:"long"})}),g.jsx("p",{className:"text-brand-light-gray dark:text-gray-400 text-sm font-medium",children:n.toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:items-start",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx(uo,{selectedDate:n,onDateChange:r}),g.jsx(gH,{data:F,onNavigate:h}),g.jsx(yH,{data:q.aiChallenge,isLoading:I,onAcceptChallenge:G})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsx(_P,{contacts:q.prospectingContacts||[],events:q.events||[]}),g.jsx(vH,{events:q.events||[],onEventUpdate:he,onAddAppointment:ce}),g.jsx(xH,{hotLeads:u,onUpdateHotLead:l,selectedDate:n,onWin:K=>i(D,K)}),g.jsx(CH,{wins:q.winsToday||[]})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsx(XT,{title:"Today's Top 6 Targets",goals:q.topTargets,onGoalChange:(K,ue)=>L("topTargets",K,ue)}),g.jsx(XT,{title:"Massive Action Goals",goals:q.massiveGoals,onGoalChange:(K,ue)=>L("massiveGoals",K,ue),highlight:!0}),g.jsx(bH,{leads:de,userRole:m.role,onAddLeadClick:()=>w(!0),onViewLeadsClick:()=>k(!0)})]})]})]})},EP=({onSetAppointment:t,onAddToHotLeads:e})=>{const[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,f]=A.useState(""),[h,m]=A.useState(""),[v,w]=A.useState(5),S=A.useMemo(()=>{const N=[];for(let I=7;I<=20;I++)for(let R of[0,30]){const O=I%12||12,D=I>=12?"PM":"AM",q=String(R).padStart(2,"0"),$=`${O}:${q} ${D}`,F=`${String(I).padStart(2,"0")}:${q}`;N.push({display:$,value:F})}return N},[]),T=()=>{r(""),o(""),u(""),f(""),m(""),w(5)},E=N=>{o(ua(N.target.value))},k=()=>{if(!n||!d||!h){alert("Please fill in at least Name, a Date, and a Time for an appointment.");return}t({name:n,phone:i,email:l,date:d,time:h,interestLevel:v}),T()},P=()=>{if(!n){alert("Please fill in at least a Name to add a hot lead.");return}e({name:n,phone:i,email:l,interestLevel:v}),T()};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"PIPELINE PROGRESS"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("input",{type:"text",placeholder:"Contact Name",value:n,onChange:N=>r(N.target.value),className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("input",{type:"tel",placeholder:"Phone Number (XXX) XXX-XXXX",value:i,onChange:E,className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("input",{type:"email",placeholder:"Email Address",value:l,onChange:N=>u(N.target.value),className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx(yi,{value:d,onChange:f}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("select",{value:h,onChange:N=>m(N.target.value),className:`w-full pl-8 bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text ${h?"dark:text-white":"dark:text-gray-400"} text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid appearance-none cursor-pointer`,children:[g.jsx("option",{value:"",children:"Time"}),S.map(N=>g.jsx("option",{value:N.value,children:N.display},N.value))]})]})]}),g.jsxs("div",{className:"pt-2",children:[g.jsxs("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["Interest Level: ",g.jsx("span",{className:"font-bold text-brand-lime",children:v})]}),g.jsx("input",{type:"range",min:"1",max:"10",value:v,onChange:N=>w(parseInt(N.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-brand-gray rounded-lg appearance-none cursor-pointer accent-brand-lime mt-1"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[g.jsx("button",{onClick:k,className:"bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm",children:"Set Appointment"}),g.jsx("button",{onClick:P,className:"bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm",children:"Add to Hot Leads"})]})]})]})},kH=({onImport:t})=>{const e=A.useRef(null),n=i=>{var u;const o=(u=i.target.files)==null?void 0:u[0];if(!o)return;const l=new FileReader;l.onload=d=>{var E;const h=((E=d.target)==null?void 0:E.result).split(/\r?\n/).filter(k=>k.trim()!=="");if(h.length===0)return;const m=h[0].split(",").map(k=>k.trim().toLowerCase()),v=m.indexOf("name"),w=m.indexOf("phone"),S=m.indexOf("email"),T=h.slice(1).map(k=>{var I,R,O;const P=k.split(","),N={};return v!==-1&&(N.name=(I=P[v])==null?void 0:I.trim()),w!==-1&&(N.phone=(R=P[w])==null?void 0:R.trim()),S!==-1&&(N.email=(O=P[S])==null?void 0:O.trim()),N}).filter(k=>k.name||k.phone||k.email);t(T)},l.readAsText(o),e.current&&(e.current.value="")},r=()=>{var i;(i=e.current)==null||i.click()};return g.jsxs("div",{children:[g.jsx("input",{type:"file",ref:e,onChange:n,accept:".csv",className:"hidden"}),g.jsx("button",{onClick:r,className:"p-2 rounded-md text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50",title:"Import from CSV",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z",clipRule:"evenodd"})})})]})},PH=({allData:t,onDataChange:e,selectedDate:n,onDateChange:r,onAddHotLead:i,onAddWin:o,handleSetAppointment:l,hotLeads:u})=>{const f=(P=>P.toISOString().split("T")[0])(n),h=t[f]||ca();A.useEffect(()=>{if((h.prospectingContacts||[]).filter(I=>I.prospecting.SW||I.prospecting.NA||I.prospecting.LM).length>=30&&!h.milestones.calls30Achieved){o(f,"Accomplished 30 daily calls!");const I=t[f]||ca();e(f,{...I,milestones:{...I.milestones,calls30Achieved:!0}})}},[h.prospectingContacts,f,o,e,t,h.milestones.calls30Achieved]);const m=P=>{const N={...t[f]||ca(),...P};e(f,N)},v=(P,N,I)=>{const R=[...h.prospectingContacts],O=N==="phone"?ua(I):I;R[P]={...R[P],[N]:O},m({prospectingContacts:R})},w=(P,N)=>{const I=[...h.prospectingContacts],R={...I[P]},O=!R.prospecting[N],D={...R.prospecting,[N]:O};I[P]={...R,prospecting:D},m({prospectingContacts:I}),N==="SA"&&O&&R.name&&(u.some($=>$.name&&$.name===R.name&&$.phone&&$.phone===R.phone&&$.email&&$.email===R.email)||i({...R,dateAdded:new Date().toISOString(),completedFollowUps:{}}).then($=>{$&&o(f,`Added ${R.name} to Hot Leads.`)}))},S=P=>{const N=[...h.prospectingContacts];let I=0;for(const R of P){const O=N.findIndex(D=>!D.name&&!D.phone&&!D.email);if(O!==-1)N[O]={...N[O],name:R.name||"",phone:R.phone?ua(R.phone):"",email:R.email||"",date:new Date().toISOString().split("T")[0]},I++;else break}m({prospectingContacts:N}),alert(`Successfully imported ${I} contacts.`)},T=P=>{const N=new Date(`${P.date}T${P.time}`);l({client:P.name,lead:"Prospecting Page",time:P.time},N);const I=[...h.prospectingContacts],R=I.findIndex(O=>!O.name);R!==-1&&(I[R]={...I[R],name:P.name,phone:ua(P.phone),email:P.email,date:new Date().toISOString().split("T")[0],prospecting:{SA:!0},interestLevel:P.interestLevel},m({prospectingContacts:I}))},E=async P=>{const N={name:P.name,date:new Date().toISOString().split("T")[0],phone:ua(P.phone),email:P.email,interestLevel:P.interestLevel,prospecting:{},dateAdded:new Date().toISOString(),completedFollowUps:{}},I=await i(N);if(I){const R=[...h.prospectingContacts],O=R.findIndex(D=>!D.name);O!==-1&&(R[O]={...R[O],...I},m({prospectingContacts:R})),alert(`${P.name} added to Hot Leads!`)}},k=async P=>{if(!P.name)return;await i({...P,dateAdded:new Date().toISOString(),completedFollowUps:{}})&&alert(`${P.name} marked as a hot lead!`)};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx(uo,{selectedDate:n,onDateChange:r}),g.jsx(_P,{contacts:h.prospectingContacts,events:h.events}),g.jsx(EP,{onSetAppointment:T,onAddToHotLeads:E})]}),g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray h-full",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:["Prospecting List - ",n.toLocaleDateString()]}),g.jsx(kH,{onImport:S})]}),g.jsx("div",{className:"overflow-x-auto max-h-[28rem] overflow-y-auto",children:g.jsxs("table",{className:"w-full text-sm text-left table-fixed",children:[g.jsx("thead",{className:"bg-brand-light-bg dark:bg-brand-gray/50 text-xs uppercase text-gray-500 dark:text-gray-400 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2 w-10",children:"#"}),g.jsx("th",{className:"p-2 w-1/6",children:"Name"}),g.jsx("th",{className:"p-2 w-1/6",children:"Date"}),g.jsx("th",{className:"p-2 w-1/6",children:"Phone"}),g.jsx("th",{className:"p-2 w-1/5",children:"Email"}),g.jsx("th",{className:"p-2 w-16 text-center",children:"Actions"}),g.jsx("th",{className:"p-2 w-[240px] text-center",children:"Codes"})]})}),g.jsx("tbody",{children:h.prospectingContacts.map((P,N)=>g.jsxs("tr",{className:"border-b border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white",children:[g.jsx("td",{className:"p-2 text-gray-500 dark:text-gray-400 text-center",children:N+1}),g.jsx("td",{children:g.jsx("input",{type:"text",value:P.name,onChange:I=>v(N,"name",I.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{className:"p-1",children:g.jsx(yi,{value:P.date,onChange:I=>v(N,"date",I)})}),g.jsx("td",{children:g.jsx("input",{type:"tel",value:P.phone,onChange:I=>v(N,"phone",I.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{children:g.jsx("input",{type:"email",value:P.email,onChange:I=>v(N,"email",I.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{className:"p-2 text-center",children:g.jsx("button",{onClick:()=>k(P),disabled:!P.name,className:"text-2xl disabled:text-gray-600 dark:disabled:text-gray-700 disabled:cursor-not-allowed filter grayscale disabled:grayscale-0 hover:grayscale-0 transition-all",title:"Mark as Hot Lead",children:""})}),g.jsx("td",{className:"p-2",children:g.jsx("div",{className:"flex items-center justify-center space-x-1",children:EE.map(I=>g.jsx("button",{onClick:()=>w(N,I),title:TE[I],className:`w-7 h-7 flex items-center justify-center rounded text-xs font-mono transition-colors ${P.prospecting[I]?I==="SA"?"bg-brand-blue text-white":"bg-brand-red text-white":"bg-gray-200 dark:bg-brand-gray text-gray-500 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-brand-gray/50"}`,children:I},I))})})]},P.id))})]})}),g.jsxs("div",{className:"mt-4 pt-2 border-t border-brand-light-border dark:border-brand-gray",children:[g.jsx("h4",{className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Code Legend"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1 text-xs",children:EE.map(P=>g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-mono font-bold text-brand-light-text dark:text-white mr-2",children:P}),g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:TE[P]})]},P))})]})]})})]})},RH=Array.from({length:12},(t,e)=>String(e+1)),IH=["00","15","30","45"],MH=["AM","PM"],OH=({isOpen:t,onClose:e,onSave:n,contact:r})=>{const[i,o]=A.useState(""),[l,u]=A.useState("9"),[d,f]=A.useState("00"),[h,m]=A.useState("AM"),[v,w]=A.useState("");A.useEffect(()=>{if(t){o(new Date().toISOString().split("T")[0]);let E=new Date().getHours();m(E>=12?"PM":"AM"),E=E%12||12,u(String(E)),f("00"),w("")}},[t]);const S=T=>{if(T.preventDefault(),!i){alert("Please select a date for the appointment.");return}let E=parseInt(l,10);h==="PM"&&E<12&&(E+=12),h==="AM"&&E===12&&(E=0);const k=`${String(E).padStart(2,"0")}:${d}`;n({date:i,time:k,note:v})};return!t||!r?null:g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-lg flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:["Set Appointment for ",r.name]}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Date"}),g.jsx(yi,{value:i,onChange:o})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Time"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("select",{value:l,onChange:T=>u(T.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:RH.map(T=>g.jsx("option",{value:T,children:T},T))}),g.jsx("select",{value:d,onChange:T=>f(T.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:IH.map(T=>g.jsx("option",{value:T,children:T},T))}),g.jsx("select",{value:h,onChange:T=>m(T.target.value),className:"w-1/3 bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:MH.map(T=>g.jsx("option",{value:T,children:T},T))})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"note",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),g.jsx("textarea",{id:"note",value:v,onChange:T=>w(T.target.value),placeholder:"e.g., Discuss interior painting project...",rows:3,className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]}),g.jsxs("div",{className:"flex justify-end p-4 border-t border-brand-light-border dark:border-brand-gray space-x-2",children:[g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"}),g.jsx("button",{onClick:S,className:"bg-brand-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition text-sm",children:"Save Appointment"})]})]})})},DH=({isOpen:t,onClose:e,onSave:n,contact:r})=>{const[i,o]=A.useState("");A.useEffect(()=>{t&&o("")},[t]);const l=u=>{u.preventDefault();const d=parseFloat(i);if(isNaN(d)||d<0){alert("Please enter a valid, non-negative amount.");return}n(d)};return!t||!r?null:g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-md flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"Convert to Client"}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["You are converting ",g.jsx("span",{className:"font-bold text-brand-light-text dark:text-white",children:r.name})," into a new client. Please enter the initial amount collected."]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"initialAmount",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Initial Amount Collected"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:"$"}),g.jsx("input",{id:"initialAmount",type:"number",value:i,onChange:u=>o(u.target.value),required:!0,autoFocus:!0,placeholder:"e.g., 5000",className:"w-full pl-7 pr-4 py-2 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-md text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})]})]}),g.jsxs("div",{className:"flex justify-end p-4 border-t border-brand-light-border dark:border-brand-gray space-x-2",children:[g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"}),g.jsx("button",{onClick:l,className:"bg-brand-lime text-brand-ink font-bold py-2 px-6 rounded-lg hover:bg-green-400 transition text-sm",children:"Confirm & Convert"})]})]})})},jH=({hotLeads:t,onAddHotLead:e,onUpdateHotLead:n,onDeleteHotLead:r,selectedDate:i,onDateChange:o,handleSetAppointment:l,onConvertToClient:u})=>{const[d,f]=A.useState(!1),[h,m]=A.useState(!1),[v,w]=A.useState(null),[S,T]=A.useState(null),[E,k]=A.useState(""),P=A.useMemo(()=>{const L=[...t].sort((H,ce)=>new Date(ce.dateAdded||0).getTime()-new Date(H.dateAdded||0).getTime());return E?L.filter(H=>H.dateAdded&&H.dateAdded.startsWith(E)):L},[t,E]),N=(L,H,ce)=>{const he=t.find(Z=>Z.id===L);if(!he)return;const z=H==="phone"?ua(String(ce)):ce;n({...he,[H]:z})},I=L=>{window.confirm("Are you sure you want to remove this hot lead?")&&r(L)},R=()=>{const L={name:"",company:"",date:new Date().toISOString().split("T")[0],phone:"",email:"",interestLevel:5,prospecting:{},dateAdded:new Date().toISOString(),completedFollowUps:{}};e(L)},O=L=>{w(L),f(!0)},D=L=>{w(L),m(!0)},q=({date:L,time:H,note:ce})=>{if(!v)return;const he=new Date(`${L}T${H}`);l({client:v.name,lead:"Hot Lead",time:H,details:ce},he),n({...v,appointmentDate:L}),f(!1)},$=L=>{v&&(u(v,L),m(!1))},F=L=>{const H=new Date(`${L.date}T${L.time}`);l({client:L.name,lead:"Hot Lead",time:L.time},H)},G=L=>{const H={name:L.name,company:"",date:new Date().toISOString().split("T")[0],phone:L.phone,email:L.email,interestLevel:L.interestLevel,prospecting:{},dateAdded:new Date().toISOString(),completedFollowUps:{}};e(H),alert(`${L.name} added to Hot Leads!`)};return g.jsxs(g.Fragment,{children:[g.jsx(OH,{isOpen:d,onClose:()=>f(!1),onSave:q,contact:v}),g.jsx(DH,{isOpen:h,onClose:()=>m(!1),onSave:$,contact:v}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[g.jsx(uo,{selectedDate:i,onDateChange:o}),g.jsx(EP,{onSetAppointment:F,onAddToHotLeads:G})]}),g.jsx("div",{className:"lg:col-span-9",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-brand-light-text dark:text-white",children:"Hot Leads"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Filter Date:"}),g.jsx(yi,{value:E,onChange:k,className:"w-32"}),E&&g.jsx("button",{onClick:()=>k(""),className:"text-red-500 hover:text-red-400 font-bold text-xl",title:"Clear filter",children:""})]}),g.jsx("button",{onClick:R,className:"bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm whitespace-nowrap",children:"+ Add New Lead"})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[g.jsx("thead",{className:"bg-brand-light-bg dark:bg-brand-gray/50 text-xs uppercase text-gray-500 dark:text-gray-400",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3",children:"Name"}),g.jsx("th",{className:"p-3",children:"Phone"}),g.jsx("th",{className:"p-3",children:"Email"}),g.jsx("th",{className:"p-3 text-center",children:"Follow-ups"}),g.jsx("th",{className:"p-3",children:"Actions"}),g.jsx("th",{className:"p-3 text-center w-12"})]})}),g.jsxs("tbody",{children:[P.map(L=>g.jsxs(Zl.Fragment,{children:[g.jsxs("tr",{className:"border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("td",{className:"p-2",children:g.jsx("input",{type:"text",value:L.name,onBlur:H=>N(L.id,"name",H.target.value),onChange:H=>N(L.id,"name",H.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{className:"p-2",children:g.jsx("input",{type:"tel",value:L.phone,onBlur:H=>N(L.id,"phone",H.target.value),onChange:H=>N(L.id,"phone",H.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{className:"p-2",children:g.jsx("input",{type:"email",value:L.email,onBlur:H=>N(L.id,"email",H.target.value),onChange:H=>N(L.id,"email",H.target.value),className:"w-full bg-transparent p-1 focus:outline-none focus:bg-brand-light-bg dark:focus:bg-brand-gray/50 rounded dark:text-white"})}),g.jsx("td",{className:"p-2 text-center",children:g.jsxs("button",{onClick:()=>T(S===L.id?null:L.id),className:"font-bold text-brand-blue hover:underline",disabled:!L.appointmentDate,title:L.appointmentDate?"View Follow-up Plan":"Set an appointment to start follow-ups",children:[L.completedFollowUps?Object.keys(L.completedFollowUps).length:0," / ",Object.keys(Hy).length]})}),g.jsxs("td",{className:"p-2 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>O(L),className:"bg-brand-blue text-white font-bold py-1 px-3 rounded-md hover:bg-blue-700 transition text-xs",children:"Set Appt"}),g.jsx("button",{onClick:()=>D(L),className:"bg-brand-lime text-brand-ink font-bold py-1 px-3 rounded-md hover:bg-green-400 transition text-xs",children:"Convert"})]}),g.jsx("td",{className:"p-2 text-center",children:g.jsx("button",{onClick:()=>I(L.id),className:"text-red-500 hover:text-red-400 font-bold text-xl",title:"Remove Lead",children:""})})]}),S===L.id&&g.jsx("tr",{children:g.jsxs("td",{colSpan:6,className:"p-3 bg-brand-light-bg dark:bg-brand-gray/20",children:[g.jsxs("h4",{className:"text-xs font-bold uppercase text-gray-500 dark:text-gray-400 mb-2",children:["Follow-up Plan (Starts: ",L.appointmentDate,")"]}),g.jsx("ul",{className:"text-xs space-y-1",children:Object.entries(Hy).map(([H,ce])=>{const he=L.completedFollowUps&&L.completedFollowUps[parseInt(H,10)];return g.jsxs("li",{className:`flex items-center ${he?"text-gray-500 line-through":"text-gray-700 dark:text-gray-300"}`,children:[g.jsxs("span",{className:"font-bold w-12",children:["Day ",H,":"]}),g.jsx("span",{children:ce})]},H)})})]})})]},L.id)),P.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"text-center p-8 text-gray-500 dark:text-gray-400",children:E?`No hot leads acquired on ${E}.`:"No hot leads yet. Add some from the Prospecting page!"})})]})]})})]})})]})]})},LH=({newClients:t})=>{const e=A.useMemo(()=>{const n=new Date,r=n.getMonth(),i=n.getFullYear(),o=t.filter(f=>{const h=new Date(f.closeDate);return h.getMonth()===r&&h.getFullYear()===i}),l=o.reduce((f,h)=>f+h.initialAmountCollected,0),u=o.reduce((f,h)=>f+(h.monthlyContractValue||0),0),d=o.length>0?l/o.length:0;return{clientsThisMonth:o.length,initialCollectedThisMonth:yt(l),newMCVThisMonth:yt(u),avgDealSize:yt(d)}},[t]);return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"NEW CLIENT KPIS"}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-4xl font-black text-brand-lime",children:e.clientsThisMonth}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"New Clients (Month)"})]}),g.jsxs("div",{className:"mt-4 space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-baseline border-t border-dashed border-gray-200 dark:border-brand-gray pt-2",children:[g.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"Initial Collected (Month):"}),g.jsx("span",{className:"font-bold text-lg text-brand-light-text dark:text-white",children:e.initialCollectedThisMonth})]}),g.jsxs("div",{className:"flex justify-between items-baseline border-t border-dashed border-gray-200 dark:border-brand-gray pt-2",children:[g.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"New MCV (Month):"}),g.jsx("span",{className:"font-bold text-lg text-brand-light-text dark:text-white",children:e.newMCVThisMonth})]}),g.jsxs("div",{className:"flex justify-between items-baseline border-t border-dashed border-gray-200 dark:border-brand-gray pt-2",children:[g.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"Average Deal Size:"}),g.jsx("span",{className:"font-bold text-lg text-brand-light-text dark:text-white",children:e.avgDealSize})]})]})]})},UH=({isOpen:t,onClose:e,onSave:n,client:r})=>{const[i,o]=A.useState({});A.useEffect(()=>{o(r||{id:`manual-${Date.now()}`,name:"",company:"",phone:"",email:"",address:"",salesProcessLength:"",monthlyContractValue:0,initialAmountCollected:0,closeDate:new Date().toISOString().split("T")[0],stage:"Contract Signed"})},[r,t]);const l=d=>{const{name:f,value:h,type:m}=d.target;if(m==="number"){const v=parseFloat(h);o(w=>({...w,[f]:isNaN(v)?void 0:v}))}else o(f==="phone"?v=>({...v,[f]:ua(h)}):v=>({...v,[f]:h}))},u=d=>{if(d.preventDefault(),!i.name||i.initialAmountCollected==null){alert("Please provide at least a client name and initial amount collected.");return}n(i)};return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:r?"Edit Client":"Add New Client"}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsx("form",{onSubmit:u,className:"flex-1 p-6 overflow-y-auto",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Name"}),g.jsx("input",{type:"text",name:"name",value:i.name||"",onChange:l,required:!0,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Company"}),g.jsx("input",{type:"text",name:"company",value:i.company||"",onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Phone"}),g.jsx("input",{type:"tel",name:"phone",value:i.phone||"",onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Email"}),g.jsx("input",{type:"email",name:"email",value:i.email||"",onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Sales Process Length"}),g.jsx("input",{type:"text",name:"salesProcessLength",placeholder:"e.g., 3 months",value:i.salesProcessLength||"",onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Address"}),g.jsx("input",{type:"text",name:"address",value:i.address||"",onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Monthly Contract Value (MCV)"}),g.jsx("input",{type:"number",name:"monthlyContractValue",value:i.monthlyContractValue===void 0?"":i.monthlyContractValue,onChange:l,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:"Initial Amount Collected"}),g.jsx("input",{type:"number",name:"initialAmountCollected",value:i.initialAmountCollected===void 0?"":i.initialAmountCollected,onChange:l,required:!0,className:"mt-1 w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]})]})}),g.jsxs("div",{className:"flex justify-end p-4 border-t border-brand-light-border dark:border-brand-gray space-x-2",children:[g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"}),g.jsx("button",{onClick:u,className:"bg-brand-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition text-sm",children:"Save Client"})]})]})}):null},BH=({onImport:t})=>{const e=A.useRef(null),n=i=>{var u;const o=(u=i.target.files)==null?void 0:u[0];if(!o)return;const l=new FileReader;l.onload=d=>{var f;try{const m=((f=d.target)==null?void 0:f.result).split(/\r?\n/).filter(S=>S.trim()!=="");if(m.length<2){alert("CSV file must have a header row and at least one data row.");return}const v=m[0].split(",").map(S=>S.trim().toLowerCase().replace(/ /g,"")),w=m.slice(1).map(S=>{const T=S.split(","),E={};return v.forEach((k,P)=>{var I;const N=(I=T[P])==null?void 0:I.trim();if(N!=null)switch(k){case"name":case"clientname":E.name=N;break;case"company":E.company=N;break;case"phone":case"phonenumber":E.phone=N;break;case"email":case"emailaddress":E.email=N;break;case"address":E.address=N;break;case"salesprocesslength":E.salesProcessLength=N;break;case"monthlycontractvalue":case"mcv":E.monthlyContractValue=parseFloat(N.replace(/[^0-9.-]+/g,""))||0;break;case"initialamountcollected":case"amount":case"amountcollected":E.initialAmountCollected=parseFloat(N.replace(/[^0-9.-]+/g,""))||0;break;case"closedate":case"date":E.closeDate=N;break;case"stage":E.stage=N;break}}),E}).filter(S=>S.name);w.length>0?t(w):alert("Could not find any valid client data in the file. Make sure your CSV has a 'name' column and that headers match expected values (e.g., name, company, phone, email, amount, date).")}catch(h){console.error("Error parsing CSV:",h),alert("There was an error parsing the CSV file. Please check the file format and try again.")}},l.readAsText(o),e.current&&(e.current.value="")},r=()=>{var i;(i=e.current)==null||i.click()};return g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"file",ref:e,onChange:n,accept:".csv",className:"hidden"}),g.jsxs("button",{type:"button",onClick:r,className:"bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm flex items-center gap-2 whitespace-nowrap",title:"Import clients from a CSV file",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Import CSV"]})]})},qH=({client:t,onClick:e,userColor:n="#6b7280"})=>g.jsxs("div",{onClick:e,className:"bg-brand-light-bg dark:bg-brand-gray/50 p-3 rounded-md border border-brand-light-border dark:border-brand-gray shadow-sm cursor-pointer hover:border-brand-blue flex items-center space-x-3 transition-all",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:n,children:g.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"flex-grow overflow-hidden",children:[g.jsx("p",{className:"font-bold text-sm text-brand-light-text dark:text-white truncate",title:t.name,children:t.name}),g.jsx("p",{className:"text-xs text-brand-lime font-semibold",children:yt(t.initialAmountCollected)}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Closed: ",t.closeDate]})]})]}),zH=({newClients:t,onSaveClient:e,selectedDate:n,onDateChange:r,loggedInUser:i,users:o})=>{const[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState(""),[v,w]=A.useState("all"),S=["#2F81F7","#34D399","#FBBF24","#A855F7","#E53E3E","#EC4899","#06B6D4"],T=A.useMemo(()=>{const R={};return o.filter(D=>D.role==="Sales Rep").forEach((D,q)=>{R[D.id]=S[q%S.length]}),R},[o]),E=A.useMemo(()=>{const R=[...t].sort(($,F)=>new Date(F.closeDate).getTime()-new Date($.closeDate).getTime()),O=v==="all"?R:R.filter($=>$.userId===v);if(!h.trim())return O;const D=h.toLowerCase(),q=h.replace(/[^\d]/g,"");return O.filter($=>{var G,L,H,ce;const F=((G=$.phone)==null?void 0:G.replace(/[^\d]/g,""))||"";return((L=$.name)==null?void 0:L.toLowerCase().includes(D))||((H=$.company)==null?void 0:H.toLowerCase().includes(D))||((ce=$.email)==null?void 0:ce.toLowerCase().includes(D))||q&&F.includes(q)})},[t,h,v]),k=()=>{f(null),u(!0)},P=R=>{f(R),u(!0)},N=R=>{e(String(R.id).startsWith("manual-")?{...R,userId:i.id}:R),u(!1),f(null)},I=R=>{R.forEach((O,D)=>{const q={id:`manual-${Date.now()}-${D}`,name:O.name||"Unnamed Client",company:O.company||"",phone:O.phone||"",email:O.email||"",address:O.address||"",salesProcessLength:O.salesProcessLength||"",monthlyContractValue:Number(O.monthlyContractValue)||0,initialAmountCollected:Number(O.initialAmountCollected)||0,closeDate:O.closeDate&&!isNaN(new Date(O.closeDate).getTime())?O.closeDate:new Date().toISOString().split("T")[0],stage:O.stage||"Job Completed",userId:i.id};e(q)}),alert(`Successfully imported ${R.length} new clients.`)};return g.jsxs(g.Fragment,{children:[g.jsx(UH,{isOpen:l,onClose:()=>u(!1),onSave:N,client:d}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[g.jsx(uo,{selectedDate:n,onDateChange:r}),g.jsx(LH,{newClients:t}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-sm font-bold text-brand-red uppercase mb-3",children:"Filter by Sales Rep"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>w("all"),className:`text-xs font-bold py-1 px-3 rounded-full transition-colors ${v==="all"?"bg-brand-blue text-white":"bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300"}`,children:"All Reps"}),o.filter(R=>R.role==="Sales Rep"&&R.status==="Active").map(R=>g.jsxs("button",{onClick:()=>w(R.id),className:`flex items-center gap-2 text-xs font-bold py-1 px-3 rounded-full transition-colors ${v===R.id?"bg-brand-blue text-white":"bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300"}`,children:[g.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T[R.id]||"#6b7280"}}),R.name.split(" ")[0]]},R.id))]})]})]}),g.jsx("div",{className:"lg:col-span-9",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-brand-light-text dark:text-white",children:"New Clients"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(BH,{onImport:I}),g.jsx("button",{onClick:k,className:"bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm whitespace-nowrap",children:"+ Add Client"})]})]}),g.jsx("div",{className:"mb-4",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),g.jsx("input",{type:"text",placeholder:"Search clients by name, company, email...",value:h,onChange:R=>m(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-lg text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue"})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:E.map(R=>g.jsx(qH,{client:R,onClick:()=>P(R),userColor:R.userId?T[R.userId]:void 0},R.id))}),t.length>0&&E.length===0&&g.jsx("div",{className:"text-center py-10",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No clients match your search."})}),t.length===0&&g.jsxs("div",{className:"text-center py-10",children:[g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No new clients yet."}),g.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Convert a hot lead or add one manually!"})]})]})})]})]})},$H=["Business Coach","Landscaper","Hardscaper","Painter","Plumber","Electrician","HVAC","Roofer","General Contractor","Financial Services","Insurance Agent","Real Estate Agent","Marketing Agency","Software/SaaS","Personal Trainer","Photographer","Web Developer","IT Services","Lawyer","Accountant"],HH=({onProductSelect:t})=>{const[e,n]=A.useState(""),[r,i]=A.useState([]),[o,l]=A.useState(!1),[u,d]=A.useState(null),[f,h]=A.useState("");A.useEffect(()=>{(async()=>{if(!e){i([]);return}l(!0),i([]),d(null);try{const S=await aH(e);i(S)}catch(S){console.error("Error fetching products:",S),d("Could not fetch suggestions due to an API error. This can happen if the API key is invalid or quota has been exceeded.")}finally{l(!1)}})()},[e]);const m=()=>{f.trim()&&(t(f.trim()),h(""))},v=w=>{w.key==="Enter"&&(w.preventDefault(),m())};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold mb-2 text-brand-light-text dark:text-white",children:"Industry & Products"}),g.jsxs("select",{value:e,onChange:w=>n(w.target.value),className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[g.jsx("option",{value:"",children:"-- Select an Industry --"}),$H.sort().map(w=>g.jsx("option",{value:w,children:w},w))]})]}),o&&g.jsx("div",{className:"flex justify-center items-center h-24",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-red"})}),u&&!o&&g.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-md text-center",children:g.jsx("p",{className:"text-xs text-red-500",children:u})}),r.length>0&&!o&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Suggested Products"}),g.jsx("ul",{className:"space-y-2",children:r.map(w=>g.jsxs("li",{className:"flex items-center justify-between p-2 bg-brand-light-bg dark:bg-brand-gray/20 rounded-md",children:[g.jsx("span",{className:"text-sm text-brand-light-text dark:text-gray-300",children:w}),g.jsx("button",{onClick:()=>t(w),className:"bg-brand-blue text-white text-xs font-semibold px-3 py-1 rounded-full hover:bg-blue-600 transition-colors",children:"Select"})]},w))})]}),g.jsxs("div",{className:"border-t border-brand-light-border dark:border-brand-gray pt-4",children:[g.jsx("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Add Custom Product"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Custom Product Name",value:f,onChange:w=>h(w.target.value),onKeyPress:v,className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("button",{onClick:m,className:"bg-brand-lime text-brand-ink font-bold py-1 px-3 rounded-lg hover:bg-green-400 transition text-xs",children:"Add"})]})]})]})},GH=({productData:t,timeframeText:e})=>{const[n,r]=A.useState(null),[i,o]=A.useState(!1),[l,u]=A.useState(null),d=async()=>{if(t.length===0){u("No sales data available to analyze for this period.");return}o(!0),u(null);try{const f=await mH(t,e);r(f)}catch(f){u("Failed to generate AI analysis. Please try again."),console.error(f)}finally{o(!1)}};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"AI REVENUE ANALYSIS"}),!n&&!i&&g.jsxs("div",{className:"text-center p-4",children:[g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Get AI-powered insights on your product sales, marketing strategies, and more."}),g.jsx("button",{onClick:d,className:"bg-brand-red text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition",children:"Analyze My Revenue"}),l&&g.jsx("p",{className:"text-red-500 text-xs mt-2",children:l})]}),i&&g.jsx("div",{className:"flex justify-center items-center h-48",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-red"})}),n&&!i&&g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-brand-red mb-2",children:"Key Questions"}),g.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 dark:text-gray-300",children:n.questions.map((f,h)=>g.jsx("li",{children:f},h))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-brand-lime mb-2",children:"Marketing Strategies"}),g.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 dark:text-gray-300",children:n.strategies.map((f,h)=>g.jsx("li",{children:f},h))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-brand-blue mb-2",children:"Recommended Reading"}),g.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[g.jsxs("p",{children:[g.jsx("span",{className:"font-semibold",children:n.reading.title})," by ",n.reading.author]}),g.jsx("p",{className:"text-xs italic text-gray-500",children:n.reading.description})]})]}),g.jsxs("div",{className:"border-t border-dashed border-brand-light-border dark:border-brand-gray pt-4 text-center",children:[g.jsxs("blockquote",{className:"italic text-gray-700 dark:text-gray-300",children:['"',n.quote.text,'"']}),g.jsxs("cite",{className:"not-italic font-semibold text-sm text-gray-500 dark:text-gray-400",children:["- ",n.quote.author]})]})]})]})},QT=["#2F81F7","#34D399","#FBBF24","#A855F7","#E53E3E","#EC4899","#06B6D4","#F97316","#6366F1","#10B981"],FH=(t,e)=>t?QT[e%QT.length]:"#cbd5e1",VH=({data:t})=>{const e=t.slice(0,5);if(e.length===0)return g.jsx("p",{className:"text-center text-sm text-gray-500 py-8",children:"No revenue data for this period."});const n=Math.max(...e.map(r=>r.revenue),1);return g.jsx("div",{className:"space-y-4 animate-fade-in",children:e.map((r,i)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-28 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 truncate",title:r.name,children:r.name}),g.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-brand-gray rounded-full h-6",children:g.jsx("div",{className:"h-6 rounded-full text-white text-xs flex items-center px-2",style:{width:`${r.revenue/n*100}%`,backgroundColor:FH(r.name,i)},children:yt(r.revenue)})})]},r.name))})},KH=({transactions:t,onSaveTransaction:e,onDeleteTransaction:n,selectedDate:r,onDateChange:i,initialState:o,onInitialStateConsumed:l})=>{const[u,d]=A.useState("daily"),[f,h]=A.useState(""),[m,v]=A.useState(""),[w,S]=A.useState(""),[T,E]=A.useState(!1),[k,P]=A.useState(null),[N,I]=A.useState(()=>Array.from(new Set(t.map(W=>W.product)))),[R,O]=A.useState(null),[D,q]=A.useState(!1),$=new Date().toISOString().split("T")[0],F=new Date;F.setDate(F.getDate()-29);const[G,L]=A.useState({start:F.toISOString().split("T")[0],end:$}),H=W=>W.toISOString().split("T")[0];A.useEffect(()=>{o&&(d(o.viewMode),o.dateRange&&L(o.dateRange),l())},[o,l]),A.useEffect(()=>{de(),O(null)},[r]);const ce=A.useMemo(()=>{const W=H(r);return(t||[]).filter(fe=>fe.date===W).sort((fe,pe)=>fe.clientName.localeCompare(pe.clientName))},[t,r]),he=A.useMemo(()=>Array.from(new Set(ce.map(W=>W.product))),[ce]),z=A.useMemo(()=>{if(!R)return null;const W=r,fe=W.toISOString().split("T")[0],pe=new Date(W);pe.setDate(pe.getDate()-W.getDay());const me=new Date(pe);me.setDate(me.getDate()+6);const De=pe.toISOString().split("T")[0],te=me.toISOString().split("T")[0],we=W.getMonth(),Ne=W.getFullYear();let ie={day:0,week:0,month:0,year:0},Be={day:0,week:0,month:0,year:0};(t||[]).forEach(Oe=>{const Fe=new Date(Oe.date+"T00:00:00");Oe.date===fe&&(ie.day+=Oe.amount),Oe.date>=De&&Oe.date<=te&&(ie.week+=Oe.amount),Fe.getMonth()===we&&Fe.getFullYear()===Ne&&(ie.month+=Oe.amount),Fe.getFullYear()===Ne&&(ie.year+=Oe.amount),Oe.product===R&&(Oe.date===fe&&(Be.day+=Oe.amount),Oe.date>=De&&Oe.date<=te&&(Be.week+=Oe.amount),Fe.getMonth()===we&&Fe.getFullYear()===Ne&&(Be.month+=Oe.amount),Fe.getFullYear()===Ne&&(Be.year+=Oe.amount))});const ve=(Oe,Fe)=>Fe>0?(Oe/Fe*100).toFixed(1)+"%":"0.0%";return{day:ve(Be.day,ie.day),week:ve(Be.week,ie.week),month:ve(Be.month,ie.month),year:ve(Be.year,ie.year)}},[R,t,r]),Z=A.useMemo(()=>{const{start:W,end:fe}=G,pe=(t||[]).filter(ve=>ve.date>=W&&ve.date<=fe),me={};let De=0;pe.forEach(ve=>{me[ve.product]||(me[ve.product]={revenue:0,count:0}),me[ve.product].revenue+=ve.amount,me[ve.product].count+=1,De+=ve.amount});const te=Object.entries(me).map(([ve,Oe])=>({product:ve,...Oe})).sort((ve,Oe)=>Oe.revenue-ve.revenue),we={},Ne=new Date(W+"T00:00:00"),ie=new Date(fe+"T00:00:00");for(let ve=new Date(Ne);ve<=ie;ve.setDate(ve.getDate()+1))we[ve.toISOString().split("T")[0]]=0;pe.forEach(ve=>{we[ve.date]=(we[ve.date]||0)+ve.amount});const Be=Object.entries(we).map(([ve,Oe])=>({date:ve,revenue:Oe}));return{totalRevenue:De,totalTransactions:pe.length,avgDealSize:pe.length>0?De/pe.length:0,productChartData:te,timeChartData:Be}},[t,G]),de=()=>{h(""),v(""),S(""),E(!1),P(null)},K=async W=>{W.preventDefault(),q(!0);const fe=parseFloat(w);if(!f||!m||isNaN(fe)||fe<0){alert("Please fill out all fields with valid data."),q(!1);return}const pe={id:k||`new-${Date.now()}`,date:H(r),clientName:f,product:m,amount:fe,isRecurring:T};try{await e(pe),N.includes(m)||I(me=>[...me,m].sort()),de()}catch(me){console.error("Failed to save transaction:",me),alert("Could not save the transaction. Please try again.")}finally{q(!1)}},ue=W=>{P(W.id),h(W.clientName),v(W.product),S(W.amount.toString()),E(W.isRecurring)},j=W=>{window.confirm("Are you sure you want to delete this transaction?")&&n(W)},Y=W=>{var fe;v(W),(fe=document.getElementById("clientNameInput"))==null||fe.focus()},oe=({data:W})=>{if(W.length===0)return g.jsx("p",{className:"text-center text-sm text-gray-500 py-8",children:"No data for this period."});const fe=500,pe=200,me=30,De=Math.max(...W.map(Ne=>Ne.revenue),0),te=De===0?1e3:Math.ceil(De*1.1),we=W.map((Ne,ie)=>`${ie/(W.length-1)*(fe-me*2)+me},${pe-me-Ne.revenue/te*(pe-me*2)}`).join(" ");return g.jsxs("svg",{viewBox:`0 0 ${fe} ${pe}`,className:"w-full h-auto",children:[g.jsx("line",{x1:me,y1:pe-me,x2:fe-me,y2:pe-me,stroke:"#4b5563"}),g.jsx("line",{x1:me,y1:me,x2:me,y2:pe-me,stroke:"#4b5563"}),g.jsx("polyline",{fill:"none",stroke:"#34D399",strokeWidth:"2",points:we}),g.jsx("text",{x:"10",y:"15",className:"text-[10px] fill-gray-400",children:yt(te)}),g.jsx("text",{x:"10",y:pe-me+3,className:"text-[10px] fill-gray-400",children:yt(0)})]})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h1",{className:"text-2xl font-bold text-brand-light-text dark:text-white",children:"Revenue Center"}),g.jsxs("div",{className:"flex items-center bg-brand-light-bg dark:bg-brand-ink p-1 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("button",{onClick:()=>d("daily"),className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${u==="daily"?"bg-brand-blue text-white":"text-gray-500 dark:text-gray-400 hover:text-brand-light-text dark:hover:text-white"}`,children:"Daily Entry"}),g.jsx("button",{onClick:()=>d("analysis"),className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${u==="analysis"?"bg-brand-blue text-white":"text-gray-500 dark:text-gray-400 hover:text-brand-light-text dark:hover:text-white"}`,children:"Analysis"})]})]}),u==="daily"?g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fade-in",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx(uo,{selectedDate:r,onDateChange:i}),g.jsx(HH,{onProductSelect:Y})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:[k?"EDIT":"ADD"," TRANSACTION"]}),g.jsxs("form",{onSubmit:K,className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsx("input",{id:"clientNameInput",type:"text",placeholder:"Client / Company Name",value:f,onChange:W=>h(W.target.value),required:!0,className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsxs("div",{children:[g.jsx("input",{list:"product-list",type:"text",placeholder:"Product / Service",value:m,onChange:W=>v(W.target.value),className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("datalist",{id:"product-list",children:N.map(W=>g.jsx("option",{value:W},W))})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-center",children:[g.jsx("input",{type:"number",placeholder:"Amount",value:w,onChange:W=>S(W.target.value),className:"w-full bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-sm text-gray-500 dark:text-gray-400",children:[g.jsx("input",{type:"checkbox",checked:T,onChange:W=>E(W.target.checked),className:"h-4 w-4 rounded bg-brand-light-border dark:bg-brand-gray border-gray-300 dark:border-gray-600 text-brand-lime focus:ring-brand-lime"}),g.jsx("span",{children:"Recurring (MCV)"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[g.jsx("button",{type:"submit",disabled:D,className:"flex-grow bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm disabled:bg-brand-gray",children:D?"Saving...":k?"Update Transaction":"Add Transaction"}),k&&g.jsx("button",{type:"button",onClick:de,className:"bg-brand-gray text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Cancel"})]})]})]}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h3",{className:"text-lg font-bold mb-2 text-brand-light-text dark:text-white",children:["Transactions for ",r.toLocaleDateString()]}),g.jsx("div",{className:"overflow-x-auto max-h-96",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"bg-brand-light-bg dark:bg-brand-gray/50 text-xs uppercase text-gray-500 dark:text-gray-400 sticky top-0",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Client"}),g.jsx("th",{className:"p-2",children:"Product"}),g.jsx("th",{className:"p-2 text-right",children:"Amount"}),g.jsx("th",{className:"p-2 text-center",children:"MCV"}),g.jsx("th",{className:"p-2 text-right",children:"ACV"}),g.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),g.jsxs("tbody",{children:[ce.map(W=>g.jsxs("tr",{className:"border-b border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white",children:[g.jsx("td",{className:"p-2 font-medium",children:W.clientName}),g.jsx("td",{className:"p-2 text-gray-500 dark:text-gray-400",children:W.product}),g.jsx("td",{className:"p-2 text-right font-semibold text-brand-lime",children:yt(W.amount)}),g.jsx("td",{className:"p-2 text-center",children:W.isRecurring?"":"-"}),g.jsx("td",{className:"p-2 text-right text-gray-500 dark:text-gray-400",children:W.isRecurring?yt(W.amount*12):"-"}),g.jsxs("td",{className:"p-2 text-center space-x-2",children:[g.jsx("button",{onClick:()=>ue(W),className:"text-xs text-blue-400 hover:underline",children:"Edit"}),g.jsx("button",{onClick:()=>j(W.id),className:"text-xs text-red-400 hover:underline",children:"Del"})]})]},W.id)),ce.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"text-center p-4 text-gray-500 dark:text-gray-400",children:"No transactions for this day."})})]})]})}),he.length>0&&g.jsxs("div",{className:"mt-6 pt-4 border-t border-dashed border-brand-light-border dark:border-brand-gray",children:[g.jsx("h4",{className:"text-md font-bold text-brand-light-text dark:text-white mb-3",children:"Product Contribution Analysis"}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:["Select a product from today's transactions to see its revenue contribution to the total sales for different periods (relative to ",r.toLocaleDateString(),")."]}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:he.map(W=>g.jsx("button",{onClick:()=>O(W),className:`text-xs font-bold py-1 px-3 rounded-full transition-colors ${R===W?"bg-brand-red text-white":"bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300"}`,children:W},W))}),R&&z&&g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-brand-light-bg dark:bg-brand-ink rounded-lg animate-fade-in",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-black text-brand-blue",children:z.day}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"of Day's Revenue"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-black text-brand-blue",children:z.week}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"of Week's Revenue"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-black text-brand-blue",children:z.month}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"of Month's Revenue"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-black text-brand-blue",children:z.year}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"of Year's Revenue"})]})]})]})]})]})]}):g.jsxs("div",{className:"space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray flex flex-col md:flex-row items-center justify-between gap-4",children:[g.jsx("h2",{className:"text-lg font-bold text-brand-light-text dark:text-white",children:"Date Range Analysis"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(yi,{value:G.start,onChange:W=>L(fe=>({...fe,start:W})),className:"w-32"}),g.jsx("span",{className:"font-semibold text-gray-500",children:"to"}),g.jsx(yi,{value:G.end,onChange:W=>L(fe=>({...fe,end:W})),className:"w-32"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray text-center",children:[g.jsx("h4",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Total Revenue"}),g.jsx("p",{className:"text-4xl font-black text-brand-lime",children:yt(Z.totalRevenue)})]}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray text-center",children:[g.jsx("h4",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Transactions"}),g.jsx("p",{className:"text-4xl font-black text-brand-light-text dark:text-white",children:Z.totalTransactions})]}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray text-center",children:[g.jsx("h4",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Avg. Deal Size"}),g.jsx("p",{className:"text-4xl font-black text-brand-blue",children:yt(Z.avgDealSize)})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 text-brand-light-text dark:text-white",children:"Top Products by Revenue"}),g.jsx(VH,{data:Z.productChartData.map(W=>({name:W.product,revenue:W.revenue}))})]}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 text-brand-light-text dark:text-white",children:"Revenue Over Time"}),g.jsx(oe,{data:Z.timeChartData})]})]}),g.jsx(GH,{productData:Z.productChartData,timeframeText:`${G.start} to ${G.end}`})]})]})},YH=({isOpen:t,onClose:e,data:n,onEditEvent:r})=>{if(!t||!n)return null;const{title:i,events:o,day:l}=n;return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:i}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:o.length>0?g.jsx("ul",{className:"space-y-3",children:o.map(u=>g.jsxs("li",{className:"p-3 bg-brand-light-bg dark:bg-brand-gray/20 rounded-md flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-brand-light-text dark:text-white",children:u.client||u.title}),g.jsx("p",{className:"text-sm text-brand-blue font-semibold",children:Kk(u.time)}),u.details&&g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:u.details})]}),g.jsx("button",{onClick:()=>r(u,l),className:"text-xs bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300 font-bold py-1 px-3 rounded-md hover:bg-gray-300 dark:hover:bg-brand-gray/50 transition whitespace-nowrap",children:"View / Edit"})]},u.id))}):g.jsx("p",{className:"text-center text-gray-500 p-8",children:"No events of this type for the selected day."})}),g.jsx("div",{className:"p-4 border-t border-brand-light-border dark:border-brand-gray text-right",children:g.jsx("button",{onClick:e,className:"bg-brand-gray text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-light-gray transition text-sm",children:"Close"})})]})})},WH=t=>t===0?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),JH=t=>{if(!t||!t.prospectingContacts)return 0;const e={SW:3,SA:10,EP:5,LM:1,ST:1,NA:1};let n=0;return t.prospectingContacts.forEach(r=>{for(const i in r.prospecting)r.prospecting[i]&&(n+=e[i]||0)}),n},XH={Appointment:"bg-brand-blue text-white",Meeting:"bg-purple-600 text-white",Call:"bg-brand-lime text-brand-ink","Follow-up":"bg-yellow-500 text-brand-ink",Personal:"bg-pink-500 text-white",Task:"bg-brand-gray text-white"},QH=({allData:t,onDataChange:e,transactions:n,selectedDate:r,onDateChange:i,setView:o})=>{const[l,u]=A.useState(!1),[d,f]=A.useState(!1),[h,m]=A.useState(null),[v,w]=A.useState({event:null,date:null}),S=r.getMonth(),T=r.getFullYear(),E=A.useMemo(()=>{const F=new Date(T,S,1).getDay(),G=new Date(T,S+1,0).getDate(),L=[];for(let H=0;H<F;H++)L.push(null);for(let H=1;H<=G;H++)L.push(new Date(T,S,H));return L},[S,T]),k=A.useMemo(()=>{const F={};return n.forEach(G=>{const L=new Date(G.date+"T00:00:00");L.getFullYear()===T&&L.getMonth()===S&&(F[G.date]||(F[G.date]={revenue:0,kpiScore:0,events:[]}),F[G.date].revenue+=G.amount)}),Object.keys(t).forEach(G=>{const L=new Date(G+"T00:00:00");L.getFullYear()===T&&L.getMonth()===S&&(F[G]||(F[G]={revenue:0,kpiScore:0,events:[]}),F[G].kpiScore=JH(t[G]),F[G].events=t[G].events||[])}),F},[t,n,S,T]),P=()=>i(new Date(T,S-1,1)),N=()=>i(new Date(T,S+1,1)),I=F=>{w({event:null,date:F}),u(!0)},R=(F,G)=>{f(!1),w({event:F,date:G}),u(!0)},O=(F,G,L)=>{if(G&&t[G]&&G!==L){const he=t[G],z=he.events.filter(Z=>Z.id!==F.id);e(G,{...he,events:z})}const H=t[L]||ca(),ce=H.events.findIndex(he=>he.id===F.id);ce>-1?H.events[ce]=F:H.events.push(F),H.events.sort((he,z)=>he.time.localeCompare(z.time)),e(L,H),u(!1),w({event:null,date:null})},D=(F,G)=>{const L=t[G];if(L){const H=L.events.filter(ce=>ce.id!==F);e(G,{...L,events:H})}u(!1),w({event:null,date:null})},q=F=>{var H;const G=F.toISOString().split("T")[0],L=((H=k[G])==null?void 0:H.events)||[];m({title:`Activities for ${F.toLocaleDateString()}`,events:L,day:F}),f(!0)},$=F=>{i(F),o("day-view"),u(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(SP,{isOpen:l,onClose:()=>u(!1),onSave:O,onDelete:D,date:v.date,eventToEdit:v.event,onGoToDay:$}),g.jsx(YH,{isOpen:d,onClose:()=>f(!1),data:h,onEditEvent:R}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 sm:p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("button",{onClick:P,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50","aria-label":"Previous month",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),g.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-brand-light-text dark:text-white",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),g.jsx("button",{onClick:N,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-brand-gray/50","aria-label":"Next month",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),g.jsxs("div",{className:"grid grid-cols-7 gap-px bg-brand-light-border dark:bg-brand-gray",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>g.jsx("div",{className:"text-center font-bold text-xs text-gray-500 dark:text-gray-400 py-2 uppercase bg-brand-light-bg dark:bg-brand-gray/50",children:F},F)),E.map((F,G)=>{if(!F)return g.jsx("div",{className:"bg-brand-light-bg dark:bg-brand-ink/50"},`empty-${G}`);const L=F.toISOString().split("T")[0],H=k[L]||{revenue:0,kpiScore:0,events:[]},ce=L===new Date().toISOString().split("T")[0],he=L===r.toISOString().split("T")[0];return g.jsxs("div",{className:`relative p-2 min-h-[120px] flex flex-col group bg-brand-light-card dark:bg-brand-navy ${he?"bg-brand-blue/10 dark:bg-brand-blue/20":""}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`text-sm font-bold ${ce?"bg-brand-red text-white rounded-full w-6 h-6 flex items-center justify-center":"text-brand-light-text dark:text-white"}`,children:F.getDate()}),g.jsx("button",{onClick:()=>I(F),className:"opacity-0 group-hover:opacity-100 transition-opacity text-brand-blue font-bold text-lg rounded-full w-6 h-6 flex items-center justify-center hover:bg-brand-blue/20",children:"+"})]}),g.jsxs("div",{className:"flex-grow mt-1 text-xs space-y-1",children:[H.revenue>0&&g.jsx("p",{className:"text-brand-lime font-semibold",children:WH(H.revenue)}),H.kpiScore>0&&g.jsxs("p",{className:"text-yellow-500 font-semibold",children:["Score: ",H.kpiScore]}),g.jsxs("div",{className:"space-y-1 overflow-hidden",children:[H.events.slice(0,2).map(z=>g.jsx("div",{onClick:()=>R(z,F),className:`p-1 rounded-sm cursor-pointer text-[10px] leading-tight font-semibold truncate ${XH[z.type]}`,children:z.title},z.id)),H.events.length>2&&g.jsxs("button",{onClick:()=>q(F),className:"text-blue-500 hover:underline text-xs font-semibold w-full text-left",children:["+ ",H.events.length-2," more"]})]})]}),g.jsx("button",{onClick:()=>{i(F),o("day-view")},className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-gray-400 hover:text-brand-blue",children:""})]},L)})]})]})]})},ZH=()=>{const t=[{title:"Be Specific",description:"Instead of 'a dog', try 'a golden retriever puppy playing in a field of daisies at sunset'."},{title:"Use Adjectives",description:"Words like 'vibrant', 'surreal', 'photorealistic', 'minimalist' can dramatically change the style."},{title:"Mention Artists or Styles",description:"Try adding 'in the style of Van Gogh' or 'as a watercolor painting'."},{title:"Set the Scene",description:"Describe the environment, lighting, and camera angle (e.g., 'cinematic lighting', 'wide-angle shot')."}];return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"PROMPT ENGINEERING 101"}),g.jsx("ul",{className:"space-y-3",children:t.map((e,n)=>g.jsxs("li",{className:"flex items-start space-x-3",children:[g.jsx("span",{className:"text-brand-red font-bold text-lg mt-[-2px]",children:""}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-sm text-brand-light-text dark:text-white",children:e.title}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]},n))})]})},eG=()=>{const[t,e]=A.useState(""),[n,r]=A.useState("1:1"),[i,o]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState(null),[v,w]=A.useState(""),[S,T]=A.useState(!1),[E,k]=A.useState(null),[P,N]=A.useState(null),I=A.useRef(null),R=async()=>{if(!t){f("Please enter a prompt.");return}u(!0),f(null),o(null),k(null);try{const q=await oH(t,n);o(q),m(q)}catch(q){console.error(q),f("Failed to generate image. Please check the console for details.")}finally{u(!1)}},O=async()=>{var q;if(!v||!h){N("Please enter an edit prompt and ensure an image is loaded.");return}T(!0),N(null),k(null);try{const $=h.split(",")[1],F=((q=h.match(/:(.*?);/))==null?void 0:q[1])||"image/jpeg",G=await sH($,F,v);k(G)}catch($){console.error($),N("Failed to edit image. Please check the console for details.")}finally{T(!1)}},D=q=>{var F;const $=(F=q.target.files)==null?void 0:F[0];if($){const G=new FileReader;G.onload=async L=>{var ce,he;const H=(ce=L.target)==null?void 0:ce.result;m(H),o(null),k(null),w("");try{const z=H.split(",")[1],Z=((he=H.match(/:(.*?);/))==null?void 0:he[1])||"image/jpeg",de=await lH(z,Z);w(de)}catch(z){console.error("Could not get edit suggestion:",z),w("Enhance the lighting and colors.")}},G.readAsDataURL($)}};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray space-y-4",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"Image Generation"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"prompt",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Prompt"}),g.jsx("textarea",{id:"prompt",value:t,onChange:q=>e(q.target.value),rows:4,className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white dark:text-white",placeholder:"A photorealistic image of a futuristic sales robot closing a deal..."})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"aspectRatio",className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Aspect Ratio"}),g.jsxs("select",{id:"aspectRatio",value:n,onChange:q=>r(q.target.value),className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white",children:[g.jsx("option",{value:"1:1",children:"Square (1:1)"}),g.jsx("option",{value:"16:9",children:"Widescreen (16:9)"}),g.jsx("option",{value:"9:16",children:"Portrait (9:16)"}),g.jsx("option",{value:"4:3",children:"Landscape (4:3)"}),g.jsx("option",{value:"3:4",children:"Tall (3:4)"})]})]}),g.jsx("button",{onClick:R,disabled:l,className:"w-full bg-brand-red text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition disabled:bg-brand-gray",children:l?"Generating...":"Generate Image"}),d&&g.jsx("p",{className:"text-sm text-red-500",children:d})]}),g.jsx(ZH,{})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray min-h-[400px] flex flex-col items-center justify-center",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white mb-4",children:"Your Generated Image"}),l?g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-red"}):i?g.jsx("img",{src:i,alt:t,className:"max-w-full max-h-[400px] rounded-lg"}):g.jsx("p",{className:"text-gray-500",children:"Your generated image will appear here."})]}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"Edit an Image"}),g.jsx("input",{type:"file",ref:I,onChange:D,accept:"image/*",className:"hidden"}),g.jsx("button",{onClick:()=>{var q;return(q=I.current)==null?void 0:q.click()},className:"text-xs bg-gray-200 dark:bg-brand-gray text-gray-700 dark:text-gray-300 font-bold py-1 px-3 rounded-md hover:bg-gray-300 dark:hover:bg-brand-gray/50 transition",children:"Upload Image"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{htmlFor:"edit-prompt",className:"block text-sm font-bold text-gray-600 dark:text-gray-300",children:"Edit Prompt"}),g.jsx("textarea",{id:"edit-prompt",value:v,onChange:q=>w(q.target.value),rows:3,className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white dark:text-white",placeholder:"e.g., make the robot wear a hat"}),g.jsx("button",{onClick:O,disabled:S||!h,className:"w-full bg-brand-blue text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition disabled:bg-brand-gray",children:S?"Editing...":"Apply Edit"}),P&&g.jsx("p",{className:"text-sm text-red-500",children:P})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[150px] bg-brand-light-bg dark:bg-brand-ink rounded-lg p-2",children:[h&&!E&&g.jsx("img",{src:h,alt:"Image to edit",className:"max-w-full max-h-[200px] rounded-lg mb-2"}),S?g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue"}):E?g.jsx("img",{src:E,alt:v,className:"max-w-full max-h-[200px] rounded-lg"}):h?null:g.jsx("p",{className:"text-gray-500 text-center text-sm",children:"Upload or generate an image to start editing."})]})]})]})]})]})},tG=["Welcome Email","Business Proposal","Service Contract","Anniversary/Birthday Message","Sales Email Sequence (3 emails)","Website Landing Page Copy","LinkedIn Post","New Product Introduction","Mastermind Group Invitation","Company Newsletter","Lesson Outline","Checklist"],nG=({selectedTemplate:t,setSelectedTemplate:e})=>g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"CONTENT TEMPLATES"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Select a Template"}),g.jsx("select",{value:t,onChange:n=>e(n.target.value),className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue",children:tG.map(n=>g.jsx("option",{value:n,children:n},n))})]}),g.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Select a template to see the required fields."})]})]}),rG={"Welcome Email":[{label:"Client Name",name:"clientName",placeholder:"Jane Doe"},{label:"Your Company Name",name:"companyName",placeholder:"Acme Inc."},{label:"Key Service/Product",name:"service",placeholder:"our premium marketing package"}],"Business Proposal":[{label:"Client Name",name:"clientName",placeholder:"John Smith"},{label:"Project Name",name:"projectName",placeholder:"Website Redesign"},{label:"Key Objective",name:"objective",placeholder:"Increase online leads by 30%"},{label:"Total Price",name:"price",placeholder:"$5,000"}],"Service Contract":[{label:"Client Name",name:"clientName",placeholder:"Innovate Corp"},{label:"Service Provided",name:"service",placeholder:"Monthly social media management"},{label:"Term Length",name:"term",placeholder:"12 months"},{label:"Monthly Fee",name:"fee",placeholder:"$1,500"}],"LinkedIn Post":[{label:"Topic",name:"topic",placeholder:"The importance of follow-up in sales"},{label:"Key Takeaway",name:"takeaway",placeholder:"Consistency is more important than perfection."},{label:"Call to Action",name:"cta",placeholder:"What's your best follow-up tip?"}],"Anniversary/Birthday Message":[{label:"Client Name",name:"clientName",placeholder:"Susan"},{label:"Occasion",name:"occasion",placeholder:"Work Anniversary"},{label:"Years",name:"years",placeholder:"3"}],"Sales Email Sequence (3 emails)":[{label:"Prospect Name",name:"prospectName",placeholder:"David"},{label:"Your Product/Service",name:"product",placeholder:"our automated CRM"},{label:"Key Pain Point",name:"painPoint",placeholder:"spending too much time on data entry"}],"Website Landing Page Copy":[{label:"Product Name",name:"productName",placeholder:"ConnectSphere CRM"},{label:"Target Audience",name:"audience",placeholder:"Small business owners"},{label:"Main Benefit",name:"benefit",placeholder:"Saves 10+ hours per week"}],"New Product Introduction":[{label:"Product Name",name:"productName",placeholder:"InnovateX"},{label:"Key Feature",name:"feature",placeholder:"AI-powered predictive analysis"},{label:"Target Market",name:"market",placeholder:"Enterprise-level sales teams"}]},ZT=["Mastermind Group Invitation","Company Newsletter","Lesson Outline","Checklist"],iG=t=>{switch(t){case"Mastermind Group Invitation":return"Describe who the mastermind is for, the main promise, how often you meet, what topics you cover, and the tone you want (casual, elite, faith-based, etc.).";case"Company Newsletter":return"Describe this issues focus: your audience, main theme, key company updates or wins, and any important calls to action or offers you want included.";case"Lesson Outline":return"Describe the lesson topic, audience (e.g., sales team, congregation, youth), time length, key points or scriptures, and the main outcome you want for your listeners.";case"Checklist":return"Describe what the checklist should cover (e.g., sermon prep, public talk, sales presentation, home inspection, ministry event), the setting, and what done should look like.";default:return"Add any details that will help the AI create exactly what you have in mind."}},aG=()=>{const[t,e]=A.useState("Welcome Email"),[n,r]=A.useState({}),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,f]=A.useState(!1),[h,m]=A.useState(null),v=A.useMemo(()=>(r({}),o(""),rG[t]||[]),[t]),w=(E,k)=>{r(P=>({...P,[E]:k}))},S=async()=>{f(!0),m(null),u("");try{const E={...n};ZT.includes(t)&&i.trim()&&(E.description=i.trim());const k=await uH(t,E);u(k)}catch(E){console.error(E),m("Failed to generate content. Please try again.")}finally{f(!1)}},T=()=>{navigator.clipboard.writeText(l).then(()=>{alert("Content copied to clipboard!")},E=>{console.error("Could not copy text: ",E),alert("Failed to copy content.")})};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[g.jsx(nG,{selectedTemplate:t,setSelectedTemplate:e}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-2 text-brand-light-text dark:text-white",children:"Template Details"}),g.jsxs("div",{className:"space-y-4",children:[v.length>0?v.map(E=>g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:E.label}),g.jsx("input",{type:"text",value:n[E.name]||"",onChange:k=>w(E.name,k.target.value),placeholder:E.placeholder,className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white p-1 focus:outline-none focus:border-brand-blue"})]},E.name)):g.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"This template has no structured fields. Use the description box below to guide the AI."}),ZT.includes(t)&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-600 dark:text-gray-300 mb-1",children:"Description of what to create"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:iG(t)}),g.jsx("textarea",{value:i,onChange:E=>o(E.target.value),rows:4,className:"w-full bg-transparent border border-brand-light-border dark:border-brand-gray rounded-md text-brand-light-text dark:text-white text-sm p-2 focus:outline-none focus:border-brand-blue",placeholder:"Type a clear description here (who its for, context, key points, tone, etc.)..."})]}),g.jsx("button",{onClick:S,disabled:d,className:"w-full bg-brand-red text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition disabled:bg-brand-gray",children:d?"Generating...":"Generate Content"}),h&&g.jsx("p",{className:"text-sm text-red-500 text-center",children:h})]})]})]}),g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"Generated Content"}),g.jsx("button",{onClick:T,disabled:!l||d,className:"text-xs bg-brand-blue text-white font-bold py-1 px-3 rounded-md hover:bg-blue-700 transition disabled:bg-brand-gray",children:"Copy Text"})]}),g.jsx("div",{className:"w-full bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-md p-4 min-h-[60vh] max-h-[80vh] overflow-y-auto",children:d?g.jsx("div",{className:"flex justify-center items-center h-full",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-blue"})}):g.jsx("pre",{className:"text-sm text-brand-light-text dark:text-gray-300 whitespace-pre-wrap font-sans",children:l||"Your AI-generated content will appear here..."})})]})})]})},oG=["Tony Robbins","Jim Rohn","Zig Ziglar","Brian Tracy","Napoleon Hill"],sG=["John Wooden","Phil Jackson","Nick Saban"],lG=({onSaveQuote:t,savedQuotes:e})=>{const[n,r]=A.useState("Tony Robbins"),[i,o]=A.useState(""),[l,u]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(null),v=new Set(e.map(E=>E.text)),w=async E=>{if(E){f(!0),m(null),u([]);try{const k=await cH(E);u(k)}catch{m("Failed to fetch quotes. Please try again.")}finally{f(!1)}}};A.useEffect(()=>{w(n)},[n]);const S=()=>{r(""),w(i)},T=E=>{E.key==="Enter"&&S()};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"WORDS OF WISDOM"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"quote-select",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Select an Influencer"}),g.jsxs("select",{id:"quote-select",value:n,onChange:E=>{o(""),r(E.target.value)},className:"w-full bg-brand-light-bg dark:bg-brand-gray/50 border border-brand-light-border dark:border-brand-gray rounded-md p-2 text-sm text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue",children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),g.jsx("optgroup",{label:"Business Masterminds",children:oG.map(E=>g.jsx("option",{value:E,children:E},E))}),g.jsx("optgroup",{label:"Legendary Coaches",children:sG.map(E=>g.jsx("option",{value:E,children:E},E))})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),onKeyPress:T,placeholder:"Or type an influencer's name...",className:"flex-grow bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("button",{onClick:S,className:"text-xs bg-brand-blue text-white font-bold py-1 px-3 rounded-md hover:bg-blue-700 transition",children:"Find"})]}),g.jsxs("div",{className:"p-2 bg-brand-light-bg dark:bg-brand-gray/50 rounded-lg min-h-[250px] max-h-[400px] overflow-y-auto flex flex-col",children:[d&&g.jsx("div",{className:"flex-grow flex justify-center items-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-red"})}),h&&!d&&g.jsx("div",{className:"flex-grow flex justify-center items-center text-red-500 text-sm",children:h}),!d&&!h&&l.length>0&&g.jsx("div",{className:"space-y-4",children:l.map((E,k)=>g.jsx("div",{className:"p-3 border-b border-brand-light-border dark:border-brand-gray last:border-b-0",children:g.jsxs("blockquote",{className:"flex items-start gap-2",children:[g.jsxs("div",{className:"flex-grow",children:[g.jsxs("p",{className:"italic text-sm text-brand-light-text dark:text-gray-300",children:['"',E.text,'"']}),g.jsxs("cite",{className:"block text-right not-italic mt-1 font-semibold text-xs text-gray-500 dark:text-gray-400",children:["- ",E.author]})]}),g.jsx("button",{onClick:()=>t(E),disabled:v.has(E.text),className:"p-1 rounded-full text-gray-400 disabled:text-brand-lime disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-brand-gray",title:v.has(E.text)?"Saved":"Save Quote",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-3.13L5 18V4z"})})})]})},k))}),!d&&!h&&l.length===0&&g.jsx("div",{className:"flex-grow flex justify-center items-center text-gray-500 text-sm",children:"Select or search for an influencer to see their quotes."})]})]})]})},eA=({book:t,index:e,expandedBook:n,reviews:r,onToggleReview:i})=>{var o,l;return g.jsxs("li",{className:"border-b border-dashed border-brand-light-border dark:border-brand-gray pb-3 last:border-b-0 last:pb-0",children:[g.jsxs("div",{className:"flex items-start space-x-4",children:[g.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-brand-blue text-white flex items-center justify-center rounded-full font-black text-xl",children:e+1}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("button",{onClick:()=>i(t.title,t.author),className:"text-left w-full",children:g.jsx("p",{className:"font-bold text-brand-light-text dark:text-white hover:text-brand-blue",children:t.title})}),g.jsxs("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:["by ",t.author]}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.description}),g.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[g.jsx("a",{href:t.amazonLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-blue-500 hover:underline",children:"Amazon"}),g.jsx("a",{href:t.ibooksLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-blue-500 hover:underline",children:"Apple Books"})]})]})]}),n===t.title&&g.jsx("div",{className:"mt-3 ml-14 p-3 bg-brand-light-bg dark:bg-brand-gray/50 rounded-md",children:(o=r[t.title])!=null&&o.isLoading?g.jsx("p",{className:"text-xs text-center text-gray-500",children:"Generating review..."}):g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 italic",children:(l=r[t.title])==null?void 0:l.content})})]})},uG=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[i,o]=A.useState(null),[l,u]=A.useState({}),[d,f]=A.useState(null),[h,m]=A.useState(""),[v,w]=A.useState([]),[S,T]=A.useState(!1),[E,k]=A.useState(null);A.useEffect(()=>{(async()=>{r(!0),o(null);try{const O=await dH();O.length>0?e(O):o("Could not load book recommendations. Please refresh the page.")}catch{o("An error occurred while fetching books.")}finally{r(!1)}})()},[]);const P=async(R,O)=>{if(d===R){f(null);return}if(f(R),!l[R]){u(D=>({...D,[R]:{content:"",isLoading:!0}}));try{const D=await fH(R,O);u(q=>({...q,[R]:{content:D,isLoading:!1}}))}catch{u(D=>({...D,[R]:{content:"Could not load review.",isLoading:!1}}))}}},N=async()=>{if(h.trim()){T(!0),k(null),w([]);try{const R=await hH(h);R.length===0&&k(`No books found for "${h}".`),w(R)}catch{k("An error occurred during the search.")}finally{T(!1)}}},I=R=>{R.key==="Enter"&&N()};return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-center mb-4 text-brand-light-text dark:text-white uppercase",children:"AI-Curated Reading List"}),n&&g.jsx("div",{className:"flex justify-center items-center h-48",children:g.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-brand-blue"})}),i&&!n&&g.jsx("div",{className:"text-center text-red-500 p-8",children:i}),!n&&!i&&g.jsx("ul",{className:"space-y-4",children:t.map((R,O)=>g.jsx(eA,{book:R,index:O,expandedBook:d,reviews:l,onToggleReview:P},`rec-${R.title}`))}),g.jsxs("div",{className:"border-t border-brand-light-border dark:border-brand-gray mt-6 pt-4",children:[g.jsx("h3",{className:"text-md font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Search for Books by Author"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),onKeyPress:I,placeholder:"e.g., Stephen Covey",className:"flex-grow bg-transparent border-b border-dashed border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-white text-sm p-1 focus:outline-none focus:border-brand-blue focus:border-solid"}),g.jsx("button",{onClick:N,disabled:S,className:"text-sm bg-brand-blue text-white font-bold py-1 px-4 rounded-md hover:bg-blue-700 transition disabled:bg-brand-gray",children:S?"...":"Search"})]})]}),g.jsxs("div",{className:"mt-4",children:[S&&g.jsx("div",{className:"text-center text-sm text-gray-500",children:"Searching..."}),E&&!S&&g.jsx("div",{className:"text-center text-sm text-red-500",children:E}),!S&&v.length>0&&g.jsxs("div",{children:[g.jsxs("h4",{className:"font-bold text-center mb-3 text-brand-light-text dark:text-white",children:['Search Results for "',h,'"']}),g.jsx("ul",{className:"space-y-4",children:v.map((R,O)=>g.jsx(eA,{book:R,index:O,expandedBook:d,reviews:l,onToggleReview:P},`search-${R.title}`))})]})]})]})},cG=({savedQuotes:t,onSaveQuote:e,onRemoveQuote:n})=>{const[r,i]=A.useState(""),[o,l]=A.useState(""),u=()=>{r.trim()&&o.trim()?(e({text:r,author:o}),i(""),l("")):alert("Please fill in both the quote and the author.")},d=h=>{const m=encodeURIComponent(`An inspiring quote from ${h.author}`),v=encodeURIComponent(`"${h.text}"

- ${h.author}`);window.location.href=`mailto:?subject=${m}&body=${v}`},f=[...t].sort((h,m)=>new Date(m.savedAt||0).getTime()-new Date(h.savedAt||0).getTime());return g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h3",{className:"text-lg font-bold mb-4 bg-brand-gray/80 text-white p-2 rounded text-center",children:"MY SAVED QUOTES"}),g.jsxs("div",{className:"mb-6 p-4 bg-brand-light-bg dark:bg-brand-gray/20 rounded-lg",children:[g.jsx("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-2",children:"Add a Custom Quote"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("textarea",{value:r,onChange:h=>i(h.target.value),placeholder:"The quote that inspired you...",rows:2,className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray p-1 focus:outline-none focus:border-brand-blue dark:text-white"}),g.jsx("input",{type:"text",placeholder:"Author or Source",value:o,onChange:h=>l(h.target.value),className:"w-full bg-transparent border-b-2 border-brand-light-border dark:border-brand-gray p-1 focus:outline-none focus:border-brand-blue dark:text-white"}),g.jsx("button",{onClick:u,className:"w-full bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm",children:"Save My Quote"})]})]}),t.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[60vh] overflow-y-auto pr-2",children:f.map(h=>g.jsxs("div",{className:"bg-brand-light-bg dark:bg-brand-gray/50 p-4 rounded-md flex flex-col justify-between shadow-sm",children:[g.jsxs("blockquote",{className:"flex-grow",children:[g.jsxs("p",{className:"italic text-sm text-brand-light-text dark:text-gray-300",children:['"',h.text,'"']}),g.jsxs("cite",{className:"block text-right not-italic mt-2 font-semibold text-xs text-gray-500 dark:text-gray-400",children:["- ",h.author]})]}),g.jsx("div",{className:"flex justify-end items-center mt-3 pt-2 border-t border-brand-light-border dark:border-brand-gray",children:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>d(h),className:"p-1 rounded-full text-gray-400 hover:bg-gray-300 dark:hover:bg-brand-gray",title:"Share via Email",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsx("button",{onClick:()=>n(h.id),className:"p-1 rounded-full text-red-500 hover:bg-red-500/10",title:"Remove Quote",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})})]},h.id))}):g.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:"Your saved quotes will appear here. Click the bookmark icon on a quote to save it."})]})},dG=({savedQuotes:t,onSaveQuote:e,onRemoveQuote:n})=>{const r=i=>{t.some(o=>o.text===i.text&&o.author===i.author)?alert("This quote is already in your saved list."):e(i)};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[g.jsx(lG,{onSaveQuote:r,savedQuotes:t}),g.jsx(uG,{})]}),g.jsx("div",{className:"lg:col-span-2 space-y-8",children:g.jsx(cG,{savedQuotes:t,onSaveQuote:r,onRemoveQuote:n})})]})},fG=({users:t,onViewUserTrends:e})=>{const[n,r]=A.useState(!1),i=()=>{alert("This action is not available in the demo. User management should be handled securely via the Supabase dashboard or a backend function.")};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-6 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-brand-light-text dark:text-white",children:"Team Control Panel"}),g.jsx("button",{onClick:i,className:"bg-brand-lime text-brand-ink font-bold py-2 px-4 rounded-lg hover:bg-green-400 transition text-sm",children:"+ Add User"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[g.jsx("thead",{className:"bg-brand-light-bg dark:bg-brand-gray/50 text-xs uppercase text-gray-500 dark:text-gray-400",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3",children:"Name"}),g.jsx("th",{className:"p-3",children:"Email"}),g.jsx("th",{className:"p-3",children:"Role"}),g.jsx("th",{className:"p-3 text-center",children:"Status"}),g.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),g.jsx("tbody",{children:t.map(o=>g.jsxs("tr",{className:"border-b border-brand-light-border dark:border-brand-gray text-brand-light-text dark:text-gray-300",children:[g.jsx("td",{className:"p-3 font-medium",children:o.name}),g.jsx("td",{className:"p-3",children:o.email}),g.jsx("td",{className:"p-3",children:o.role}),g.jsx("td",{className:"p-3 text-center",children:g.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${o.status==="Active"?"bg-brand-lime/20 text-brand-lime":"bg-brand-gray/50 text-gray-400"}`,children:o.status})}),g.jsxs("td",{className:"p-3 text-center space-x-2",children:[g.jsx("button",{onClick:()=>e(o.id),className:"text-xs text-lime-500 hover:underline",children:"Trends"}),g.jsx("button",{onClick:i,className:"text-xs text-blue-400 hover:underline",children:"Edit"}),g.jsx("button",{onClick:i,className:"text-xs text-yellow-500 hover:underline",children:"Reset Pass"}),g.jsx("button",{onClick:i,className:`text-xs hover:underline ${o.status==="Active"?"text-red-400":"text-green-400"}`,children:o.status==="Active"?"Deactivate":"Activate"})]})]},o.id))})]})})]})})},hG=[{key:"revenue",label:"Revenue",color:"#10B981"},{key:"appointments",label:"Appointments",color:"#3B82F6"},{key:"calls",label:"Calls",color:"#8B5CF6"},{key:"leads",label:"Leads",color:"#F59E0B"},{key:"proposals",label:"Proposals",color:"#EC4899"}],pG=({activeMetrics:t,onToggle:e})=>g.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-6",children:hG.map(n=>{const r=t[n.key];return g.jsxs("button",{onClick:()=>e(n.key),className:`
              px-6 py-3 rounded-lg font-semibold transition-all duration-300
              ${r?"opacity-100 shadow-lg transform hover:scale-105":"opacity-40 hover:opacity-60"}
            `,style:{backgroundColor:r?n.color:"#CBD5E1",color:"white",border:`3px solid ${r?n.color:"transparent"}`},children:[r&&g.jsx("span",{className:"mr-2",children:""}),n.label]},n.key)})});function TP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TP(t))&&(r&&(r+=" "),r+=e);return r}var mG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function db(t){if(typeof t!="string")return!1;var e=mG;return e.includes(t)}var gG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AP(t){if(typeof t!="string")return!1;var e=gG;return e.includes(t)}function CP(t){return typeof t=="string"&&t.startsWith("data-")}function pr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return AP(r)||CP(r)});return Object.fromEntries(e)}function Df(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return pr(e)}return typeof t=="object"&&!Array.isArray(t)?pr(t):null}function mn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return AP(r)||CP(r)||db(r)});return Object.fromEntries(e)}function yG(t){return t==null?null:A.isValidElement(t)?mn(t.props):typeof t=="object"&&!Array.isArray(t)?mn(t):null}var vG=["children","width","height","viewBox","className","style","title","desc"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(null,arguments)}function bG(t,e){if(t==null)return{};var n,r,i=xG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fb=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=t,h=bG(t,vG),m=o||{width:r,height:i,x:0,y:0},v=nt("recharts-surface",l);return A.createElement("svg",Zy({},mn(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),wG=["children","className"];function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(null,arguments)}function _G(t,e){if(t==null)return{};var n,r,i=SG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mr=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=_G(t,wG),o=nt("recharts-layer",r);return A.createElement("g",ev({className:o},mn(i),{ref:e}),n)}),hb=QN(),NP=A.createContext(null),EG=()=>A.useContext(NP);function dt(t){return function(){return t}}const kP=Math.cos,Ud=Math.sin,Pr=Math.sqrt,Bd=Math.PI,jf=2*Bd,tv=Math.PI,nv=2*tv,qa=1e-6,TG=nv-qa;function PP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function AG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return PP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class CG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?PP:AG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-e,f=i-n,h=l-e,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>qa)if(!(Math.abs(m*d-f*h)>qa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,S=i-u,T=d*d+f*f,E=w*w+S*S,k=Math.sqrt(T),P=Math.sqrt(v),N=o*Math.tan((tv-Math.acos((T+v-E)/(2*k*P)))/2),I=N/P,R=N/k;Math.abs(I-1)>qa&&this._append`L${e+I*h},${n+I*m}`,this._append`A${o},${o},0,0,${+(m*w>h*S)},${this._x1=e+R*d},${this._y1=n+R*f}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=e+u,h=n+d,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>qa||Math.abs(this._y1-h)>qa)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%nv+nv),v>TG?this._append`A${r},${r},0,1,${m},${e-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:v>qa&&this._append`A${r},${r},0,${+(v>=tv)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function pb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new CG(e)}function mb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RP(t){this._context=t}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lf(t){return new RP(t)}function IP(t){return t[0]}function MP(t){return t[1]}function OP(t,e){var n=dt(!0),r=null,i=Lf,o=null,l=pb(u);t=typeof t=="function"?t:t===void 0?IP:dt(t),e=typeof e=="function"?e:e===void 0?MP:dt(e);function u(d){var f,h=(d=mb(d)).length,m,v=!1,w;for(r==null&&(o=i(w=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,f,d),+e(m,f,d));if(w)return o=null,w+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:dt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function dd(t,e,n){var r=null,i=dt(!0),o=null,l=Lf,u=null,d=pb(f);t=typeof t=="function"?t:t===void 0?IP:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?MP:dt(+n);function f(m){var v,w,S,T=(m=mb(m)).length,E,k=!1,P,N=new Array(T),I=new Array(T);for(o==null&&(u=l(P=d())),v=0;v<=T;++v){if(!(v<T&&i(E=m[v],v,m))===k)if(k=!k)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=w;--S)u.point(N[S],I[S]);u.lineEnd(),u.areaEnd()}k&&(N[v]=+t(E,v,m),I[v]=+e(E,v,m),u.point(r?+r(E,v,m):N[v],n?+n(E,v,m):I[v]))}if(P)return u=null,P+""||null}function h(){return OP().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:dt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:dt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:dt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:dt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:dt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:dt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class DP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NG(t){return new DP(t,!0)}function kG(t){return new DP(t,!1)}const gb={draw(t,e){const n=Pr(e/Bd);t.moveTo(n,0),t.arc(0,0,n,0,jf)}},PG={draw(t,e){const n=Pr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},jP=Pr(1/3),RG=jP*2,IG={draw(t,e){const n=Pr(e/RG),r=n*jP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},MG={draw(t,e){const n=Pr(e),r=-n/2;t.rect(r,r,n,n)}},OG=.8908130915292852,LP=Ud(Bd/10)/Ud(7*Bd/10),DG=Ud(jf/10)*LP,jG=-kP(jf/10)*LP,LG={draw(t,e){const n=Pr(e*OG),r=DG*n,i=jG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=jf*o/5,u=kP(l),d=Ud(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},Qm=Pr(3),UG={draw(t,e){const n=-Pr(e/(Qm*3));t.moveTo(0,n*2),t.lineTo(-Qm*n,-n),t.lineTo(Qm*n,-n),t.closePath()}},ar=-.5,or=Pr(3)/2,rv=1/Pr(12),BG=(rv/2+1)*3,qG={draw(t,e){const n=Pr(e/BG),r=n/2,i=n*rv,o=r,l=n*rv+n,u=-o,d=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(u,d),t.lineTo(ar*r-or*i,or*r+ar*i),t.lineTo(ar*o-or*l,or*o+ar*l),t.lineTo(ar*u-or*d,or*u+ar*d),t.lineTo(ar*r+or*i,ar*i-or*r),t.lineTo(ar*o+or*l,ar*l-or*o),t.lineTo(ar*u+or*d,ar*d-or*u),t.closePath()}};function zG(t,e){let n=null,r=pb(i);t=typeof t=="function"?t:dt(t||gb),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:dt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:dt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function qd(){}function zd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function UP(t){this._context=t}UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $G(t){return new UP(t)}function BP(t){this._context=t}BP.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HG(t){return new BP(t)}function qP(t){this._context=t}qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GG(t){return new qP(t)}function zP(t){this._context=t}zP.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FG(t){return new zP(t)}function tA(t){return t<0?-1:1}function nA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(tA(o)+tA(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function rA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function $d(t){this._context=t}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zm(this,this._t0,rA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zm(this,rA(this,n=nA(this,t,e)),n);break;default:Zm(this,this._t0,n=nA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $P(t){this._context=new HP(t)}($P.prototype=Object.create($d.prototype)).point=function(t,e){$d.prototype.point.call(this,e,t)};function HP(t){this._context=t}HP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function VG(t){return new $d(t)}function KG(t){return new $P(t)}function GP(t){this._context=t}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iA(t),i=iA(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function YG(t){return new GP(t)}function Uf(t,e){this._context=t,this._t=e}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WG(t){return new Uf(t,.5)}function JG(t){return new Uf(t,0)}function XG(t){return new Uf(t,1)}function Ts(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QG(t,e){return t[e]}function ZG(t){const e=[];return e.key=t,e}function e6(){var t=dt([]),e=iv,n=Ts,r=QG;function i(o){var l=Array.from(t.apply(this,arguments),ZG),u,d=l.length,f=-1,h;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,o)]).data=m;for(u=0,h=mb(e(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:dt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:dt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?iv:typeof o=="function"?o:dt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ts,i):n},i}function t6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Ts(t,e)}}function n6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ts(t,e)}}function r6(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=t[e[u]],m=h[r][1]||0,v=h[r-1][1]||0,w=(m-v)/2,S=0;S<u;++S){var T=t[e[S]],E=T[r][1]||0,k=T[r-1][1]||0;w+=E-k}d+=m,f+=w*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Ts(t,e)}}var eg={},tg={},aA;function i6(){return aA||(aA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(tg)),tg}var ng={},oA;function FP(){return oA||(oA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ng)),ng}var rg={},sA;function yb(){return sA||(sA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(rg)),rg}var ig={},ag={},lA;function a6(){return lA||(lA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(ag)),ag}var uA;function vb(){return uA||(uA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a6(),n=yb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,d+=i[u]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,o.push(d),d=""):d+=m:m==="["?(h=!0,d&&(o.push(d),d="")):m==="."?d&&(o.push(d),d=""):d+=m,u++}return d&&o.push(d),o}t.toPath=r})(ig)),ig}var cA;function bb(){return cA||(cA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i6(),n=FP(),r=yb(),i=vb();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let m=0;m<d.length;m++){if(h==null||e.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}t.get=o})(eg)),eg}var og,dA;function o6(){return dA||(dA=1,og=bb().get),og}var s6=o6();const Bf=Nr(s6);var dr=t=>t===0?0:t>0?1:-1,Cr=t=>typeof t=="number"&&t!=+t,vi=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Se=t=>(typeof t=="number"||t instanceof Number)&&!Cr(t),Ur=t=>Se(t)||typeof t=="string",l6=0,uu=t=>{var e=++l6;return"".concat(t||"").concat(e)},fa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&typeof e!="string")return r;var o;if(vi(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return Cr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},VP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ot(t,e,n){return Se(t)&&Se(e)?t+n*(e-t):e}function KP(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bf(r,e))===n)}var $t=t=>t===null||typeof t>"u",Su=t=>$t(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function u6(t){return t!=null}function Us(){}var c6=["type","size","sizeType"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){d6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d6(t,e,n){return(e=f6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f6(t){var e=h6(t,"string");return typeof e=="symbol"?e:e+""}function h6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t,e){if(t==null)return{};var n,r,i=m6(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YP={symbolCircle:gb,symbolCross:PG,symbolDiamond:IG,symbolSquare:MG,symbolStar:LG,symbolTriangle:UG,symbolWye:qG},g6=Math.PI/180,y6=t=>{var e="symbol".concat(Su(t));return YP[e]||gb},v6=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*g6;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},b6=(t,e)=>{YP["symbol".concat(Su(t))]=e},xb=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=p6(t,c6),o=hA(hA({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var v=y6(l),w=zG().type(v).size(v6(n,r,l)),S=w();if(S!==null)return S},{className:d,cx:f,cy:h}=o,m=mn(o);return Se(f)&&Se(h)&&Se(n)?A.createElement("path",av({},m,{className:nt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};xb.registerSymbol=b6;var WP=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,wb=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{db(i)&&(r[i]=(o=>n[i](n,o)))}),r},x6=(t,e,n)=>r=>(t(e,n,r),null),JP=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];db(i)&&typeof o=="function"&&(r||(r={}),r[i]=x6(o,e,n))}),r};function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){_6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t,e,n){return(e=S6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=E6(t,"string");return typeof e=="symbol"?e:e+""}function E6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jt(t,e){var n=w6({},t),r=e,i=Object.keys(e),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(null,arguments)}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){A6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A6(t,e,n){return(e=C6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=N6(t,"string");return typeof e=="symbol"?e:e+""}function N6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ur=32,k6={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function P6(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ur/2,o=ur/6,l=ur/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var f;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:ur,y2:i,className:"recharts-legend-icon"})}if(d==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ur,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ur/8,"h").concat(ur,"v").concat(ur*3/4,"h").concat(-ur,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var h=T6({},e);return delete h.legendIcon,A.cloneElement(e.legendIcon,h)}return A.createElement(xb,{fill:u,cx:i,cy:i,size:ur,sizeType:"diameter",type:d})}function R6(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=t,u={x:0,y:0,width:ur,height:ur},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,m)=>{var v=h.formatter||i,w=nt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?o:h.color,T=v?v(h.value,h,m):h.value;return A.createElement("li",Hd({className:w,style:d,key:"legend-item-".concat(m)},JP(t,h,m)),A.createElement(fb,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(T," legend icon")},A.createElement(P6,{data:h,iconType:l,inactiveColor:o})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},T))})}var I6=t=>{var e=Jt(t,k6),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:o},A.createElement(R6,Hd({},e,{payload:n})))},sg={},lg={},gA;function M6(){return gA||(gA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(lg)),lg}var ug={},yA;function XP(){return yA||(yA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ug)),ug}var cg={},dg={},fg={},vA;function O6(){return vA||(vA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(fg)),fg}var bA;function _b(){return bA||(bA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(dg)),dg}var hg={},xA;function D6(){return xA||(xA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(hg)),hg}var wA;function j6(){return wA||(wA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_b(),n=D6();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(cg)),cg}var pg={},mg={},_A;function L6(){return _A||(_A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bb();function n(r){return function(i){return e.get(i,r)}}t.property=n})(mg)),mg}var gg={},yg={},vg={},bg={},SA;function QP(){return SA||(SA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(bg)),bg}var xg={},EA;function ZP(){return EA||(EA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(xg)),xg}var wg={},TA;function eR(){return TA||(TA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(wg)),wg}var AA;function U6(){return AA||(AA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QP(),n=ZP(),r=eR();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):o(h,m,function w(S,T,E,k,P,N){const I=v(S,T,E,k,P,N);return I!==void 0?!!I:o(S,T,w,N)},new Map)}function o(h,m,v,w){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,w);case"function":return Object.keys(m).length>0?o(h,{...m},v,w):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,v,w){if(m==null)return!0;if(Array.isArray(m))return d(h,m,v,w);if(m instanceof Map)return u(h,m,v,w);if(m instanceof Set)return f(h,m,v,w);const S=Object.keys(m);if(h==null)return S.length===0;if(S.length===0)return!0;if(w!=null&&w.has(m))return w.get(m)===h;w==null||w.set(m,h);try{for(let T=0;T<S.length;T++){const E=S[T];if(!n.isPrimitive(h)&&!(E in h)||m[E]===void 0&&h[E]!==void 0||m[E]===null&&h[E]!==null||!v(h[E],m[E],E,h,m,w))return!1}return!0}finally{w==null||w.delete(m)}}function u(h,m,v,w){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,T]of m.entries()){const E=h.get(S);if(v(E,T,S,h,m,w)===!1)return!1}return!0}function d(h,m,v,w){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let T=0;T<m.length;T++){const E=m[T];let k=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const N=h[P];let I=!1;if(v(N,E,T,h,m,w)&&(I=!0),I){S.add(P),k=!0;break}}if(!k)return!1}return!0}function f(h,m,v,w){return m.size===0?!0:h instanceof Set?d([...h],[...m],v,w):!1}t.isMatchWith=i,t.isSetMatch=f})(vg)),vg}var CA;function tR(){return CA||(CA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(yg)),yg}var _g={},Sg={},Eg={},NA;function B6(){return NA||(NA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Eg)),Eg}var Tg={},kA;function nR(){return kA||(kA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Tg)),Tg}var Ag={},PA;function rR(){return PA||(PA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",w="[object Object]",S="[object Error]",T="[object DataView]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",I="[object BigUint64Array]",R="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",q="[object BigInt64Array]",$="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=q,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=T,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=$,t.float64ArrayTag=F,t.functionTag=m,t.int16ArrayTag=O,t.int32ArrayTag=D,t.int8ArrayTag=R,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=P,t.uint32ArrayTag=N,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=k})(Ag)),Ag}var Cg={},RA;function q6(){return RA||(RA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Cg)),Cg}var IA;function iR(){return IA||(IA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B6(),n=nR(),r=rR(),i=ZP(),o=q6();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,w=new Map,S=void 0){const T=S==null?void 0:S(h,m,v,w);if(T!==void 0)return T;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const E=new Array(h.length);w.set(h,E);for(let k=0;k<h.length;k++)E[k]=u(h[k],k,v,w,S);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;w.set(h,E);for(const[k,P]of h)E.set(k,u(P,k,v,w,S));return E}if(h instanceof Set){const E=new Set;w.set(h,E);for(const k of h)E.add(u(k,void 0,v,w,S));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,E);for(let k=0;k<h.length;k++)E[k]=u(h[k],k,v,w,S);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,E),d(E,h,v,w,S),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return w.set(h,E),d(E,h,v,w,S),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return w.set(h,E),d(E,h,v,w,S),E}if(h instanceof Error){const E=new h.constructor;return w.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,d(E,h,v,w,S),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return w.set(h,E),d(E,h,v,w,S),E}if(h instanceof Number){const E=new Number(h.valueOf());return w.set(h,E),d(E,h,v,w,S),E}if(h instanceof String){const E=new String(h.valueOf());return w.set(h,E),d(E,h,v,w,S),E}if(typeof h=="object"&&f(h)){const E=Object.create(Object.getPrototypeOf(h));return w.set(h,E),d(E,h,v,w,S),E}return h}function d(h,m,v=h,w,S){const T=[...Object.keys(m),...e.getSymbols(m)];for(let E=0;E<T.length;E++){const k=T[E],P=Object.getOwnPropertyDescriptor(h,k);(P==null||P.writable)&&(h[k]=u(m[k],k,v,w,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Sg)),Sg}var MA;function z6(){return MA||(MA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(_g)),_g}var OA;function $6(){return OA||(OA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tR(),n=z6();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(gg)),gg}var Ng={},kg={},Pg={},DA;function H6(){return DA||(DA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR(),n=rR();function r(i,o){return e.cloneDeepWith(i,(l,u,d,f)=>{const h=o==null?void 0:o(l,u,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(Pg)),Pg}var jA;function G6(){return jA||(jA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(kg)),kg}var Rg={},Ig={},LA;function aR(){return LA||(LA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ig)),Ig}var Mg={},UA;function F6(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nR();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Mg)),Mg}var BA;function V6(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FP(),n=aR(),r=F6(),i=vb();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=o})(Rg)),Rg}var qA;function K6(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tR(),n=yb(),r=G6(),i=bb(),o=V6();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):d===void 0?h===void 0:e.isMatch(h,d)}}t.matchesProperty=l})(Ng)),Ng}var zA;function Y6(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP(),n=L6(),r=$6(),i=K6();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(pg)),pg}var $A;function W6(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6(),n=XP(),r=j6(),i=Y6();function o(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=o})(sg)),sg}var Og,HA;function J6(){return HA||(HA=1,Og=W6().uniqBy),Og}var X6=J6();const GA=Nr(X6);function oR(t,e,n){return e===!0?GA(t,n):typeof e=="function"?GA(t,e):t}var Dg={exports:{}},jg={},Lg={exports:{}},Ug={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function Q6(){if(FA)return Ug;FA=1;var t=Is();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(m,v){var w=v(),S=r({inst:{value:w,getSnapshot:v}}),T=S[0].inst,E=S[1];return o(function(){T.value=w,T.getSnapshot=v,d(T)&&E({inst:T})},[m,w,v]),i(function(){return d(T)&&E({inst:T}),m(function(){d(T)&&E({inst:T})})},[m]),l(w),w}function d(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!n(m,w)}catch{return!0}}function f(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ug.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ug}var VA;function Z6(){return VA||(VA=1,Lg.exports=Q6()),Lg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function eF(){if(KA)return jg;KA=1;var t=Is(),e=Z6();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return jg.useSyncExternalStoreWithSelector=function(f,h,m,v,w){var S=o(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=u(function(){function k(O){if(!P){if(P=!0,N=O,O=v(O),w!==void 0&&T.hasValue){var D=T.value;if(w(D,O))return I=D}return I=O}if(D=I,r(N,O))return D;var q=v(O);return w!==void 0&&w(D,q)?(N=O,D):(N=O,I=q)}var P=!1,N,I,R=m===void 0?null:m;return[function(){return k(h())},R===null?void 0:function(){return k(R())}]},[h,m,v,w]);var E=i(f,S[0],S[1]);return l(function(){T.hasValue=!0,T.value=E},[E]),d(E),E},jg}var YA;function tF(){return YA||(YA=1,Dg.exports=eF()),Dg.exports}var nF=tF(),Sb=A.createContext(null),rF=t=>t,jt=()=>{var t=A.useContext(Sb);return t?t.store.dispatch:rF},Cd=()=>{},iF=()=>Cd,aF=(t,e)=>t===e;function Ce(t){var e=A.useContext(Sb);return nF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:iF,e?e.store.getState:Cd,e?e.store.getState:Cd,e?t:Cd,aF)}function oF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function sF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var WA=t=>Array.isArray(t)?t:[t];function uF(t){const e=Array.isArray(t[0])?t[0]:t;return lF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cF(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var dF=class{constructor(t){this.value=t}deref(){return this.value}},fF=typeof WeakRef<"u"?WeakRef:dF,hF=0,JA=1;function fd(){return{s:hF,v:void 0,o:null,p:null}}function sR(t,e={}){let n=fd();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var m;let u=n;const{length:d}=arguments;for(let v=0,w=d;v<w;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const E=T.get(S);E===void 0?(u=fd(),T.set(S,u)):u=E}else{let T=u.p;T===null&&(u.p=T=new Map);const E=T.get(S);E===void 0?(u=fd(),T.set(S,u)):u=E}}const f=u;let h;if(u.s===JA)h=u.v;else if(h=t.apply(null,arguments),o++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new fF(h):h}return f.s=JA,f.v=h,h}return l.clearCache=()=>{n=fd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function pF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),oF(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:v=[],argsMemoize:w=sR,argsMemoizeOptions:S=[]}=h,T=WA(v),E=WA(S),k=uF(i),P=m(function(){return o++,f.apply(null,arguments)},...T),N=w(function(){l++;const R=cF(k,arguments);return u=P.apply(null,R),u},...E);return Object.assign(N,{resultFunc:f,memoizedResultFunc:P,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ne=pF(sR),mF=Object.assign((t,e=ne)=>{sF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>mF}),Bg={},qg={},zg={},XA;function gF(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(zg)),zg}var $g={},Hg={},QA;function lR(){return QA||(QA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Hg)),Hg}var ZA;function yF(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})($g)),$g}var eC;function vF(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gF(),n=yF(),r=vb();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const f=(w,S)=>{let T=w;for(let E=0;E<S.length&&T!=null;++E)T=T[S[E]];return T},h=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:f(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?f(S,w):typeof S=="object"?S[w]:S,m=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:m.map(S=>h(S,w))})).slice().sort((w,S)=>{for(let T=0;T<m.length;T++){const E=e.compareValues(w.criteria[T],S.criteria[T],u[T]);if(E!==0)return E}return 0}).map(w=>w.original)}t.orderBy=i})(qg)),qg}var Gg={},tC;function bF(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<o?l(h,d+1):i.push(h)}};return l(n,0),i}t.flatten=e})(Gg)),Gg}var Fg={},nC;function uR(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aR(),n=_b(),r=QP(),i=eR();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=o})(Fg)),Fg}var rC;function xF(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vF(),n=bF(),r=uR();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(Bg)),Bg}var Vg,iC;function wF(){return iC||(iC=1,Vg=xF().sortBy),Vg}var _F=wF();const qf=Nr(_F);var cR=t=>t.legend.settings,SF=t=>t.legend.size,EF=t=>t.legend.payload,TF=ne([EF,cR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?qf(r,n):r});function AF(){return Ce(TF)}var hd=1;function dR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>hd||Math.abs(l.left-e.left)>hd||Math.abs(l.top-e.top)>hd||Math.abs(l.width-e.width)>hd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function an(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CF=typeof Symbol=="function"&&Symbol.observable||"@@observable",aC=CF,Kg=()=>Math.random().toString(36).substring(7).split("").join("."),NF={INIT:`@@redux/INIT${Kg()}`,REPLACE:`@@redux/REPLACE${Kg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kg()}`},Gd=NF;function Eb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fR(t,e,n){if(typeof t!="function")throw new Error(an(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(fR)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((E,k)=>{l.set(k,E)}))}function h(){if(d)throw new Error(an(3));return i}function m(E){if(typeof E!="function")throw new Error(an(4));if(d)throw new Error(an(5));let k=!0;f();const P=u++;return l.set(P,E),function(){if(k){if(d)throw new Error(an(6));k=!1,f(),l.delete(P),o=null}}}function v(E){if(!Eb(E))throw new Error(an(7));if(typeof E.type>"u")throw new Error(an(8));if(typeof E.type!="string")throw new Error(an(17));if(d)throw new Error(an(9));try{d=!0,i=r(i,E)}finally{d=!1}return(o=l).forEach(P=>{P()}),E}function w(E){if(typeof E!="function")throw new Error(an(10));r=E,v({type:Gd.REPLACE})}function S(){const E=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(an(11));function P(){const I=k;I.next&&I.next(h())}return P(),{unsubscribe:E(P)}},[aC](){return this}}}return v({type:Gd.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:w,[aC]:S}}function kF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gd.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function hR(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{kF(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],w=l[m],S=v(w,u);if(typeof S>"u")throw u&&u.type,new Error(an(14));f[m]=S,d=d||S!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Fd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function PF(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(an(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=t.map(d=>d(l));return o=Fd(...u)(i.dispatch),{...i,dispatch:o}}}function pR(t){return Eb(t)&&"type"in t&&typeof t.type=="string"}var mR=Symbol.for("immer-nothing"),oC=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function Tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cu=Object.getPrototypeOf;function to(t){return!!t&&!!t[Kn]}function bi(t){var e;return t?gR(t)||Array.isArray(t)||!!t[oC]||!!((e=t.constructor)!=null&&e[oC])||Eu(t)||$f(t):!1}var RF=Object.prototype.constructor.toString(),sC=new WeakMap;function gR(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=sC.get(n);return r===void 0&&(r=Function.toString.call(n),sC.set(n,r)),r===RF}function Vd(t,e,n=!0){zf(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function zf(t){const e=t[Kn];return e?e.type_:Array.isArray(t)?1:Eu(t)?2:$f(t)?3:0}function ov(t,e){return zf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yR(t,e,n){const r=zf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Eu(t){return t instanceof Map}function $f(t){return t instanceof Set}function za(t){return t.copy_||t.base_}function sv(t,e){if(Eu(t))return new Map(t);if($f(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=gR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Kn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(cu(t),r)}else{const r=cu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Tb(t,e=!1){return Hf(t)||to(t)||!bi(t)||(zf(t)>1&&Object.defineProperties(t,{set:pd,add:pd,clear:pd,delete:pd}),Object.freeze(t),e&&Object.values(t).forEach(n=>Tb(n,!0))),t}function MF(){Tr(2)}var pd={value:MF};function Hf(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var OF={};function no(t){const e=OF[t];return e||Tr(0,t),e}var du;function vR(){return du}function DF(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lC(t,e){e&&(no("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lv(t){uv(t),t.drafts_.forEach(jF),t.drafts_=null}function uv(t){t===du&&(du=t.parent_)}function uC(t){return du=DF(du,t)}function jF(t){const e=t[Kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Kn].modified_&&(lv(e),Tr(4)),bi(t)&&(t=Kd(e,t),e.parent_||Yd(e,t)),e.patches_&&no("Patches").generateReplacementPatches_(n[Kn].base_,t,e.patches_,e.inversePatches_)):t=Kd(e,n,[]),lv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mR?t:void 0}function Kd(t,e,n){if(Hf(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Kn];if(!i)return Vd(e,(o,l)=>dC(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Yd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Vd(l,(d,f)=>dC(t,i,o,d,f,n,u),r),Yd(t,o,!1),n&&t.patches_&&no("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function dC(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Hf(i);if(!(u&&!l)){if(to(i)){const d=o&&e&&e.type_!==3&&!ov(e.assigned_,r)?o.concat(r):void 0,f=Kd(t,i,d);if(yR(n,r,f),to(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(bi(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Kd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Eu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Yd(t,i)}}}function Yd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Tb(e,n)}function LF(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:vR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ab;n&&(i=[r],o=fu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Ab={get(t,e){if(e===Kn)return t;const n=za(t);if(!ov(n,e))return UF(t,n,e);const r=n[e];return t.finalized_||!bi(r)?r:r===Yg(t.base_,e)?(Wg(t),t.copy_[e]=dv(r,t)):r},has(t,e){return e in za(t)},ownKeys(t){return Reflect.ownKeys(za(t))},set(t,e,n){const r=bR(za(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Yg(za(t),e),o=i==null?void 0:i[Kn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IF(n,i)&&(n!==void 0||ov(t.base_,e)))return!0;Wg(t),cv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wg(t),cv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=za(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Tr(11)},getPrototypeOf(t){return cu(t.base_)},setPrototypeOf(){Tr(12)}},fu={};Vd(Ab,(t,e)=>{fu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fu.deleteProperty=function(t,e){return fu.set.call(this,t,e,void 0)};fu.set=function(t,e,n){return Ab.set.call(this,t[0],e,n,t[0])};function Yg(t,e){const n=t[Kn];return(n?za(n):t)[e]}function UF(t,e,n){var i;const r=bR(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function bR(t,e){if(!(e in t))return;let n=cu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cu(n)}}function cv(t){t.modified_||(t.modified_=!0,t.parent_&&cv(t.parent_))}function Wg(t){t.copy_||(t.copy_=sv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var BF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&Tr(6),r!==void 0&&typeof r!="function"&&Tr(7);let i;if(bi(e)){const o=uC(this),l=dv(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?lv(o):uv(o)}return lC(o,r),cC(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===mR&&(i=void 0),this.autoFreeze_&&Tb(i,!0),r){const o=[],l=[];no("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else Tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bi(t)||Tr(8),to(t)&&(t=pi(t));const e=uC(this),n=dv(t,void 0);return n[Kn].isManual_=!0,uv(e),n}finishDraft(t,e){const n=t&&t[Kn];(!n||!n.isManual_)&&Tr(9);const{scope_:r}=n;return lC(r,e),cC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=no("Patches").applyPatches_;return to(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dv(t,e){const n=Eu(t)?no("MapSet").proxyMap_(t,e):$f(t)?no("MapSet").proxySet_(t,e):LF(t,e);return(e?e.scope_:vR()).drafts_.push(n),n}function pi(t){return to(t)||Tr(10,t),xR(t)}function xR(t){if(!bi(t)||Hf(t))return t;const e=t[Kn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sv(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=sv(t,!0);return Vd(n,(i,o)=>{yR(n,i,xR(o))},r),e&&(e.finalized_=!1),n}var fv=new BF,wR=fv.produce,qF=fv.setUseStrictIteration.bind(fv);function _R(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var zF=_R(),$F=_R,HF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fd:Fd.apply(null,arguments)};function gr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Vn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pR(r)&&r.type===t,n}var SR=class Xl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xl.prototype)}static get[Symbol.species](){return Xl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xl(...e[0].concat(this)):new Xl(...e.concat(this))}};function fC(t){return bi(t)?wR(t,()=>{}):t}function md(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GF(t){return typeof t=="boolean"}var FF=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new SR;return n&&(GF(n)?l.push(zF):l.push($F(n.extraArgument))),l},ER="RTK_autoBatch",zt=()=>t=>({payload:t,meta:{[ER]:!0}}),hC=t=>e=>{setTimeout(e,t)},TR=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hC(10):t.type==="callback"?t.queueNotification:hC(t.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[ER]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},VF=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new SR(t);return r&&i.push(TR(typeof r=="object"?r:void 0)),i};function KF(t){const e=FF(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Eb(n))u=hR(n);else throw new Error(Vn(1));let d;typeof r=="function"?d=r(e):d=e();let f=Fd;i&&(f=HF({trace:!1,...typeof i=="object"&&i}));const h=PF(...d),m=VF(h);let v=typeof l=="function"?l(m):m();const w=f(...v);return fR(u,o,w)}function AR(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Vn(28));if(u in e)throw new Error(Vn(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}qF(!1);function YF(t){return typeof t=="function"}function WF(t,e){let[n,r,i]=AR(e),o;if(YF(t))o=()=>fC(t());else{const u=fC(t);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(to(h)){const w=m(h,d);return w===void 0?h:w}else{if(bi(h))return wR(h,v=>m(v,d));{const v=m(h,d);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=o,l}var JF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XF=(t=21)=>{let e="",n=t;for(;n--;)e+=JF[Math.random()*64|0];return e},QF=Symbol.for("rtk-slice-createasyncthunk");function ZF(t,e){return`${t}/${e}`}function eV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[QF];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Vn(11));const u=(typeof i.reducers=="function"?i.reducers(nV()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,R){const O=typeof I=="string"?I:I.type;if(!O)throw new Error(Vn(12));if(O in f.sliceCaseReducersByType)throw new Error(Vn(13));return f.sliceCaseReducersByType[O]=R,h},addMatcher(I,R){return f.sliceMatchers.push({matcher:I,reducer:R}),h},exposeAction(I,R){return f.actionCreators[I]=R,h},exposeCaseReducer(I,R){return f.sliceCaseReducersByName[I]=R,h}};d.forEach(I=>{const R=u[I],O={reducerName:I,type:ZF(o,I),createNotation:typeof i.reducers=="function"};iV(R)?oV(O,R,h,e):rV(O,R,h)});function m(){const[I={},R=[],O=void 0]=typeof i.extraReducers=="function"?AR(i.extraReducers):[i.extraReducers],D={...I,...f.sliceCaseReducersByType};return WF(i.initialState,q=>{for(let $ in D)q.addCase($,D[$]);for(let $ of f.sliceMatchers)q.addMatcher($.matcher,$.reducer);for(let $ of R)q.addMatcher($.matcher,$.reducer);O&&q.addDefaultCase(O)})}const v=I=>I,w=new Map,S=new WeakMap;let T;function E(I,R){return T||(T=m()),T(I,R)}function k(){return T||(T=m()),T.getInitialState()}function P(I,R=!1){function O(q){let $=q[I];return typeof $>"u"&&R&&($=md(S,O,k)),$}function D(q=v){const $=md(w,R,()=>new WeakMap);return md($,q,()=>{const F={};for(const[G,L]of Object.entries(i.selectors??{}))F[G]=tV(L,q,()=>md(S,q,k),R);return F})}return{reducerPath:I,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const N={name:o,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:k,...P(l),injectInto(I,{reducerPath:R,...O}={}){const D=R??l;return I.inject({reducerPath:D,reducer:E},O),{...N,...P(D,!0)}}};return N}}function tV(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var kn=eV();function nV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rV({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!aV(r))throw new Error(Vn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?gr(t,l):gr(t))}function iV(t){return t._reducerDefinitionType==="asyncThunk"}function aV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oV({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Vn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:l||gd,pending:u||gd,rejected:d||gd,settled:f||gd})}function gd(){}var sV="task",CR="listener",NR="completed",Cb="cancelled",lV=`task-${Cb}`,uV=`task-${NR}`,hv=`${CR}-${Cb}`,cV=`${CR}-${NR}`,Gf=class{constructor(t){Om(this,"name","TaskAbortError");Om(this,"message");this.code=t,this.message=`${sV} ${Cb} (reason: ${t})`}},Nb=(t,e)=>{if(typeof t!="function")throw new TypeError(Vn(32))},Wd=()=>{},kR=(t,e=Wd)=>(t.catch(e),t),PR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ja=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Xa=t=>{if(t.aborted){const{reason:e}=t;throw new Gf(e)}};function RR(t,e){let n=Wd;return new Promise((r,i)=>{const o=()=>i(new Gf(t.reason));if(t.aborted){o();return}n=PR(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Wd})}var dV=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Gf?"cancelled":"rejected",error:n}}finally{e==null||e()}},Jd=t=>e=>kR(RR(t,e).then(n=>(Xa(t),n))),IR=t=>{const e=Jd(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:_s}=Object,pC={},Ff="listenerMiddleware",fV=(t,e)=>{const n=r=>PR(t,()=>Ja(r,t.reason));return(r,i)=>{Nb(r);const o=new AbortController;n(o);const l=dV(async()=>{Xa(t),Xa(o.signal);const u=await r({pause:Jd(o.signal),delay:IR(o.signal),signal:o.signal});return Xa(o.signal),u},()=>Ja(o,uV));return i!=null&&i.autoJoin&&e.push(l.catch(Wd)),{result:Jd(t)(l),cancel(){Ja(o,lV)}}}},hV=(t,e)=>{const n=async(r,i)=>{Xa(e);let o=()=>{};const u=[new Promise((d,f)=>{let h=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),d([m,v.getState(),v.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await RR(e,Promise.race(u));return Xa(e),d}finally{o()}};return(r,i)=>kR(n(r,i))},MR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=gr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Vn(21));return Nb(o),{predicate:i,type:e,effect:o}},OR=_s(t=>{const{type:e,predicate:n,effect:r}=MR(t);return{id:XF(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vn(22))}}},{withTypes:()=>OR}),mC=(t,e)=>{const{type:n,effect:r,predicate:i}=MR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},pv=t=>{t.pending.forEach(e=>{Ja(e,hv)})},pV=(t,e)=>()=>{for(const n of e.keys())pv(n);t.clear()},gC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},DR=_s(gr(`${Ff}/add`),{withTypes:()=>DR}),mV=gr(`${Ff}/removeAll`),jR=_s(gr(`${Ff}/remove`),{withTypes:()=>jR}),gV=(...t)=>{console.error(`${Ff}/error`,...t)},Tu=(t={})=>{const e=new Map,n=new Map,r=w=>{const S=n.get(w)??0;n.set(w,S+1)},i=w=>{const S=n.get(w)??1;S===1?n.delete(w):n.set(w,S-1)},{extra:o,onError:l=gV}=t;Nb(l);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),S=>{w.unsubscribe(),S!=null&&S.cancelActive&&pv(w)}),d=w=>{const S=mC(e,w)??OR(w);return u(S)};_s(d,{withTypes:()=>d});const f=w=>{const S=mC(e,w);return S&&(S.unsubscribe(),w.cancelActive&&pv(S)),!!S};_s(f,{withTypes:()=>f});const h=async(w,S,T,E)=>{const k=new AbortController,P=hV(d,k.signal),N=[];try{w.pending.add(k),r(w),await Promise.resolve(w.effect(S,_s({},T,{getOriginalState:E,condition:(I,R)=>P(I,R).then(Boolean),take:P,delay:IR(k.signal),pause:Jd(k.signal),extra:o,signal:k.signal,fork:fV(k.signal,N),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((I,R,O)=>{I!==k&&(Ja(I,hv),O.delete(I))})},cancel:()=>{Ja(k,hv),w.pending.delete(k)},throwIfCancelled:()=>{Xa(k.signal)}})))}catch(I){I instanceof Gf||gC(l,I,{raisedBy:"effect"})}finally{await Promise.all(N),Ja(k,cV),i(w),w.pending.delete(k)}},m=pV(e,n);return{middleware:w=>S=>T=>{if(!pR(T))return S(T);if(DR.match(T))return d(T.payload);if(mV.match(T)){m();return}if(jR.match(T))return f(T.payload);let E=w.getState();const k=()=>{if(E===pC)throw new Error(Vn(23));return E};let P;try{if(P=S(T),e.size>0){const N=w.getState(),I=Array.from(e.values());for(const R of I){let O=!1;try{O=R.predicate(T,N,E)}catch(D){O=!1,gC(l,D,{raisedBy:"predicate"})}O&&h(R,T,w,k)}}}finally{E=pC}return P},startListening:d,stopListening:f,clearListeners:m}};function Vn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LR=kn({name:"chartLayout",initialState:yV,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:vV,setLayout:bV,setChartSize:xV,setScale:wV}=LR.actions,_V=LR.reducer;function UR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){SV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SV(t,e,n){return(e=EV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EV(t){var e=TV(t,"string");return typeof e=="symbol"?e:e+""}function TV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sn(t,e,n){return $t(t)||$t(e)?n:Ur(e)?Bf(t,e,n):typeof e=="function"?e(t):n}var AV=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Se(t[o]))return ms(ms({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Se(t[l]))return ms(ms({},t),{},{[l]:t[l]+(i||0)})}return t},zr=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BR=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(e),o||l.push(n),l},qR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:v,axisType:w}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,T=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(T=w==="angleAxis"&&o&&o.length>=2?dr(o[0]-o[1])*2*T:T,m||v){var E=(m||v||[]).map((k,P)=>{var N=r?r.indexOf(k):k;return{coordinate:l(N)+T,value:k,offset:T,index:P}});return E.filter(k=>!Cr(k.coordinate))}return d&&f?f.map((k,P)=>({coordinate:l(k)+T,value:k,index:P,offset:T})):l.ticks&&h!=null?l.ticks(h).map((k,P)=>({coordinate:l(k)+T,value:k,offset:T,index:P})):l.domain().map((k,P)=>({coordinate:l(k)+T,value:r?r[k]:k,index:P,offset:T}))},vC=1e-4,CV=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-vC,o=Math.max(r[0],r[1])+vC,l=t(e[0]),u=t(e[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},NV=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var u=Cr(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},kV=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=Cr(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},PV={sign:NV,expand:t6,none:Ts,silhouette:n6,wiggle:r6,positive:kV},RV=(t,e,n)=>{var r=PV[n],i=e6().keys(e).value((o,l)=>Number(sn(o,l,0))).order(iv).offset(r);return i(t)};function IV(t){return t==null?void 0:String(t)}function Xd(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$t(i[e.dataKey])){var u=KP(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var d=sn(i,$t(l)?e.dataKey:l);return $t(d)?null:e.scale(d)}var MV=t=>{var e=t.flat(2).filter(Se);return[Math.min(...e),Math.max(...e)]},OV=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],DV=(t,e,n)=>{if(t!=null)return OV(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,u=l.reduce((d,f)=>{var h=UR(f,e,n),m=MV(h);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},bC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,As=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=qf(e,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function wC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return ms(ms({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Vf(t,e){if(t)return String(t);if(typeof e=="string")return e}var jV=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},LV=(t,e)=>e==="centric"?t.angle:t.radius,Ai=t=>t.layout.width,Ci=t=>t.layout.height,UV=t=>t.layout.scale,zR=t=>t.layout.margin,Kf=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Yf=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),BV="data-recharts-item-index",qV="data-recharts-item-data-key",Au=60;function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){zV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zV(t,e,n){return(e=$V(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=HV(t,"string");return typeof e=="symbol"?e:e+""}function HV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GV=t=>t.brush.height;function FV(t){var e=Yf(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Au;return n+i}return n},0)}function VV(t){var e=Yf(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Au;return n+i}return n},0)}function KV(t){var e=Kf(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function YV(t){var e=Kf(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ln=ne([Ai,Ci,zR,GV,FV,VV,KV,YV,cR,SF],(t,e,n,r,i,o,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=yd(yd({},m),h),w=v.bottom;v.bottom+=r,v=AV(v,d,f);var S=t-v.left-v.right,T=e-v.top-v.bottom;return yd(yd({brushBottom:w},v),{},{width:Math.max(S,0),height:Math.max(T,0)})}),WV=ne(ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$R=ne(Ai,Ci,(t,e)=>({x:0,y:0,width:t,height:e})),JV=A.createContext(null),gn=()=>A.useContext(JV)!=null,Wf=t=>t.brush,Jf=ne([Wf,ln,zR],(t,e,n)=>({height:t.height,x:Se(t.x)?t.x:e.left,y:Se(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(t.width)?t.width:e.width})),Jg={},Xg={},Qg={},SC;function XV(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&h(),T()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{S(),l=void 0,u=null},E=()=>{h()},k=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const N=v==null;w(),d&&N&&h()};return k.schedule=w,k.cancel=T,k.flush=E,i==null||i.addEventListener("abort",T,{once:!0}),k}t.debounce=e})(Qg)),Qg}var EC;function QV(){return EC||(EC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const v=e.debounce(function(...T){h=r.apply(this,T),m=null},i,{edges:f}),w=function(...T){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,T),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,T),h)},S=()=>(v.flush(),h);return w.cancel=v.cancel,w.flush=S,w}t.debounce=n})(Xg)),Xg}var TC;function ZV(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QV();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Jg)),Jg}var Zg,AC;function e8(){return AC||(AC=1,Zg=ZV().throttle),Zg}var t8=e8();const n8=Nr(t8);var Qd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},HR=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=vi(r)?t:Number(r),d=vi(i)?e:Number(i);return o&&o>0&&(u?d=u/o:d&&(u=d*o),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},r8={width:0,height:0,overflow:"visible"},i8={width:0,overflowX:"visible"},a8={height:0,overflowY:"visible"},o8={},s8=t=>{var{width:e,height:n}=t,r=vi(e),i=vi(n);return r&&i?r8:r?i8:i?a8:o8};function l8(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function _t(t){return Number.isFinite(t)}function Br(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){u8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u8(t,e,n){return(e=c8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c8(t){var e=d8(t,"string");return typeof e=="symbol"?e:e+""}function d8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GR=A.createContext({width:-1,height:-1});function f8(t){return Br(t.width)&&Br(t.height)}function FR(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return f8(i)?A.createElement(GR.Provider,{value:i},e):null}var kb=()=>A.useContext(GR),h8=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:m,className:v,onResize:w,style:S={}}=t,T=A.useRef(null),E=A.useRef();E.current=w,A.useImperativeHandle(e,()=>T.current);var[k,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),N=A.useCallback((q,$)=>{P(F=>{var G=Math.round(q),L=Math.round($);return F.containerWidth===G&&F.containerHeight===L?F:{containerWidth:G,containerHeight:L}})},[]);A.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Us;var q=L=>{var H,{width:ce,height:he}=L[0].contentRect;N(ce,he),(H=E.current)===null||H===void 0||H.call(E,ce,he)};h>0&&(q=n8(q,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(q),{width:F,height:G}=T.current.getBoundingClientRect();return N(F,G),$.observe(T.current),()=>{$.disconnect()}},[N,h]);var{containerWidth:I,containerHeight:R}=k;Qd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:D}=HR(I,R,{width:i,height:o,aspect:n,maxHeight:d});return Qd(O!=null&&O>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,i,o,l,u,n),A.createElement("div",{id:m?"".concat(m):void 0,className:nt("recharts-responsive-container",v),style:NC(NC({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:T},A.createElement("div",{style:s8({width:i,height:o})},A.createElement(FR,{width:O,height:D},f)))}),p8=A.forwardRef((t,e)=>{var n=kb();if(Br(n.width)&&Br(n.height))return t.children;var{width:r,height:i}=l8({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=HR(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Se(o)&&Se(l)?A.createElement(FR,{width:o,height:l},t.children):A.createElement(h8,mv({},t,{width:r,height:i,ref:e}))});function VR(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Xf=()=>{var t,e=gn(),n=Ce(WV),r=Ce(Jf),i=(t=Ce(Wf))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},m8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KR=()=>{var t;return(t=Ce(ln))!==null&&t!==void 0?t:m8},Pb=()=>Ce(Ai),Rb=()=>Ce(Ci),g8=()=>Ce(t=>t.layout.margin),st=t=>t.layout.layoutType,Cu=()=>Ce(st),y8=()=>{var t=Cu();return t!==void 0},Qf=t=>{var e=jt(),n=gn(),{width:r,height:i}=t,o=kb(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&Br(l)&&Br(u)&&e(xV({width:l,height:u}))},[e,n,l,u]),null},v8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YR=kn({name:"legend",initialState:v8,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:zt()},removeLegendPayload:{reducer(t,e){var n=pi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:zt()}}}),{setLegendSize:kC,setLegendSettings:b8,addLegendPayload:x8,removeLegendPayload:w8}=YR.actions,_8=YR.reducer,S8=["contextPayload"];function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){E8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E8(t,e,n){return(e=T8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T8(t){var e=A8(t,"string");return typeof e=="symbol"?e:e+""}function A8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C8(t,e){if(t==null)return{};var n,r,i=N8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k8(t){return t.value}function P8(t){var{contextPayload:e}=t,n=C8(t,S8),r=oR(e,t.payloadUniqBy,k8),i=Cs(Cs({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(I6,i)}function R8(t,e,n,r,i,o){var{layout:l,align:u,verticalAlign:d}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?h={top:((i||0)-o.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Cs(Cs({},f),h)}function I8(t){var e=jt();return A.useEffect(()=>{e(b8(t))},[e,t]),null}function M8(t){var e=jt();return A.useEffect(()=>(e(kC(t)),()=>{e(kC({width:0,height:0}))}),[e,t]),null}function O8(t,e,n,r){return t==="vertical"&&Se(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var D8={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function WR(t){var e=Jt(t,D8),n=AF(),r=EG(),i=g8(),{width:o,height:l,wrapperStyle:u,portal:d}=e,[f,h]=dR([n]),m=Pb(),v=Rb();if(m==null||v==null)return null;var w=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=O8(e.layout,l,o,w),T=d?u:Cs(Cs({position:"absolute",width:(S==null?void 0:S.width)||o||"auto",height:(S==null?void 0:S.height)||l||"auto"},R8(u,e,i,m,v,f)),u),E=d??r;if(E==null||n==null)return null;var k=A.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:h},A.createElement(I8,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(M8,{width:f.width,height:f.height}),A.createElement(P8,gv({},e,S,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return hb.createPortal(k,E)}WR.displayName="Legend";function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(null,arguments)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){j8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8(t,e,n){return(e=L8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L8(t){var e=U8(t,"string");return typeof e=="symbol"?e:e+""}function U8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B8(t){return Array.isArray(t)&&Ur(t[0])&&Ur(t[1])?t.join(" ~ "):t}var q8=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:v=!1}=t,w=()=>{if(o&&o.length){var R={padding:0,margin:0},O=(u?qf(o,u):o).map((D,q)=>{if(D.type==="none")return null;var $=D.formatter||l||B8,{value:F,name:G}=D,L=F,H=G;if($){var ce=$(F,G,D,q,o);if(Array.isArray(ce))[L,H]=ce;else if(ce!=null)L=ce;else return null}var he=ey({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:he},Ur(H)?A.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ur(H)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},L),A.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},S=ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=ey({margin:0},i),E=!$t(h),k=E?h:"",P=nt("recharts-default-tooltip",d),N=nt("recharts-tooltip-label",f);E&&m&&o!==void 0&&o!==null&&(k=m(h,o));var I=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",yv({className:P,style:S},I),A.createElement("p",{className:N,style:T},A.isValidElement(k)?k:"".concat(k)),w())},Hl="recharts-tooltip-wrapper",z8={visibility:"hidden"};function $8(t){var{coordinate:e,translateX:n,translateY:r}=t;return nt(Hl,{["".concat(Hl,"-right")]:Se(n)&&e&&Se(e.x)&&n>=e.x,["".concat(Hl,"-left")]:Se(n)&&e&&Se(e.x)&&n<e.x,["".concat(Hl,"-bottom")]:Se(r)&&e&&Se(e.y)&&r>=e.y,["".concat(Hl,"-top")]:Se(r)&&e&&Se(e.y)&&r<e.y})}function IC(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=t;if(o&&Se(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var v=d[r];if(v==null)return 0;if(l[r]){var w=h,S=v;return w<S?Math.max(m,v):Math.max(h,v)}if(f==null)return 0;var T=m+u,E=v+f;return T>E?Math.max(h,v):Math.max(m,v)}function H8(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function G8(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,f,h,m;return l.height>0&&l.width>0&&n?(h=IC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=IC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=H8({translateX:h,translateY:m,useTranslate3d:u})):f=z8,{cssProperties:f,cssClasses:$8({translateX:h,translateY:m,coordinate:n})}}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vv(t,e,n){return(e=F8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t){var e=V8(t,"string");return typeof e=="symbol"?e:e+""}function V8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class K8 extends A.PureComponent{constructor(){super(...arguments),vv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:v,viewBox:w,wrapperStyle:S,lastBoundingBox:T,innerRef:E,hasPortalFromProps:k}=this.props,{cssClasses:P,cssProperties:N}=G8({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:w}),I=k?{}:vd(vd({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=vd(vd({},I),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:R,ref:E},o)}}var Y8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),co={devToolsEnabled:!1,isSsr:Y8()},JR=()=>{var t;return(t=Ce(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function OC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(n),!0).forEach(function(r){W8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W8(t,e,n){return(e=J8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=X8(t,"string");return typeof e=="symbol"?e:e+""}function X8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jC={curveBasisClosed:HG,curveBasisOpen:GG,curveBasis:$G,curveBumpX:NG,curveBumpY:kG,curveLinearClosed:FG,curveLinear:Lf,curveMonotoneX:VG,curveMonotoneY:KG,curveNatural:YG,curveStep:WG,curveStepAfter:XG,curveStepBefore:JG},Zd=t=>_t(t.x)&&_t(t.y),LC=t=>t.base!=null&&Zd(t.base)&&Zd(t),Gl=t=>t.x,Fl=t=>t.y,Q8=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Su(t));return(n==="curveMonotone"||n==="curveBump")&&e?jC["".concat(n).concat(e==="vertical"?"Y":"X")]:jC[n]||Lf},Z8=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=Q8(e,i),u=o?n.filter(Zd):n,d;if(Array.isArray(r)){var f=n.map((w,S)=>DC(DC({},w),{},{base:r[S]}));i==="vertical"?d=dd().y(Fl).x1(Gl).x0(w=>w.base.x):d=dd().x(Gl).y1(Fl).y0(w=>w.base.y);var h=d.defined(LC).curve(l),m=o?f.filter(LC):f;return h(m)}i==="vertical"&&Se(r)?d=dd().y(Fl).x1(Gl).x0(r):Se(r)?d=dd().x(Gl).y1(Fl).y0(r):d=OP().x(Gl).y(Fl);var v=d.defined(Zd).curve(l);return v(u)},ru=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Z8(t):r;return A.createElement("path",bv({},pr(t),wb(t),{className:nt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},eK=["x","y","top","left","width","height","className"];function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e,n){return(e=rK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t){var e=iK(t,"string");return typeof e=="symbol"?e:e+""}function iK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aK(t,e){if(t==null)return{};var n,r,i=oK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sK=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),lK=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=t,d=aK(t,eK),f=tK({x:e,y:n,top:r,left:i,width:o,height:l},d);return!Se(e)||!Se(n)||!Se(o)||!Se(l)||!Se(r)||!Se(i)?null:A.createElement("path",xv({},mn(f),{className:nt("recharts-cross",u),d:sK(e,n,o,l,r,i)}))};function uK(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){cK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cK(t,e,n){return(e=dK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dK(t){var e=fK(t,"string");return typeof e=="symbol"?e:e+""}function fK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hK=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),XR=(t,e,n)=>t.map(r=>"".concat(hK(r)," ").concat(e,"ms ").concat(n)).join(","),pK=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),hu=(t,e)=>Object.keys(e).reduce((n,r)=>qC(qC({},n),{},{[r]:t(r,e[r])}),{});function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){mK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mK(t,e,n){return(e=gK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=yK(t,"string");return typeof e=="symbol"?e:e+""}function yK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ef=(t,e,n)=>t+(e-t)*n,wv=t=>{var{from:e,to:n}=t;return e!==n},QR=(t,e,n)=>{var r=hu((i,o)=>{if(wv(o)){var[l,u]=t(o.from,o.to,o.velocity);return qt(qt({},o),{},{from:l,velocity:u})}return o},e);return n<1?hu((i,o)=>wv(o)?qt(qt({},o),{},{velocity:ef(o.velocity,r[i].velocity,n),from:ef(o.from,r[i].from,n)}):o,e):QR(t,r,n-1)};function vK(t,e,n,r,i,o){var l,u=r.reduce((v,w)=>qt(qt({},v),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>hu((v,w)=>w.from,u),f=()=>!Object.values(u).filter(wv).length,h=null,m=v=>{l||(l=v);var w=v-l,S=w/n.dt;u=QR(n,u,S),i(qt(qt(qt({},t),e),d())),l=v,f()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function bK(t,e,n,r,i,o,l){var u=null,d=i.reduce((m,v)=>qt(qt({},m),{},{[v]:[t[v],e[v]]}),{}),f,h=m=>{f||(f=m);var v=(m-f)/r,w=hu((T,E)=>ef(...E,n(v)),d);if(o(qt(qt(qt({},t),e),w)),v<1)u=l.setTimeout(h);else{var S=hu((T,E)=>ef(...E,n(1)),d);o(qt(qt(qt({},t),e),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const xK=(t,e,n,r,i,o)=>{var l=pK(t,e);return n==null?()=>(i(qt(qt({},t),e)),()=>{}):n.isStepper===!0?vK(t,e,n,l,i,o):bK(t,e,n,r,l,i,o)};var tf=1e-4,ZR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],eI=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),$C=(t,e)=>n=>{var r=ZR(t,e);return eI(r,n)},wK=(t,e)=>n=>{var r=ZR(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return eI(i,n)},_K=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},SK=(t,e,n,r)=>{var i=$C(t,n),o=$C(e,r),l=wK(t,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,v=0;v<8;++v){var w=i(m)-h,S=l(m);if(Math.abs(w-h)<tf||S<tf)return o(m);m=u(m-w/S)}return o(m)};return d.isStepper=!1,d},HC=function(){return SK(..._K(...arguments))},EK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,u,d)=>{var f=-(l-u)*n,h=d*r,m=d+(f-h)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<tf&&Math.abs(m)<tf?[u,0]:[v,m]};return o.isStepper=!0,o.dt=i,o},TK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HC(t);case"spring":return EK();default:if(t.split("(")[0]==="cubic-bezier")return HC(t)}return typeof t=="function"?t:null};function AK(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=t.setTimeout(o.bind(null,f),d);return}o(d),i=t.setTimeout(o.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class CK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function NK(){return AK(new CK)}var kK=A.createContext(NK);function PK(t,e){var n=A.useContext(kK);return A.useMemo(()=>e??n(t),[t,e,n])}var RK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},GC={t:0},ty={t:1};function Zf(t){var e=Jt(t,RK),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=e,h=PK(e.animationId,e.animationManager),[m,v]=A.useState(n?GC:ty),w=A.useRef(null);return A.useEffect(()=>{n||v(ty)},[n]),A.useEffect(()=>{if(!n||!r)return Us;var S=xK(GC,ty,TK(o),i,v,h.getTimeoutController()),T=()=>{w.current=S()};return h.start([d,l,T,i,u]),()=>{h.stop(),w.current&&w.current(),u()}},[n,r,i,o,l,d,u,h]),f(m.t)}function eh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(uu(e)),r=A.useRef(t);return r.current!==t&&(n.current=uu(e),r.current=t),n.current}var IK=["radius"],MK=["radius"];function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){OK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OK(t,e,n){return(e=DK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=jK(t,"string");return typeof e=="symbol"?e:e+""}function jK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(null,arguments)}function KC(t,e){if(t==null)return{};var n,r,i=LK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YC=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>o?o:i[m];f="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*h[1])),f+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),f+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f="M ".concat(t,",").concat(e+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+u*w,",").concat(e,`
            L `).concat(t+n-u*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*w,`
            L `).concat(t+n,",").concat(e+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t+n-u*w,",").concat(e+r,`
            L `).concat(t+u*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},WC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tI=t=>{var e=Jt(t,WC),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:h}=e,{animationEasing:m,animationDuration:v,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:T}=e,E=A.useRef(u),k=A.useRef(d),P=A.useRef(o),N=A.useRef(l),I=A.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),R=eh(I,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var O=nt("recharts-rectangle",h);if(!T){var D=mn(e),{radius:q}=D,$=KC(D,IK);return A.createElement("path",nf({},$,{radius:typeof f=="number"?f:void 0,className:O,d:YC(o,l,u,d,f)}))}var F=E.current,G=k.current,L=P.current,H=N.current,ce="0px ".concat(r===-1?1:r,"px"),he="".concat(r,"px 0px"),z=XR(["strokeDasharray"],v,typeof m=="string"?m:WC.animationEasing);return A.createElement(Zf,{animationId:R,key:R,canBegin:r>0,duration:v,easing:m,isActive:T,begin:w},Z=>{var de=Ot(F,u,Z),K=Ot(G,d,Z),ue=Ot(L,o,Z),j=Ot(H,l,Z);n.current&&(E.current=de,k.current=K,P.current=ue,N.current=j);var Y;S?Z>0?Y={transition:z,strokeDasharray:he}:Y={strokeDasharray:ce}:Y={strokeDasharray:he};var oe=mn(e),{radius:W}=oe,fe=KC(oe,MK);return A.createElement("path",nf({},fe,{radius:typeof f=="number"?f:void 0,className:O,d:YC(ue,j,de,K,f),ref:n,style:VC(VC({},Y),e.style)}))})};function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){UK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e,n){return(e=BK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BK(t){var e=qK(t,"string");return typeof e=="symbol"?e:e+""}function qK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rf=Math.PI/180,zK=t=>t*180/Math.PI,on=(t,e,n,r)=>({x:t+Math.cos(-rf*r)*n,y:e+Math.sin(-rf*r)*n}),$K=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},HK=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},GK=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=HK({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:zK(d),angleInRadian:d}},FK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},VK=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},KK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=GK({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=FK(e),h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?XC(XC({},e),{},{radius:i,angle:VK(h,e)}):null};function nI(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=on(e,n,r,i),u=on(e,n,r,o);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}var YK=(t,e)=>{var n=dr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},bd=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,f=u*(l?1:-1)+r,h=Math.asin(u/f)/rf,m=d?i:i+o*h,v=on(e,n,f,m),w=on(e,n,r,m),S=d?i-o*h:i,T=on(e,n,f*Math.cos(h*rf),S);return{center:v,circleTangency:w,lineTangency:T,theta:h}},rI=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,u=YK(o,l),d=o+u,f=on(e,n,i,o),h=on(e,n,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=on(e,n,r,o),w=on(e,n,r,d);m+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},WK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=t,h=dr(f-d),{circleTangency:m,lineTangency:v,theta:w}=bd({cx:e,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:T,theta:E}=bd({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),k=u?Math.abs(d-f):Math.abs(d-f)-w-E;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rI({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:I,theta:R}=bd({cx:e,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:O,lineTangency:D,theta:q}=bd({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),$=u?Math.abs(d-f):Math.abs(d-f)-R-q;if($<0&&o===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},JK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iI=t=>{var e=Jt(t,JK),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=e;if(o<i||f===h)return null;var v=nt("recharts-sector",m),w=o-i,S=fa(l,w,0,!0),T;return S>0&&Math.abs(f-h)<360?T=WK({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):T=rI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),A.createElement("path",_v({},mn(e),{className:v,d:T}))};function XK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(WP(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=e,d=on(r,i,o,u),f=on(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return nI(e)}}var ny={},ry={},iy={},QC;function QK(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(iy)),iy}var ZC;function ZK(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(ry)),ry}var e1;function e9(){return e1||(e1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uR(),n=ZK();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}t.range=r})(ny)),ny}var ay,t1;function t9(){return t1||(t1=1,ay=e9().range),ay}var n9=t9();const aI=Nr(n9);function da(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ib(t){let e,n,r;t.length!==2?(e=da,n=(u,d)=>da(t(u),d),r=(u,d)=>t(u)-d):(e=t===da||t===r9?t:i9,n=t,r=t);function i(u,d,f=0,h=u.length){if(f<h){if(e(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(e(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:l,right:o}}function i9(){return 0}function oI(t){return t===null?NaN:+t}function*a9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const o9=Ib(da),Nu=o9.right;Ib(oI).center;class n1 extends Map{constructor(e,n=u9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(r1(this,e))}has(e){return super.has(r1(this,e))}set(e,n){return super.set(s9(this,e),n)}delete(e){return super.delete(l9(this,e))}}function r1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function s9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function l9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function u9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function c9(t=da){if(t===da)return sI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const d9=Math.sqrt(50),f9=Math.sqrt(10),h9=Math.sqrt(2);function af(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=d9?10:o>=f9?5:o>=h9?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=n&&n<2?af(t,e,n*2):[u,d,f]}function Sv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?af(e,t,n):af(t,e,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function Ev(t,e,n){return e=+e,t=+t,n=+n,af(t,e,n)[2]}function Tv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ev(e,t,n):Ev(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function i1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function a1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sI:c9(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*m/d+v)),S=Math.min(r,Math.floor(e+(d-f)*m/d+v));lI(t,e,w,S,i)}const o=t[e];let l=n,u=r;for(Vl(t,n,e),i(t[r],o)>0&&Vl(t,n,r);l<u;){for(Vl(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Vl(t,n,u):(++u,Vl(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Vl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function p9(t,e,n){if(t=Float64Array.from(a9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return a1(t);if(e>=1)return i1(t);var r,i=(r-1)*e,o=Math.floor(i),l=i1(lI(t,o).subarray(0,o+1)),u=a1(t.subarray(o+1));return l+(u-l)*(i-o)}}function m9(t,e,n=oI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function g9(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ni(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Av=Symbol("implicit");function Mb(){var t=new n1,e=[],n=[],r=Av;function i(o){let l=t.get(o);if(l===void 0){if(r!==Av)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new n1;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mb(e,n).unknown(r)},vr.apply(i,arguments),i}function Ob(){var t=Mb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,d=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,w=i<r,S=w?i:r,T=w?r:i;o=(T-S)/Math.max(1,v-d+f*2),u&&(o=Math.floor(o)),S+=(T-S-o*(v-d))*h,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var E=g9(v).map(function(k){return S+o*k});return n(w?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return Ob(e(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},vr.apply(m(),arguments)}function uI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uI(e())},t}function y9(){return uI(Ob.apply(null,arguments).paddingInner(1))}function Db(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ku(){}var pu=.7,of=1/pu,Ss="\\s*([+-]?\\d+)\\s*",mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v9=/^#([0-9a-f]{3,8})$/,b9=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),x9=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),w9=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${mu}\\)$`),_9=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${mu}\\)$`),S9=new RegExp(`^hsl\\(${mu},${Lr},${Lr}\\)$`),E9=new RegExp(`^hsla\\(${mu},${Lr},${Lr},${mu}\\)$`),o1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Db(ku,gu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s1,formatHex:s1,formatHex8:T9,formatHsl:A9,formatRgb:l1,toString:l1});function s1(){return this.rgb().formatHex()}function T9(){return this.rgb().formatHex8()}function A9(){return dI(this).formatHsl()}function l1(){return this.rgb().formatRgb()}function gu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=v9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?u1(e):n===3?new Nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b9.exec(t))?new Nn(e[1],e[2],e[3],1):(e=x9.exec(t))?new Nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=w9.exec(t))?xd(e[1],e[2],e[3],e[4]):(e=_9.exec(t))?xd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=S9.exec(t))?f1(e[1],e[2]/100,e[3]/100,1):(e=E9.exec(t))?f1(e[1],e[2]/100,e[3]/100,e[4]):o1.hasOwnProperty(t)?u1(o1[t]):t==="transparent"?new Nn(NaN,NaN,NaN,0):null}function u1(t){return new Nn(t>>16&255,t>>8&255,t&255,1)}function xd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nn(t,e,n,r)}function C9(t){return t instanceof ku||(t=gu(t)),t?(t=t.rgb(),new Nn(t.r,t.g,t.b,t.opacity)):new Nn}function Cv(t,e,n,r){return arguments.length===1?C9(t):new Nn(t,e,n,r??1)}function Nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Db(Nn,Cv,cI(ku,{brighter(t){return t=t==null?of:Math.pow(of,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pu:Math.pow(pu,t),new Nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nn(Qa(this.r),Qa(this.g),Qa(this.b),sf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c1,formatHex:c1,formatHex8:N9,formatRgb:d1,toString:d1}));function c1(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function N9(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function d1(){const t=sf(this.opacity);return`${t===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${t===1?")":`, ${t})`}`}function sf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ka(t){return t=Qa(t),(t<16?"0":"")+t.toString(16)}function f1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function dI(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof ku||(t=gu(t)),!t)return new Ar;if(t instanceof Ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Ar(l,u,d,t.opacity)}function k9(t,e,n,r){return arguments.length===1?dI(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Db(Ar,k9,cI(ku,{brighter(t){return t=t==null?of:Math.pow(of,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pu:Math.pow(pu,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nn(oy(t>=240?t-240:t+120,i,r),oy(t,i,r),oy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar(h1(this.h),wd(this.s),wd(this.l),sf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sf(this.opacity);return`${t===1?"hsl(":"hsla("}${h1(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function h1(t){return t=(t||0)%360,t<0?t+360:t}function wd(t){return Math.max(0,Math.min(1,t||0))}function oy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jb=t=>()=>t;function P9(t,e){return function(n){return t+n*e}}function R9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function I9(t){return(t=+t)==1?fI:function(e,n){return n-e?R9(e,n,t):jb(isNaN(e)?n:e)}}function fI(t,e){var n=e-t;return n?P9(t,n):jb(isNaN(t)?e:t)}const p1=(function t(e){var n=I9(e);function r(i,o){var l=n((i=Cv(i)).r,(o=Cv(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=fI(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function M9(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function O9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function D9(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Bs(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function j9(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function L9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(Nv.source,"g");function U9(t){return function(){return t}}function B9(t){return function(e){return t(e)+""}}function q9(t,e){var n=Nv.lastIndex=sy.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=Nv.exec(t))&&(i=sy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:lf(r,i)})),n=sy.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?B9(d[0].x):U9(e):(e=d.length,function(f){for(var h=0,m;h<e;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function Bs(t,e){var n=typeof e,r;return e==null||n==="boolean"?jb(e):(n==="number"?lf:n==="string"?(r=gu(e))?(e=r,p1):q9:e instanceof gu?p1:e instanceof Date?j9:O9(e)?M9:Array.isArray(e)?D9:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L9:lf)(t,e)}function Lb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function z9(t,e){e===void 0&&(e=t,t=Bs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function $9(t){return function(){return t}}function uf(t){return+t}var m1=[0,1];function vn(t){return t}function kv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$9(isNaN(e)?NaN:.5)}function H9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function G9(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=kv(i,r),o=n(l,o)):(r=kv(r,i),o=n(o,l)),function(u){return o(r(u))}}function F9(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=kv(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var d=Nu(t,u,1,r)-1;return o[d](i[d](u))}}function Pu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function th(){var t=m1,e=m1,n=Bs,r,i,o,l=vn,u,d,f;function h(){var v=Math.min(t.length,e.length);return l!==vn&&(l=H9(t[0],t[v-1])),u=v>2?F9:G9,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?o:(d||(d=u(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((f||(f=u(e,t.map(r),lf)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,uf),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=Lb,h()},m.clamp=function(v){return arguments.length?(l=v?!0:vn,h()):l!==vn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,w){return r=v,i=w,h()}}function Ub(){return th()(vn,vn)}function V9(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ns(t){return t=cf(Math.abs(t)),t?t[1]:NaN}function K9(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function Y9(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var W9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yu(t){if(!(e=W9.exec(t)))throw new Error("invalid format: "+t);var e;return new Bb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yu.prototype=Bb.prototype;function Bb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Bb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J9(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hI;function X9(t,e){var n=cf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cf(t,Math.max(0,e+o-1))[0]}function g1(t,e){var n=cf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const y1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:V9,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g1(t*100,e),r:g1,s:X9,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v1(t){return t}var b1=Array.prototype.map,x1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Q9(t){var e=t.grouping===void 0||t.thousands===void 0?v1:K9(b1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?v1:Y9(b1.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=yu(m);var v=m.fill,w=m.align,S=m.sign,T=m.symbol,E=m.zero,k=m.width,P=m.comma,N=m.precision,I=m.trim,R=m.type;R==="n"?(P=!0,R="g"):y1[R]||(N===void 0&&(N=12),I=!0,R="g"),(E||v==="0"&&w==="=")&&(E=!0,v="0",w="=");var O=T==="$"?n:T==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",D=T==="$"?r:/[%p]/.test(R)?l:"",q=y1[R],$=/[defgprs%]/.test(R);N=N===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(G){var L=O,H=D,ce,he,z;if(R==="c")H=q(G)+H,G="";else{G=+G;var Z=G<0||1/G<0;if(G=isNaN(G)?d:q(Math.abs(G),N),I&&(G=J9(G)),Z&&+G==0&&S!=="+"&&(Z=!1),L=(Z?S==="("?S:u:S==="-"||S==="("?"":S)+L,H=(R==="s"?x1[8+hI/3]:"")+H+(Z&&S==="("?")":""),$){for(ce=-1,he=G.length;++ce<he;)if(z=G.charCodeAt(ce),48>z||z>57){H=(z===46?i+G.slice(ce+1):G.slice(ce))+H,G=G.slice(0,ce);break}}}P&&!E&&(G=e(G,1/0));var de=L.length+G.length+H.length,K=de<k?new Array(k-de+1).join(v):"";switch(P&&E&&(G=e(K+G,K.length?k-H.length:1/0),K=""),w){case"<":G=L+G+H+K;break;case"=":G=L+K+G+H;break;case"^":G=K.slice(0,de=K.length>>1)+L+G+H+K.slice(de);break;default:G=K+L+G+H;break}return o(G)}return F.toString=function(){return m+""},F}function h(m,v){var w=f((m=yu(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Ns(v)/3)))*3,T=Math.pow(10,-S),E=x1[8+S/3];return function(k){return w(T*k)+E}}return{format:f,formatPrefix:h}}var _d,qb,pI;Z9({thousands:",",grouping:[3],currency:["$",""]});function Z9(t){return _d=Q9(t),qb=_d.format,pI=_d.formatPrefix,_d}function e7(t){return Math.max(0,-Ns(Math.abs(t)))}function t7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(e)/3)))*3-Ns(Math.abs(t)))}function n7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ns(e)-Ns(t))+1}function mI(t,e,n,r){var i=Tv(t,e,n),o;switch(r=yu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=t7(i,l))&&(r.precision=o),pI(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=n7(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=e7(i))&&(r.precision=o-(r.type==="%")*2);break}}return qb(r)}function ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return Sv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return mI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=Ev(l,u,n),f===d)return r[i]=l,r[o]=u,e(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function gI(){var t=Ub();return t.copy=function(){return Pu(t,gI())},vr.apply(t,arguments),ma(t)}function yI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,uf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return yI(t).unknown(e)},t=arguments.length?Array.from(t,uf):[0,1],ma(n)}function vI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function w1(t){return Math.log(t)}function _1(t){return Math.exp(t)}function r7(t){return-Math.log(-t)}function i7(t){return-Math.exp(-t)}function a7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o7(t){return t===10?a7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function s7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S1(t){return(e,n)=>-t(-e,n)}function zb(t){const e=t(w1,_1),n=e.domain;let r=10,i,o;function l(){return i=s7(r),o=o7(r),n()[0]<0?(i=S1(i),o=S1(o),t(r7,i7)):t(w1,_1),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),w=i(h),S,T;const E=u==null?10:+u;let k=[];if(!(r%1)&&w-v<E){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(S=1;S<r;++S)if(T=v<0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;k.push(T)}}else for(;v<=w;++v)for(S=r-1;S>=1;--S)if(T=v>0?S/o(-v):S*o(v),!(T<f)){if(T>h)break;k.push(T)}k.length*2<E&&(k=Sv(f,h,E))}else k=Sv(v,w,Math.min(w-v,E)).map(o);return m?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=yu(d)).precision==null&&(d.trim=!0),d=qb(d)),u===1/0)return d;const f=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},e.nice=()=>n(vI(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function bI(){const t=zb(th()).domain([1,10]);return t.copy=()=>Pu(t,bI()).base(t.base()),vr.apply(t,arguments),t}function E1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function T1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $b(t){var e=1,n=t(E1(e),T1(e));return n.constant=function(r){return arguments.length?t(E1(e=+r),T1(e)):e},ma(n)}function xI(){var t=$b(th());return t.copy=function(){return Pu(t,xI()).constant(t.constant())},vr.apply(t,arguments)}function A1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u7(t){return t<0?-t*t:t*t}function Hb(t){var e=t(vn,vn),n=1;function r(){return n===1?t(vn,vn):n===.5?t(l7,u7):t(A1(n),A1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ma(e)}function Gb(){var t=Hb(th());return t.copy=function(){return Pu(t,Gb()).exponent(t.exponent())},vr.apply(t,arguments),t}function c7(){return Gb.apply(null,arguments).exponent(.5)}function C1(t){return Math.sign(t)*t*t}function d7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wI(){var t=Ub(),e=[0,1],n=!1,r;function i(o){var l=d7(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(C1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,uf)).map(C1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),ma(i)}function _I(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=m9(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Nu(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(da),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _I().domain(t).range(e).unknown(r)},vr.apply(o,arguments)}function SI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Nu(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return SI().domain([t,e]).range(i).unknown(o)},vr.apply(ma(l),arguments)}function EI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Nu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EI().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const ly=new Date,uy=new Date;function Ht(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<l);return d},i.filter=o=>Ht(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(ly.setTime(+o),uy.setTime(+l),t(ly),t(uy),Math.floor(n(ly,uy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const df=Ht(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);df.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ht(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):df);df.range;const fi=1e3,fr=fi*60,hi=fr*60,xi=hi*24,Fb=xi*7,N1=xi*30,cy=xi*365,Ya=Ht(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());Ya.range;const Vb=Ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getMinutes());Vb.range;const Kb=Ht(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getUTCMinutes());Kb.range;const Yb=Ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*fr)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getHours());Yb.range;const Wb=Ht(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCHours());Wb.range;const Ru=Ht(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fr)/xi,t=>t.getDate()-1);Ru.range;const nh=Ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>t.getUTCDate()-1);nh.range;const TI=Ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xi,t=>Math.floor(t/xi));TI.range;function fo(t){return Ht(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fr)/Fb)}const rh=fo(0),ff=fo(1),f7=fo(2),h7=fo(3),ks=fo(4),p7=fo(5),m7=fo(6);rh.range;ff.range;f7.range;h7.range;ks.range;p7.range;m7.range;function ho(t){return Ht(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Fb)}const ih=ho(0),hf=ho(1),g7=ho(2),y7=ho(3),Ps=ho(4),v7=ho(5),b7=ho(6);ih.range;hf.range;g7.range;y7.range;Ps.range;v7.range;b7.range;const Jb=Ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Jb.range;const Xb=Ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Xb.range;const wi=Ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ht(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});wi.range;const _i=Ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ht(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_i.range;function AI(t,e,n,r,i,o){const l=[[Ya,1,fi],[Ya,5,5*fi],[Ya,15,15*fi],[Ya,30,30*fi],[o,1,fr],[o,5,5*fr],[o,15,15*fr],[o,30,30*fr],[i,1,hi],[i,3,3*hi],[i,6,6*hi],[i,12,12*hi],[r,1,xi],[r,2,2*xi],[n,1,Fb],[e,1,N1],[e,3,3*N1],[t,1,cy]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const w=m&&typeof m.range=="function"?m:d(f,h,m),S=w?w.range(f,+h+1):[];return v?S.reverse():S}function d(f,h,m){const v=Math.abs(h-f)/m,w=Ib(([,,E])=>E).right(l,v);if(w===l.length)return t.every(Tv(f/cy,h/cy,m));if(w===0)return df.every(Math.max(Tv(f,h,m),1));const[S,T]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return S.every(T)}return[u,d]}const[x7,w7]=AI(_i,Xb,ih,TI,Wb,Kb),[_7,S7]=AI(wi,Jb,rh,Ru,Yb,Vb);function dy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function E7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,f=Yl(i),h=Wl(i),m=Yl(o),v=Wl(o),w=Yl(l),S=Wl(l),T=Yl(u),E=Wl(u),k=Yl(d),P=Wl(d),N={a:Z,A:de,b:K,B:ue,c:null,d:O1,e:O1,f:K7,g:rY,G:aY,H:G7,I:F7,j:V7,L:CI,m:Y7,M:W7,p:j,q:Y,Q:L1,s:U1,S:J7,u:X7,U:Q7,V:Z7,w:eY,W:tY,x:null,X:null,y:nY,Y:iY,Z:oY,"%":j1},I={a:oe,A:W,b:fe,B:pe,c:null,d:D1,e:D1,f:cY,g:xY,G:_Y,H:sY,I:lY,j:uY,L:kI,m:dY,M:fY,p:me,q:De,Q:L1,s:U1,S:hY,u:pY,U:mY,V:gY,w:yY,W:vY,x:null,X:null,y:bY,Y:wY,Z:SY,"%":j1},R={a:F,A:G,b:L,B:H,c:ce,d:I1,e:I1,f:q7,g:R1,G:P1,H:M1,I:M1,j:j7,L:B7,m:D7,M:L7,p:$,q:O7,Q:$7,s:H7,S:U7,u:k7,U:P7,V:R7,w:N7,W:I7,x:he,X:z,y:R1,Y:P1,Z:M7,"%":z7};N.x=O(n,N),N.X=O(r,N),N.c=O(e,N),I.x=O(n,I),I.X=O(r,I),I.c=O(e,I);function O(te,we){return function(Ne){var ie=[],Be=-1,ve=0,Oe=te.length,Fe,se,Ee;for(Ne instanceof Date||(Ne=new Date(+Ne));++Be<Oe;)te.charCodeAt(Be)===37&&(ie.push(te.slice(ve,Be)),(se=k1[Fe=te.charAt(++Be)])!=null?Fe=te.charAt(++Be):se=Fe==="e"?" ":"0",(Ee=we[Fe])&&(Fe=Ee(Ne,se)),ie.push(Fe),ve=Be+1);return ie.push(te.slice(ve,Be)),ie.join("")}}function D(te,we){return function(Ne){var ie=Kl(1900,void 0,1),Be=q(ie,te,Ne+="",0),ve,Oe;if(Be!=Ne.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(we&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ve=fy(Kl(ie.y,0,1)),Oe=ve.getUTCDay(),ve=Oe>4||Oe===0?hf.ceil(ve):hf(ve),ve=nh.offset(ve,(ie.V-1)*7),ie.y=ve.getUTCFullYear(),ie.m=ve.getUTCMonth(),ie.d=ve.getUTCDate()+(ie.w+6)%7):(ve=dy(Kl(ie.y,0,1)),Oe=ve.getDay(),ve=Oe>4||Oe===0?ff.ceil(ve):ff(ve),ve=Ru.offset(ve,(ie.V-1)*7),ie.y=ve.getFullYear(),ie.m=ve.getMonth(),ie.d=ve.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Oe="Z"in ie?fy(Kl(ie.y,0,1)).getUTCDay():dy(Kl(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Oe+5)%7:ie.w+ie.U*7-(Oe+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,fy(ie)):dy(ie)}}function q(te,we,Ne,ie){for(var Be=0,ve=we.length,Oe=Ne.length,Fe,se;Be<ve;){if(ie>=Oe)return-1;if(Fe=we.charCodeAt(Be++),Fe===37){if(Fe=we.charAt(Be++),se=R[Fe in k1?we.charAt(Be++):Fe],!se||(ie=se(te,Ne,ie))<0)return-1}else if(Fe!=Ne.charCodeAt(ie++))return-1}return ie}function $(te,we,Ne){var ie=f.exec(we.slice(Ne));return ie?(te.p=h.get(ie[0].toLowerCase()),Ne+ie[0].length):-1}function F(te,we,Ne){var ie=w.exec(we.slice(Ne));return ie?(te.w=S.get(ie[0].toLowerCase()),Ne+ie[0].length):-1}function G(te,we,Ne){var ie=m.exec(we.slice(Ne));return ie?(te.w=v.get(ie[0].toLowerCase()),Ne+ie[0].length):-1}function L(te,we,Ne){var ie=k.exec(we.slice(Ne));return ie?(te.m=P.get(ie[0].toLowerCase()),Ne+ie[0].length):-1}function H(te,we,Ne){var ie=T.exec(we.slice(Ne));return ie?(te.m=E.get(ie[0].toLowerCase()),Ne+ie[0].length):-1}function ce(te,we,Ne){return q(te,e,we,Ne)}function he(te,we,Ne){return q(te,n,we,Ne)}function z(te,we,Ne){return q(te,r,we,Ne)}function Z(te){return l[te.getDay()]}function de(te){return o[te.getDay()]}function K(te){return d[te.getMonth()]}function ue(te){return u[te.getMonth()]}function j(te){return i[+(te.getHours()>=12)]}function Y(te){return 1+~~(te.getMonth()/3)}function oe(te){return l[te.getUTCDay()]}function W(te){return o[te.getUTCDay()]}function fe(te){return d[te.getUTCMonth()]}function pe(te){return u[te.getUTCMonth()]}function me(te){return i[+(te.getUTCHours()>=12)]}function De(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var we=O(te+="",N);return we.toString=function(){return te},we},parse:function(te){var we=D(te+="",!1);return we.toString=function(){return te},we},utcFormat:function(te){var we=O(te+="",I);return we.toString=function(){return te},we},utcParse:function(te){var we=D(te+="",!0);return we.toString=function(){return te},we}}}var k1={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,T7=/^%/,A7=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function C7(t){return t.replace(A7,"\\$&")}function Yl(t){return new RegExp("^(?:"+t.map(C7).join("|")+")","i")}function Wl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function N7(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function k7(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function P7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function R7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function I7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function P1(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R1(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O7(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function D7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function I1(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function j7(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function M1(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function L7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function U7(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function B7(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function q7(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z7(t,e,n){var r=T7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $7(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function H7(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function O1(t,e){return Xe(t.getDate(),e,2)}function G7(t,e){return Xe(t.getHours(),e,2)}function F7(t,e){return Xe(t.getHours()%12||12,e,2)}function V7(t,e){return Xe(1+Ru.count(wi(t),t),e,3)}function CI(t,e){return Xe(t.getMilliseconds(),e,3)}function K7(t,e){return CI(t,e)+"000"}function Y7(t,e){return Xe(t.getMonth()+1,e,2)}function W7(t,e){return Xe(t.getMinutes(),e,2)}function J7(t,e){return Xe(t.getSeconds(),e,2)}function X7(t){var e=t.getDay();return e===0?7:e}function Q7(t,e){return Xe(rh.count(wi(t)-1,t),e,2)}function NI(t){var e=t.getDay();return e>=4||e===0?ks(t):ks.ceil(t)}function Z7(t,e){return t=NI(t),Xe(ks.count(wi(t),t)+(wi(t).getDay()===4),e,2)}function eY(t){return t.getDay()}function tY(t,e){return Xe(ff.count(wi(t)-1,t),e,2)}function nY(t,e){return Xe(t.getFullYear()%100,e,2)}function rY(t,e){return t=NI(t),Xe(t.getFullYear()%100,e,2)}function iY(t,e){return Xe(t.getFullYear()%1e4,e,4)}function aY(t,e){var n=t.getDay();return t=n>=4||n===0?ks(t):ks.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function oY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function D1(t,e){return Xe(t.getUTCDate(),e,2)}function sY(t,e){return Xe(t.getUTCHours(),e,2)}function lY(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function uY(t,e){return Xe(1+nh.count(_i(t),t),e,3)}function kI(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function cY(t,e){return kI(t,e)+"000"}function dY(t,e){return Xe(t.getUTCMonth()+1,e,2)}function fY(t,e){return Xe(t.getUTCMinutes(),e,2)}function hY(t,e){return Xe(t.getUTCSeconds(),e,2)}function pY(t){var e=t.getUTCDay();return e===0?7:e}function mY(t,e){return Xe(ih.count(_i(t)-1,t),e,2)}function PI(t){var e=t.getUTCDay();return e>=4||e===0?Ps(t):Ps.ceil(t)}function gY(t,e){return t=PI(t),Xe(Ps.count(_i(t),t)+(_i(t).getUTCDay()===4),e,2)}function yY(t){return t.getUTCDay()}function vY(t,e){return Xe(hf.count(_i(t)-1,t),e,2)}function bY(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function xY(t,e){return t=PI(t),Xe(t.getUTCFullYear()%100,e,2)}function wY(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function _Y(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ps(t):Ps.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function SY(){return"+0000"}function j1(){return"%"}function L1(t){return+t}function U1(t){return Math.floor(+t/1e3)}var ss,RI,II;EY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EY(t){return ss=E7(t),RI=ss.format,ss.parse,II=ss.utcFormat,ss.utcParse,ss}function TY(t){return new Date(t)}function AY(t){return t instanceof Date?+t:+new Date(+t)}function Qb(t,e,n,r,i,o,l,u,d,f){var h=Ub(),m=h.invert,v=h.domain,w=f(".%L"),S=f(":%S"),T=f("%I:%M"),E=f("%I %p"),k=f("%a %d"),P=f("%b %d"),N=f("%B"),I=f("%Y");function R(O){return(d(O)<O?w:u(O)<O?S:l(O)<O?T:o(O)<O?E:r(O)<O?i(O)<O?k:P:n(O)<O?N:I)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?v(Array.from(O,AY)):v().map(TY)},h.ticks=function(O){var D=v();return t(D[0],D[D.length-1],O??10)},h.tickFormat=function(O,D){return D==null?R:f(D)},h.nice=function(O){var D=v();return(!O||typeof O.range!="function")&&(O=e(D[0],D[D.length-1],O??10)),O?v(vI(D,O)):h},h.copy=function(){return Pu(h,Qb(t,e,n,r,i,o,l,u,d,f))},h}function CY(){return vr.apply(Qb(_7,S7,wi,Jb,rh,Ru,Yb,Vb,Ya,RI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NY(){return vr.apply(Qb(x7,w7,_i,Xb,ih,nh,Wb,Kb,Ya,II).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ah(){var t=0,e=1,n,r,i,o,l=vn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(v){var w,S;return arguments.length?([w,S]=v,l=m(w,S),f):[l(0),l(1)]}}return f.range=h(Bs),f.rangeRound=h(Lb),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function ga(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MI(){var t=ma(ah()(vn));return t.copy=function(){return ga(t,MI())},Ni.apply(t,arguments)}function OI(){var t=zb(ah()).domain([1,10]);return t.copy=function(){return ga(t,OI()).base(t.base())},Ni.apply(t,arguments)}function DI(){var t=$b(ah());return t.copy=function(){return ga(t,DI()).constant(t.constant())},Ni.apply(t,arguments)}function Zb(){var t=Hb(ah());return t.copy=function(){return ga(t,Zb()).exponent(t.exponent())},Ni.apply(t,arguments)}function kY(){return Zb.apply(null,arguments).exponent(.5)}function jI(){var t=[],e=vn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Nu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(da),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>p9(t,o/r))},n.copy=function(){return jI(e).domain(t)},Ni.apply(n,arguments)}function oh(){var t=0,e=.5,n=1,r=1,i,o,l,u,d,f=vn,h,m=!1,v;function w(T){return isNaN(T=+T)?v:(T=.5+((T=+h(T))-o)*(r*T<r*o?u:d),f(m?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=h(t=+t),o=h(e=+e),l=h(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(m=!!T,w):m},w.interpolator=function(T){return arguments.length?(f=T,w):f};function S(T){return function(E){var k,P,N;return arguments.length?([k,P,N]=E,f=z9(T,[k,P,N]),w):[f(0),f(.5),f(1)]}}return w.range=S(Bs),w.rangeRound=S(Lb),w.unknown=function(T){return arguments.length?(v=T,w):v},function(T){return h=T,i=T(t),o=T(e),l=T(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function LI(){var t=ma(oh()(vn));return t.copy=function(){return ga(t,LI())},Ni.apply(t,arguments)}function UI(){var t=zb(oh()).domain([.1,1,10]);return t.copy=function(){return ga(t,UI()).base(t.base())},Ni.apply(t,arguments)}function BI(){var t=$b(oh());return t.copy=function(){return ga(t,BI()).constant(t.constant())},Ni.apply(t,arguments)}function e0(){var t=Hb(oh());return t.copy=function(){return ga(t,e0()).exponent(t.exponent())},Ni.apply(t,arguments)}function PY(){return e0.apply(null,arguments).exponent(.5)}const Ql=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ob,scaleDiverging:LI,scaleDivergingLog:UI,scaleDivergingPow:e0,scaleDivergingSqrt:PY,scaleDivergingSymlog:BI,scaleIdentity:yI,scaleImplicit:Av,scaleLinear:gI,scaleLog:bI,scaleOrdinal:Mb,scalePoint:y9,scalePow:Gb,scaleQuantile:_I,scaleQuantize:SI,scaleRadial:wI,scaleSequential:MI,scaleSequentialLog:OI,scaleSequentialPow:Zb,scaleSequentialQuantile:jI,scaleSequentialSqrt:kY,scaleSequentialSymlog:DI,scaleSqrt:c7,scaleSymlog:xI,scaleThreshold:EI,scaleTime:CY,scaleUtc:NY,tickFormat:mI},Symbol.toStringTag,{value:"Module"}));var ya=t=>t.chartData,RY=ne([ya],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),sh=(t,e,n,r)=>r?RY(t):ya(t);function ro(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(_t(e)&&_t(n))return!0}return!1}function B1(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function qI(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(_t(n))i=n;else if(typeof n=="function")return;if(_t(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ro(l))return l}}function IY(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ro(r))return B1(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Se(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&bC.test(i)){var d=bC.exec(i);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Se(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&xC.test(o)){var h=xC.exec(o);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var v=[l,u];if(ro(v))return e==null?v:B1(v,e,n)}}}var qs=1e9,MY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},n0,vt=!0,yr="[DecimalError] ",Za=yr+"Invalid argument: ",t0=yr+"Exponent out of range: ",zs=Math.floor,$a=Math.pow,OY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Wt=1e7,mt=7,zI=9007199254740991,pf=zs(zI/mt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return mi(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return ut(mi(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return Dt(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fn))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(vt=!1,e=mi(vu(n,o),vu(t,o),o),vt=!0,ut(e,i))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GI(e,t):$I(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(yr+"NaN");return n.s?(vt=!1,e=mi(n,t,0,1).times(t),vt=!0,n.minus(e)):ut(new r(n),i)};be.naturalExponential=be.exp=function(){return HI(this)};be.naturalLogarithm=be.ln=function(){return vu(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$I(e,t):GI(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Za+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(yr+"NaN")}for(t=Dt(u),vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=jr(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(mi(u,o,l+2)).times(.5),jr(o.d).slice(0,l)===(e=jr(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ut(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return vt=!0,ut(r,n)};be.times=be.mul=function(t){var e,n,r,i,o,l,u,d,f,h=this,m=h.constructor,v=h.d,w=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,d=v.length,f=w.length,d<f&&(o=v,v=w,w=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)u=o[i]+w[r]*v[i-r-1]+e,o[i--]=u%Wt|0,e=u/Wt|0;o[i]=(o[i]+e)%Wt|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vt?ut(t,m.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qr(t,0,qs),e===void 0?e=r.rounding:qr(e,0,8),ut(n,t+Dt(n)+1,e))};be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=io(r,!0):(qr(t,0,qs),e===void 0?e=i.rounding:qr(e,0,8),r=ut(new i(r),t+1,e),n=io(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?io(i):(qr(t,0,qs),e===void 0?e=o.rounding:qr(e,0,8),r=ut(new o(i),t+Dt(i)+1,e),n=io(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return ut(new e(t),Dt(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,i,o,l,u=this,d=u.constructor,f=12,h=+(t=new d(t));if(!t.s)return new d(Fn);if(u=new d(u),!u.s){if(t.s<1)throw Error(yr+"Infinity");return u}if(u.eq(Fn))return u;if(r=d.precision,t.eq(Fn))return ut(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=h<0?-h:h)<=zI){for(i=new d(Fn),e=Math.ceil(r/mt+4),vt=!1;n%2&&(i=i.times(u),z1(i.d,e)),n=zs(n/2),n!==0;)u=u.times(u),z1(u.d,e);return vt=!0,t.s<0?new d(Fn).div(i):ut(i,r)}}else if(o<0)throw Error(yr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,vt=!1,i=t.times(vu(u,r+f)),vt=!0,i=HI(i),i.s=o,i};be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dt(i),r=io(i,n<=o.toExpNeg||n>=o.toExpPos)):(qr(t,1,qs),e===void 0?e=o.rounding:qr(e,0,8),i=ut(new o(i),t,e),n=Dt(i),r=io(i,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qr(t,1,qs),e===void 0?e=r.rounding:qr(e,0,8)),ut(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return io(t,e<=n.toExpNeg||e>=n.toExpPos)};function $I(t,e){var n,r,i,o,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),vt?ut(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(m/mt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/Wt|0,d[o]%=Wt;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,vt?ut(e,m):e}function qr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Za+t)}function jr(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=mt-r.length,n&&(o+=aa(n)),o+=r;l=t[e],r=l+"",n=mt-r.length,n&&(o+=aa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var mi=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Wt|0,l=o/Wt|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,h,m,v,w,S,T,E,k,P,N,I,R,O,D,q,$=r.constructor,F=r.s==i.s?1:-1,G=r.d,L=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(yr+"Division by zero");for(d=r.e-i.e,D=L.length,R=G.length,w=new $(F),S=w.d=[],f=0;L[f]==(G[f]||0);)++f;if(L[f]>(G[f]||0)&&--d,o==null?P=o=$.precision:l?P=o+(Dt(r)-Dt(i))+1:P=o,P<0)return new $(0);if(P=P/mt+2|0,f=0,D==1)for(h=0,L=L[0],P++;(f<R||h)&&P--;f++)N=h*Wt+(G[f]||0),S[f]=N/L|0,h=N%L|0;else{for(h=Wt/(L[0]+1)|0,h>1&&(L=t(L,h),G=t(G,h),D=L.length,R=G.length),I=D,T=G.slice(0,D),E=T.length;E<D;)T[E++]=0;q=L.slice(),q.unshift(0),O=L[0],L[1]>=Wt/2&&++O;do h=0,u=e(L,T,D,E),u<0?(k=T[0],D!=E&&(k=k*Wt+(T[1]||0)),h=k/O|0,h>1?(h>=Wt&&(h=Wt-1),m=t(L,h),v=m.length,E=T.length,u=e(m,T,v,E),u==1&&(h--,n(m,D<v?q:L,v))):(h==0&&(u=h=1),m=L.slice()),v=m.length,v<E&&m.unshift(0),n(T,m,E),u==-1&&(E=T.length,u=e(L,T,D,E),u<1&&(h++,n(T,D<E?q:L,E))),E=T.length):u===0&&(h++,T=[0]),S[f++]=h,u&&T[0]?T[E++]=G[I]||0:(T=[G[I]],E=1);while((I++<R||T[0]!==void 0)&&P--)}return S[0]||S.shift(),w.e=d,ut(w,l?o+Dt(w)+1:o)}})();function HI(t,e){var n,r,i,o,l,u,d=0,f=0,h=t.constructor,m=h.precision;if(Dt(t)>16)throw Error(t0+Dt(t));if(!t.s)return new h(Fn);for(vt=!1,u=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log($a(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Fn),h.precision=u;;){if(i=ut(i.times(t),u),n=n.times(++d),l=o.plus(mi(i,n,u)),jr(l.d).slice(0,u)===jr(o.d).slice(0,u)){for(;f--;)o=ut(o.times(o),u);return h.precision=m,e==null?(vt=!0,ut(o,m)):o}o=l}}function Dt(t){for(var e=t.e*mt,n=t.d[0];n>=10;n/=10)e++;return e}function hy(t,e,n){if(e>t.LN10.sd())throw vt=!0,n&&(t.precision=n),Error(yr+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function aa(t){for(var e="";t--;)e+="0";return e}function vu(t,e){var n,r,i,o,l,u,d,f,h,m=1,v=10,w=t,S=w.d,T=w.constructor,E=T.precision;if(w.s<1)throw Error(yr+(w.s?"NaN":"-Infinity"));if(w.eq(Fn))return new T(0);if(e==null?(vt=!1,f=E):f=e,w.eq(10))return e==null&&(vt=!0),hy(T,f);if(f+=v,T.precision=f,n=jr(S),r=n.charAt(0),o=Dt(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=jr(w.d),r=n.charAt(0),m++;o=Dt(w),r>1?(w=new T("0."+n),o++):w=new T(r+"."+n.slice(1))}else return d=hy(T,f+2,E).times(o+""),w=vu(new T(r+"."+n.slice(1)),f-v).plus(d),T.precision=E,e==null?(vt=!0,ut(w,E)):w;for(u=l=w=mi(w.minus(Fn),w.plus(Fn),f),h=ut(w.times(w),f),i=3;;){if(l=ut(l.times(h),f),d=u.plus(mi(l,new T(i),f)),jr(d.d).slice(0,f)===jr(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(hy(T,f+2,E).times(o+""))),u=mi(u,new T(m),f),T.precision=E,e==null?(vt=!0,ut(u,E)):u;u=d,i+=2}}function q1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zs(n/mt),t.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=mt;r<i;)t.d.push(+e.slice(r,r+=mt));e=e.slice(r),r=mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vt&&(t.e>pf||t.e<-pf))throw Error(t0+n)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,n){var r,i,o,l,u,d,f,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=mt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/mt),o=m.length,h>=o)return t;for(f=o=m[h],l=1;o>=10;o/=10)l++;r%=mt,i=r-mt+l}if(n!==void 0&&(o=$a(10,l-i-1),u=f/o%10|0,d=e<0||m[h+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/$a(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(o=Dt(t),m.length=1,e=e-o-1,m[0]=$a(10,(mt-e%mt)%mt),t.e=zs(-e/mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=$a(10,mt-r),m[h]=i>0?(f/$a(10,l-i)%$a(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==Wt&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=Wt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(vt&&(t.e>pf||t.e<-pf))throw Error(t0+Dt(t));return t}function GI(t,e){var n,r,i,o,l,u,d,f,h,m,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),vt?ut(e,w):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(w/mt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,e.s=-e.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=Wt-1;--d[o],d[i]+=Wt}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,vt?ut(e,w):e):new v(0)}function io(t,e,n){var r,i=Dt(t),o=jr(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+aa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+aa(-i-1)+o,n&&(r=n-l)>0&&(o+=aa(r))):i>=l?(o+=aa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+aa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=aa(r))),t.s<0?"-"+o:o}function z1(t,e){if(t.length>e)return t.length=e,!0}function FI(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Za+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return q1(l,o.toString())}else if(typeof o!="string")throw Error(Za+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,OY.test(o))q1(l,o);else throw Error(Za+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FI,i.config=i.set=DY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function DY(t){if(!t||typeof t!="object")throw Error(yr+"Object expected");var e,n,r,i=["precision",1,qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Za+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Za+n+": "+r);return this}var n0=FI(MY);Fn=new n0(1);const tt=n0;var jY=t=>t,VI={},KI=t=>t===VI,$1=t=>function e(){return arguments.length===0||arguments.length===1&&KI(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},YI=(t,e)=>t===1?e:$1(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==VI).length;return o>=t?e(...r):YI(t-o,$1(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(h=>KI(h)?u.shift():h);return e(...f,...u)}))}),lh=t=>YI(t.length,t),Pv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},LY=lh((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),UY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return jY;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}},Rv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),WI=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((l,u)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[u])})||(e=i,n=t(...i)),n}};function JI(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function XI(t,e,n){for(var r=new tt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}lh((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});lh((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});lh((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var QI=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},ZI=(t,e,n)=>{if(t.lte(0))return new tt(0);var r=JI(t.toNumber()),i=new tt(10).pow(r),o=t.div(i),l=r!==1?.05:.1,u=new tt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new tt(d.toNumber()):new tt(Math.ceil(d.toNumber()))},BY=(t,e,n)=>{var r=new tt(1),i=new tt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new tt(10).pow(JI(t)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):n||(i=new tt(Math.floor(t)));var l=Math.floor((e-1)/2),u=UY(LY(d=>i.add(new tt(d-l).mul(r)).toNumber()),Pv);return u(0,e)},eM=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var l=ZI(new tt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new tt(0):(u=new tt(e).add(n).div(2),u=u.sub(new tt(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new tt(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?eM(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new tt(d).mul(l)),tickMax:u.add(new tt(f).mul(l))})};function qY(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=QI([e,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Pv(0,r-1).map(()=>1/0)]:[...Pv(0,r-1).map(()=>-1/0),u];return e>n?Rv(d):d}if(l===u)return BY(l,r,i);var{step:f,tickMin:h,tickMax:m}=eM(l,u,o,i,0),v=XI(h,m.add(new tt(.1).mul(f)),f);return e>n?Rv(v):v}function zY(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=QI([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(e,2),d=ZI(new tt(l).sub(o).div(u-1),i,0),f=[...XI(new tt(o),new tt(l),d),l];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Rv(f):f}var $Y=WI(qY),HY=WI(zY),GY=t=>t.rootProps.barCategoryGap,uh=t=>t.rootProps.stackOffset,r0=t=>t.options.chartName,i0=t=>t.rootProps.syncId,tM=t=>t.rootProps.syncMethod,a0=t=>t.options.eventEmitter,FY=t=>t.rootProps.baseValue,pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ci={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$n={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ch=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},VY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ci.angleAxisId,includeHidden:!1,name:void 0,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:void 0,ticks:void 0,type:ci.type,unit:void 0},KY={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:$n.type,unit:void 0},YY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WY={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:"category",unit:void 0},o0=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YY:VY,s0=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?WY:KY,dh=t=>t.polarOptions,l0=ne([Ai,Ci,ln],$K),nM=ne([dh,l0],(t,e)=>{if(t!=null)return fa(t.innerRadius,e,0)}),rM=ne([dh,l0],(t,e)=>{if(t!=null)return fa(t.outerRadius,e,e*.8)}),JY=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},iM=ne([dh],JY);ne([o0,iM],ch);var aM=ne([l0,nM,rM],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([s0,aM],ch);var oM=ne([st,dh,nM,rM,Ai,Ci],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=e;return{cx:fa(l,i,i/2),cy:fa(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Gt=(t,e)=>e,fh=(t,e,n)=>n;function u0(t){return t==null?void 0:t.id}function sM(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=u0(u);f.forEach((m,v)=>{var w=o==null||i?v:String(sn(m,o,null)),S=sn(m,u.dataKey,0),T;l.has(w)?T=l.get(w):T={},Object.assign(T,{[h]:S}),l.set(w,T)})}}),Array.from(l.values())}function c0(t){return t.stackId!=null&&t.dataKey!=null}var hh=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ph(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function XY(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Ft=t=>{var e=st(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$s=t=>t.tooltip.settings.axisId;function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){QY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QY(t,e,n){return(e=ZY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iv=[0,"auto"],qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lM=(t,e)=>t.cartesianAxis.xAxis[e],ki=(t,e)=>{var n=lM(t,e);return n??qn},zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Iv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Au},uM=(t,e)=>t.cartesianAxis.yAxis[e],Pi=(t,e)=>{var n=uM(t,e);return n??zn},tW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},d0=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??tW},bn=(t,e,n)=>{switch(e){case"xAxis":return ki(t,n);case"yAxis":return Pi(t,n);case"zAxis":return d0(t,n);case"angleAxis":return o0(t,n);case"radiusAxis":return s0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nW=(t,e,n)=>{switch(e){case"xAxis":return ki(t,n);case"yAxis":return Pi(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Iu=(t,e,n)=>{switch(e){case"xAxis":return ki(t,n);case"yAxis":return Pi(t,n);case"angleAxis":return o0(t,n);case"radiusAxis":return s0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function dM(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var f0=t=>t.graphicalItems.cartesianItems,rW=ne([Gt,fh],dM),fM=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Mu=ne([f0,bn,rW],fM,{memoizeOptions:{resultEqualityCheck:ph}}),hM=ne([Mu],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(c0)),pM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),iW=ne([Mu],pM),mM=t=>t.map(e=>e.data).filter(Boolean).flat(1),aW=ne([Mu],mM,{memoizeOptions:{resultEqualityCheck:ph}}),gM=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},h0=ne([aW,sh],gM),yM=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:sn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:sn(i,r)}))):t.map(r=>({value:r})),mh=ne([h0,bn,Mu],yM);function vM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Nd(t){if(Ur(t)||t instanceof Date){var e=Number(t);if(_t(e))return e}}function G1(t){if(Array.isArray(t)){var e=[Nd(t[0]),Nd(t[1])];return ro(e)?e:void 0}var n=Nd(t);if(n!=null)return[n,n]}function Si(t){return t.map(Nd).filter(u6)}function oW(t,e,n){return!n||typeof e!="number"||Cr(e)?[]:n.length?Si(n.flatMap(r=>{var i=sn(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!_t(o)||!_t(l)))return[e-o,e+l]})):[]}var Vt=t=>{var e=Ft(t),n=$s(t);return Iu(t,e,n)},bM=ne([Vt],t=>t==null?void 0:t.dataKey),sW=ne([hM,sh,Vt],sM),xM=(t,e,n)=>{var r={},i=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=u.map(u0);return[l,{stackedData:RV(t,d,n),graphicalItems:u}]}))},Mv=ne([sW,hM,uh],xM),wM=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=DV(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},lW=ne([bn],t=>t.allowDataOverflow),p0=t=>{var e;if(t==null||!("domain"in t))return Iv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Si(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Iv},_M=ne([bn],p0),SM=ne([_M,lW],qI),uW=ne([Mv,ya,Gt,SM],wM,{memoizeOptions:{resultEqualityCheck:hh}}),m0=t=>t.errorBars,cW=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>vM(n,r)),gf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},EM=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var f,h,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>vM(i,k)),v=sn(u,(h=e.dataKey)!==null&&h!==void 0?h:d.dataKey),w=oW(u,v,m);if(w.length>=2){var S=Math.min(...w),T=Math.max(...w);(o==null||S<o)&&(o=S),(l==null||T>l)&&(l=T)}var E=G1(v);E!=null&&(o=o==null?E[0]:Math.min(o,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var d=G1(sn(u,e.dataKey));d!=null&&(o=o==null?d[0]:Math.min(o,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),_t(o)&&_t(l))return[o,l]},dW=ne([h0,bn,iW,m0,Gt],EM,{memoizeOptions:{resultEqualityCheck:hh}});function fW(t){var{value:e}=t;if(Ur(e)||e instanceof Date)return e}var hW=(t,e,n)=>{var r=t.map(fW).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&VP(r))?aI(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},TM=t=>t.referenceElements.dots,Hs=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),pW=ne([TM,Gt,fh],Hs),AM=t=>t.referenceElements.areas,mW=ne([AM,Gt,fh],Hs),CM=t=>t.referenceElements.lines,gW=ne([CM,Gt,fh],Hs),NM=(t,e)=>{var n=Si(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yW=ne(pW,Gt,NM),kM=(t,e)=>{var n=Si(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vW=ne([mW,Gt],kM);function bW(t){var e;if(t.x!=null)return Si([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Si(n)}function xW(t){var e;if(t.y!=null)return Si([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Si(n)}var PM=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?bW(r):xW(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wW=ne([gW,Gt],PM),_W=ne(yW,wW,vW,(t,e,n)=>gf(t,n,e)),RM=(t,e,n,r,i,o,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?gf(r,o,i):gf(o,i);return IY(e,f,t.allowDataOverflow)},SW=ne([bn,_M,SM,uW,dW,_W,st,Gt],RM,{memoizeOptions:{resultEqualityCheck:hh}}),EW=[0,1],IM=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,f=zr(e,o);if(f&&u==null){var h;return aI(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?hW(r,t,f):i==="expand"?EW:l}},g0=ne([bn,st,h0,mh,uh,Gt,SW],IM),MM=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Su(o));return u in Ql?u:"point"}}},Ou=ne([bn,st,cM,r0,Gt],MM);function TW(t){if(t!=null){if(t in Ql)return Ql[t]();var e="scale".concat(Su(t));if(e in Ql)return Ql[e]()}}function y0(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=TW(e);if(i!=null){var o=i.domain(n).range(r);return CV(o),o}}}var OM=(t,e,n)=>{var r=p0(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ro(t))return $Y(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ro(t))return HY(t,e.tickCount,e.allowDecimals)}},v0=ne([g0,Iu,Ou],OM),DM=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ro(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return e},AW=ne([bn,g0,v0,Gt],DM),CW=ne(mh,bn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Si(t.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),jM=ne(CW,st,GY,ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!_t(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=fa(n,t*o),u=t*o/2;return u-l-(u-l)/o*l}return 0}),NW=(t,e)=>{var n=ki(t,e);return n==null||typeof n.padding!="string"?0:jM(t,"xAxis",e,n.padding)},kW=(t,e)=>{var n=Pi(t,e);return n==null||typeof n.padding!="string"?0:jM(t,"yAxis",e,n.padding)},PW=ne(ki,NW,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),RW=ne(Pi,kW,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),IW=ne([ln,PW,Jf,Wf,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),MW=ne([ln,st,RW,Jf,Wf,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Du=(t,e,n,r)=>{var i;switch(e){case"xAxis":return IW(t,n,r);case"yAxis":return MW(t,n,r);case"zAxis":return(i=d0(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iM(t);case"radiusAxis":return aM(t,n);default:return}},LM=ne([bn,Du],ch),Gs=ne([bn,Ou,AW,LM],y0);ne([Mu,m0,Gt],cW);function UM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var gh=(t,e)=>e,yh=(t,e,n)=>n,OW=ne(Kf,gh,yh,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(UM)),DW=ne(Yf,gh,yh,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(UM)),BM=(t,e)=>({width:t.width,height:e.height}),jW=(t,e)=>{var n=typeof e.width=="number"?e.width:Au;return{width:n,height:t.height}},LW=ne(ln,ki,BM),UW=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},BW=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},qW=ne(Ci,ln,OW,gh,yh,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=BM(e,u);l==null&&(l=UW(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),zW=ne(Ai,ln,DW,gh,yh,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=jW(e,u);l==null&&(l=BW(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),$W=(t,e)=>{var n=ki(t,e);if(n!=null)return qW(t,n.orientation,n.mirror)},HW=ne([ln,ki,$W,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),GW=(t,e)=>{var n=Pi(t,e);if(n!=null)return zW(t,n.orientation,n.mirror)},FW=ne([ln,Pi,GW,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),VW=ne(ln,Pi,(t,e)=>{var n=typeof e.width=="number"?e.width:Au;return{width:n,height:t.height}}),qM=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=zr(t,r),d=e.map(f=>f.value);if(l&&u&&o==="category"&&i&&VP(d))return d}},b0=ne([st,mh,bn,Gt],qM),zM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=zr(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},x0=ne([st,mh,Iu,Gt],zM),F1=ne([st,nW,Ou,Gs,b0,x0,Du,v0,Gt],(t,e,n,r,i,o,l,u,d)=>{if(e!=null){var f=zr(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),KW=(t,e,n,r,i,o,l,u,d)=>{if(!(e==null||r==null)){var f=zr(t,d),{type:h,ticks:m,tickCount:v}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/w:0;S=d==="angleAxis"&&o!=null&&o.length>=2?dr(o[0]-o[1])*2*S:S;var T=m||i;if(T){var E=T.map((k,P)=>{var N=l?l.indexOf(k):k;return{index:P,coordinate:r(N)+S,value:k,offset:S}});return E.filter(k=>_t(k.coordinate))}return f&&u?u.map((k,P)=>({coordinate:r(k)+S,value:k,index:P,offset:S})).filter(k=>_t(k.coordinate)):r.ticks?r.ticks(v).map(k=>({coordinate:r(k)+S,value:k,offset:S})):r.domain().map((k,P)=>({coordinate:r(k)+S,value:l?l[k]:k,index:P,offset:S}))}},$M=ne([st,Iu,Ou,Gs,v0,Du,b0,x0,Gt],KW),YW=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=zr(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?dr(r[0]-r[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},vh=ne([st,Iu,Gs,Du,b0,x0,Gt],YW),bh=ne(bn,Gs,(t,e)=>{if(!(t==null||e==null))return mf(mf({},t),{},{scale:e})}),WW=ne([bn,Ou,g0,LM],y0);ne((t,e,n)=>d0(t,n),WW,(t,e)=>{if(!(t==null||e==null))return mf(mf({},t),{},{scale:e})});var JW=ne([st,Kf,Yf],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HM=t=>t.options.defaultTooltipEventType,GM=t=>t.options.validateTooltipEventTypes;function FM(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function w0(t,e){var n=HM(t),r=GM(t);return FM(e,n,r)}function XW(t){return Ce(e=>w0(e,t))}var VM=(t,e)=>{var n,r=Number(e);if(!(Cr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},QW=t=>t.tooltip.settings,la={active:!1,index:null,dataKey:void 0,coordinate:void 0},ZW={itemInteraction:{click:la,hover:la},axisInteraction:{click:la,hover:la},keyboardInteraction:la,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KM=kn({name:"tooltip",initialState:ZW,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:zt()},removeTooltipEntrySettings:{reducer(t,e){var n=pi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:eJ,removeTooltipEntrySettings:tJ,setTooltipSettingsState:nJ,setActiveMouseOverItemIndex:rJ,mouseLeaveItem:Jre,mouseLeaveChart:YM,setActiveClickItemIndex:Xre,setMouseOverAxisIndex:WM,setMouseClickAxisIndex:iJ,setSyncInteraction:Ov,setKeyboardInteraction:Dv}=KM.actions,aJ=KM.reducer;function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uJ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cJ(t){return t.index!=null}var JM=(t,e,n,r)=>{if(e==null)return la;var i=uJ(t,e,n);if(i==null)return la;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(cJ(i)){if(o)return Sd(Sd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Sd(Sd({},la),{},{coordinate:i.coordinate})},_0=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!_t(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},XM=(t,e,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},QM=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},ju=t=>t.options.tooltipPayloadSearcher,Fs=t=>t.tooltip;function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return(e=fJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=hJ(t,"string");return typeof e=="symbol"?e:e+""}function hJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJ(t,e){return t??e}var ZM=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return t.reduce((v,w)=>{var S,{dataDefinedOnItem:T,settings:E}=w,k=pJ(T,u),P=Array.isArray(k)?UR(k,f,h):k,N=(S=E==null?void 0:E.dataKey)!==null&&S!==void 0?S:r,I=E==null?void 0:E.nameKey,R;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?R=KP(P,r,i):R=o(P,e,d,I),Array.isArray(R))R.forEach(D=>{var q=Y1(Y1({},E),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(wC({tooltipEntrySettings:q,dataKey:D.dataKey,payload:D.payload,value:sn(D.payload,D.dataKey),name:D.name}))});else{var O;v.push(wC({tooltipEntrySettings:E,dataKey:N,payload:R,value:sn(R,N),name:(O=sn(R,I))!==null&&O!==void 0?O:E==null?void 0:E.name}))}return v},m)}},S0=ne([Vt,st,cM,r0,Ft],MM),mJ=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),gJ=ne([Ft,$s],dM),Lu=ne([mJ,Vt,gJ],fM,{memoizeOptions:{resultEqualityCheck:ph}}),yJ=ne([Lu],t=>t.filter(c0)),vJ=ne([Lu],mM,{memoizeOptions:{resultEqualityCheck:ph}}),Vs=ne([vJ,ya],gM),bJ=ne([yJ,ya,Vt],sM),E0=ne([Vs,Vt,Lu],yM),eO=ne([Vt],p0),xJ=ne([Vt],t=>t.allowDataOverflow),tO=ne([eO,xJ],qI),wJ=ne([Lu],t=>t.filter(c0)),_J=ne([bJ,wJ,uh],xM),SJ=ne([_J,ya,Ft,tO],wM),EJ=ne([Lu],pM),TJ=ne([Vs,Vt,EJ,m0,Ft],EM,{memoizeOptions:{resultEqualityCheck:hh}}),AJ=ne([TM,Ft,$s],Hs),CJ=ne([AJ,Ft],NM),NJ=ne([AM,Ft,$s],Hs),kJ=ne([NJ,Ft],kM),PJ=ne([CM,Ft,$s],Hs),RJ=ne([PJ,Ft],PM),IJ=ne([CJ,RJ,kJ],gf),MJ=ne([Vt,eO,tO,SJ,TJ,IJ,st,Ft],RM),nO=ne([Vt,st,Vs,E0,uh,Ft,MJ],IM),OJ=ne([nO,Vt,S0],OM),DJ=ne([Vt,nO,OJ,Ft],DM),rO=t=>{var e=Ft(t),n=$s(t),r=!1;return Du(t,e,n,r)},iO=ne([Vt,rO],ch),aO=ne([Vt,S0,DJ,iO],y0),jJ=ne([st,E0,Vt,Ft],qM),LJ=ne([st,E0,Vt,Ft],zM),UJ=(t,e,n,r,i,o,l,u)=>{if(e){var{type:d}=e,f=zr(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?dr(i[0]-i[1])*2*m:m,f&&l?l.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:o?o[v]:v,index:w,offset:m}))}}},Ri=ne([st,Vt,S0,aO,rO,jJ,LJ,Ft],UJ),T0=ne([HM,GM,QW],(t,e,n)=>FM(n.shared,t,e)),oO=t=>t.tooltip.settings.trigger,A0=t=>t.tooltip.settings.defaultIndex,xh=ne([Fs,T0,oO,A0],JM),bu=ne([xh,Vs],_0),sO=ne([Ri,bu],VM),BJ=ne([xh],t=>{if(t)return t.dataKey}),lO=ne([Fs,T0,oO,A0],QM),qJ=ne([Ai,Ci,st,ln,Ri,A0,lO,ju],XM),zJ=ne([xh,qJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),$J=ne([xh],t=>t.active),HJ=ne([lO,bu,ya,bM,sO,ju,T0],ZM),GJ=ne([HJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=KJ(t,"string");return typeof e=="symbol"?e:e+""}function KJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YJ=()=>Ce(Vt),WJ=()=>{var t=YJ(),e=Ce(Ri),n=Ce(aO);return As(!t||!n?void 0:J1(J1({},t),{},{scale:n}),e)};function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){JJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJ(t,e,n){return(e=XJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return typeof e=="symbol"?e:e+""}function QJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},eX=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return ls(ls(ls({},r),on(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return ls(ls(ls({},r),on(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tX(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var uO=(t,e,n,r,i)=>{var o,l=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,h=n[d].coordinate,m=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(dr(h-f)!==dr(m-h)){var w=[];if(dr(m-h)===dr(i[1]-i[0])){v=m;var S=h+i[1]-i[0];w[0]=Math.min(S,(S+f)/2),w[1]=Math.max(S,(S+f)/2)}else{v=f;var T=m+i[1]-i[0];w[0]=Math.min(h,(T+h)/2),w[1]=Math.max(h,(T+h)/2)}var E=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>E[0]&&t<=E[1]||t>=w[0]&&t<=w[1]){({index:l}=n[d]);break}}else{var k=Math.min(f,m),P=Math.max(f,m);if(t>(k+h)/2&&t<=(P+h)/2){({index:l}=n[d]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:l}=e[N]);break}}return l},cO=()=>Ce(r0),C0=(t,e)=>e,dO=(t,e,n)=>n,N0=(t,e,n,r)=>r,nX=ne(Ri,t=>qf(t,e=>e.coordinate)),k0=ne([Fs,C0,dO,N0],JM),fO=ne([k0,Vs],_0),rX=(t,e,n)=>{if(e!=null){var r=Fs(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},hO=ne([Fs,C0,dO,N0],QM),yf=ne([Ai,Ci,st,ln,Ri,N0,hO,ju],XM),iX=ne([k0,yf],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),pO=ne([Ri,fO],VM),aX=ne([hO,fO,ya,bM,pO,ju,C0],ZM),oX=ne([k0],t=>({isActive:t.active,activeIndex:t.index})),sX=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&tX(t,l)){var u=jV(t,e),d=uO(u,o,i,n,r),f=ZJ(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},lX=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var u=KK(t,n);if(u){var d=LV(u,e),f=uO(d,l,o,r,i),h=eX(e,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},uX=(t,e,n,r,i,o,l,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?sX(t,e,r,i,o,l,u):lX(t,e,n,r,i,o,l)},cX=ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),dX=ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(pn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:XY}});function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){fX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e,n){return(e=hX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mX={},gX={zIndexMap:Object.values(pn).reduce((t,e)=>Z1(Z1({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),mX)},yX=new Set(Object.values(pn));function vX(t){return yX.has(t)}var mO=kn({name:"zIndex",initialState:gX,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!vX(n)&&delete t.zIndexMap[n])},prepare:zt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:zt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:zt()}}}),{registerZIndexPortal:bX,unregisterZIndexPortal:xX,registerZIndexPortalId:wX,unregisterZIndexPortalId:_X}=mO.actions,SX=mO.reducer;function $r(t){var{zIndex:e,children:n}=t,r=y8(),i=r&&e!==void 0&&e!==0,o=gn(),l=jt();A.useLayoutEffect(()=>i?(l(bX({zIndex:e})),()=>{l(xX({zIndex:e}))}):Us,[l,e,i]);var u=Ce(f=>cX(f,e,o));if(!i)return n;if(!u)return null;var d=document.getElementById(u);return d?hb.createPortal(n,d):null}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(null,arguments)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){EX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=AX(t,"string");return typeof e=="symbol"?e:e+""}function AX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CX(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function NX(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=t,m=n,v=r,w=i;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,T,E;if(h==="ScatterChart")S=m,T=lK,E=pn.cursorLine;else if(h==="BarChart")S=uK(u,m,o,l),T=tI,E=pn.cursorRectangle;else if(u==="radial"&&WP(m)){var{cx:k,cy:P,radius:N,startAngle:I,endAngle:R}=nI(m);S={cx:k,cy:P,startAngle:I,endAngle:R,innerRadius:N,outerRadius:N},T=iI,E=pn.cursorLine}else S={points:XK(u,m,o)},T=ru,E=pn.cursorLine;var O=typeof d=="object"&&"className"in d?d.className:void 0,D=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},o),S),Df(d)),{},{payload:v,payloadIndex:w,className:nt("recharts-tooltip-cursor",O)});return A.createElement($r,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},A.createElement(CX,{cursor:d,cursorComp:T,cursorProps:D}))}function kX(t){var e=WJ(),n=KR(),r=Cu(),i=cO();return e==null||n==null||r==null||i==null?null:A.createElement(NX,jv({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var gO=A.createContext(null),PX=()=>A.useContext(gO),py={exports:{}},tN;function RX(){return tN||(tN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,m||d,v),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],w]:d._events[S].push(w):(d._events[S]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,w=m.length,S=new Array(w);v<w;v++)S[v]=m[v].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,w,S){var T=n?n+f:f;if(!this._events[T])return!1;var E=this._events[T],k=arguments.length,P,N;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),k){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,v),!0;case 5:return E.fn.call(E.context,h,m,v,w),!0;case 6:return E.fn.call(E.context,h,m,v,w,S),!0}for(N=1,P=new Array(k-1);N<k;N++)P[N-1]=arguments[N];E.fn.apply(E.context,P)}else{var I=E.length,R;for(N=0;N<I;N++)switch(E[N].once&&this.removeListener(f,E[N].fn,void 0,!0),k){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,m);break;case 4:E[N].fn.call(E[N].context,h,m,v);break;default:if(!P)for(R=1,P=new Array(k-1);R<k;R++)P[R-1]=arguments[R];E[N].fn.apply(E[N].context,P)}}return!0},u.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===h&&(!v||S.once)&&(!m||S.context===m)&&l(this,w);else{for(var T=0,E=[],k=S.length;T<k;T++)(S[T].fn!==h||v&&!S[T].once||m&&S[T].context!==m)&&E.push(S[T]);E.length?this._events[w]=E.length===1?E[0]:E:l(this,w)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(py)),py.exports}var IX=RX();const MX=Nr(IX);var xu=new MX,Lv="recharts.syncEvent.tooltip",nN="recharts.syncEvent.brush";function OX(t,e){if(e){var n=Number.parseInt(e,10);if(!Cr(n))return t==null?void 0:t[n]}}var DX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yO=kn({name:"options",initialState:DX,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jX=yO.reducer,{createEventEmitter:LX}=yO.actions;function UX(t){return t.tooltip.syncInteraction}var BX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vO=kn({name:"chartData",initialState:BX,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:rN,setDataStartEndIndexes:qX,setComputedData:Qre}=vO.actions,zX=vO.reducer,$X=["x","y"];function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){HX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=FX(t,"string");return typeof e=="symbol"?e:e+""}function FX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VX(t,e){if(t==null)return{};var n,r,i=KX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YX(){var t=Ce(i0),e=Ce(a0),n=jt(),r=Ce(tM),i=Ce(Ri),o=Cu(),l=Xf(),u=Ce(d=>d.rootProps.className);A.useEffect(()=>{if(t==null)return Us;var d=(f,h,m)=>{if(e!==m&&t===f){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var w=h.payload.coordinate,{x:S,y:T}=w,E=VX(w,$X),{x:k,y:P,width:N,height:I}=h.payload.sourceViewBox,R=us(us({},E),{},{x:l.x+(N?(S-k)/N:0)*l.width,y:l.y+(I?(T-P)/I:0)*l.height});n(us(us({},h),{},{payload:us(us({},h.payload),{},{coordinate:R})}))}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},q=r(i,D);O=i[q]}else r==="value"&&(O=i.find(z=>String(z.value)===h.payload.label));var{coordinate:$}=h.payload;if(O==null||h.payload.active===!1||$==null||l==null){n(Ov({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:F,y:G}=$,L=Math.min(F,l.x+l.width),H=Math.min(G,l.y+l.height),ce={x:o==="horizontal"?O.coordinate:L,y:o==="horizontal"?H:O.coordinate},he=Ov({active:h.payload.active,coordinate:ce,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(he)}}};return xu.on(Lv,d),()=>{xu.off(Lv,d)}},[u,n,e,t,r,i,o,l])}function WX(){var t=Ce(i0),e=Ce(a0),n=jt();A.useEffect(()=>{if(t==null)return Us;var r=(i,o,l)=>{e!==l&&t===i&&n(qX(o))};return xu.on(nN,r),()=>{xu.off(nN,r)}},[n,e,t])}function JX(){var t=jt();A.useEffect(()=>{t(LX())},[t]),YX(),WX()}function XX(t,e,n,r,i,o){var l=Ce(w=>rX(w,t,e)),u=Ce(a0),d=Ce(i0),f=Ce(tM),h=Ce(UX),m=h==null?void 0:h.active,v=Xf();A.useEffect(()=>{if(!m&&d!=null&&u!=null){var w=Ov({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});xu.emit(Lv,d,w,u)}},[m,n,l,i,r,u,d,f,o,v])}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){QX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QX(t,e,n){return(e=ZX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=eQ(t,"string");return typeof e=="symbol"?e:e+""}function eQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tQ(t){return t.dataKey}function nQ(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(q8,e)}var sN=[],rQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!co.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function iQ(t){var e,n,r=Jt(t,rQ),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:v,position:w,reverseDirection:S,useTranslate3d:T,wrapperStyle:E,cursor:k,shared:P,trigger:N,defaultIndex:I,portal:R,axisId:O}=r,D=jt(),q=typeof I=="number"?String(I):I;A.useEffect(()=>{D(nJ({shared:P,trigger:N,axisId:O,active:i,defaultIndex:q}))},[D,P,N,O,i,q]);var $=Xf(),F=JR(),G=XW(P),{activeIndex:L,isActive:H}=(e=Ce(me=>oX(me,G,N,q)))!==null&&e!==void 0?e:{},ce=Ce(me=>aX(me,G,N,q)),he=Ce(me=>pO(me,G,N,q)),z=Ce(me=>iX(me,G,N,q)),Z=ce,de=PX(),K=(n=i??H)!==null&&n!==void 0?n:!1,[ue,j]=dR([Z,K]),Y=G==="axis"?he:void 0;XX(G,N,z,Y,L,K);var oe=R??de;if(oe==null||$==null||G==null)return null;var W=Z??sN;K||(W=sN),f&&W.length&&(W=oR(W.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),v,tQ));var fe=W.length>0,pe=A.createElement(K8,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:K,coordinate:z,hasPayload:fe,offset:m,position:w,reverseDirection:S,useTranslate3d:T,viewBox:$,wrapperStyle:E,lastBoundingBox:ue,innerRef:j,hasPortalFromProps:!!R},nQ(d,oN(oN({},r),{},{payload:W,label:Y,active:K,activeIndex:L,coordinate:z,accessibilityLayer:F})));return A.createElement(A.Fragment,null,hb.createPortal(pe,oe),K&&A.createElement(kX,{cursor:k,tooltipEventType:G,coordinate:z,payload:W,index:L}))}function aQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lQ{constructor(e){aQ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cQ(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hQ={cacheSize:2e3,enableCache:!0},bO=uQ({},hQ),uN=new lQ(bO.cacheSize),pQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cN="recharts_measurement_span";function mQ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var dN=(t,e)=>{try{var n=document.getElementById(cN);n||(n=document.createElement("span"),n.setAttribute("id",cN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,pQ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},iu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};if(!bO.enableCache)return dN(e,n);var r=mQ(e,n),i=uN.get(r);if(i)return i;var o=dN(e,n);return uN.set(r,o),o},fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vQ=Object.keys(xO),gs="NaN";function bQ(t,e){return t*xO[e]}class Cn{static parse(e){var n,[,r,i]=(n=yQ.exec(e))!==null&&n!==void 0?n:[];return new Cn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Cr(e)&&(this.unit=""),n!==""&&!gQ.test(n)&&(this.num=NaN,this.unit=""),vQ.includes(n)&&(this.num=bQ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Cn(NaN,""):new Cn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Cn(NaN,""):new Cn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Cn(NaN,""):new Cn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Cn(NaN,""):new Cn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cr(this.num)}}function wO(t){if(t.includes(gs))return gs;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=fN.exec(e))!==null&&n!==void 0?n:[],l=Cn.parse(r??""),u=Cn.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return gs;e=e.replace(fN,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,m,v]=(f=hN.exec(e))!==null&&f!==void 0?f:[],w=Cn.parse(h??""),S=Cn.parse(v??""),T=m==="+"?w.add(S):w.subtract(S);if(T.isNaN())return gs;e=e.replace(hN,T.toString())}return e}var pN=/\(([^()]*)\)/;function xQ(t){for(var e=t,n;(n=pN.exec(e))!=null;){var[,r]=n;e=e.replace(pN,wO(r))}return e}function wQ(t){var e=t.replace(/\s+/g,"");return e=xQ(e),e=wO(e),e}function _Q(t){try{return wQ(t)}catch{return gs}}function my(t){var e=_Q(t.slice(5,-1));return e===gs?"":e}var SQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EQ=["dx","dy","angle","className","breakAll"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(null,arguments)}function mN(t,e){if(t==null)return{};var n,r,i=TQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _O=/[ \f\n\r\t\v\u2028\u2029]+/,SO=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$t(e)||(n?i=e.toString().split(""):i=e.toString().split(_O));var o=i.map(u=>({word:u,width:iu(u,r).width})),l=n?0:iu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function AQ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var EO=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:u}=o,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),TO=t=>t.reduce((e,n)=>e.width>n.width?e:n),CQ="",gN=(t,e,n,r,i,o,l,u)=>{var d=t.slice(0,e),f=SO({breakAll:n,style:r,children:d+CQ});if(!f)return[!1,[]];var h=EO(f.wordsWithComputedWidth,o,l,u),m=h.length>i||TO(h).width>Number(o);return[m,h]},NQ=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=t,f=Se(o),h=String(l),m=EO(e,r,n,i);if(!f||i)return m;var v=m.length>o||TO(m).width>Number(r);if(!v)return m;for(var w=0,S=h.length-1,T=0,E;w<=S&&T<=h.length-1;){var k=Math.floor((w+S)/2),P=k-1,[N,I]=gN(h,P,d,u,o,r,n,i),[R]=gN(h,k,d,u,o,r,n,i);if(!N&&!R&&(w=k+1),N&&R&&(S=k-1),!N&&R){E=I;break}T++}return E||m},yN=t=>{var e=$t(t)?[]:t.toString().split(_O);return[{words:e,width:void 0}]},kQ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!co.isSsr){var u,d,f=SO({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,d=m}else return yN(r);return NQ({breakAll:o,children:r,maxLines:l,style:i},u,d,e,!!n)}return yN(r)},AO="#808080",PQ={breakAll:!1,capHeight:"0.71em",fill:AO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},P0=A.forwardRef((t,e)=>{var n=Jt(t,PQ),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,m=mN(n,SQ),v=A.useMemo(()=>kQ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:w,dy:S,angle:T,className:E,breakAll:k}=m,P=mN(m,EQ);if(!Ur(r)||!Ur(i)||v.length===0)return null;var N=Number(r)+(Se(w)?w:0),I=Number(i)+(Se(S)?S:0);if(!_t(N)||!_t(I))return null;var R;switch(h){case"start":R=my("calc(".concat(l,")"));break;case"middle":R=my("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:R=my("calc(".concat(v.length-1," * -").concat(o,")"));break}var O=[];if(d){var D=v[0].width,{width:q}=m;O.push("scale(".concat(Se(q)&&Se(D)?q/D:1,")"))}return T&&O.push("rotate(".concat(T,", ").concat(N,", ").concat(I,")")),O.length&&(P.transform=O.join(" ")),A.createElement("text",Uv({},mn(P),{ref:e,x:N,y:I,className:nt("recharts-text",E),textAnchor:f,fill:u.includes("url")?AO:u}),v.map(($,F)=>{var G=$.words.join(k?"":" ");return A.createElement("tspan",{x:N,dy:F===0?R:o,key:"".concat(G,"-").concat(F)},G)}))});P0.displayName="Text";var RQ=["labelRef"];function IQ(t,e){if(t==null)return{};var n,r,i=MQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return(e=DQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(){return di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},di.apply(null,arguments)}var CO=A.createContext(null),LQ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=t,d=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[e,n,r,i,o,l]);return A.createElement(CO.Provider,{value:d},u)},NO=()=>{var t=A.useContext(CO),e=Xf();return t||VR(e)},UQ=A.createContext(null),BQ=()=>{var t=A.useContext(UQ),e=Ce(oM);return t||e},qQ=t=>{var{value:e,formatter:n}=t,r=$t(t.children)?e:t.children;return typeof n=="function"?n(r):r},R0=t=>t!=null&&typeof t=="function",zQ=(t,e)=>{var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$Q=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,clockWise:w}=i,S=(f+h)/2,T=zQ(m,v),E=T>=0?1:-1,k,P;switch(e){case"insideStart":k=m+E*o,P=w;break;case"insideEnd":k=v-E*o,P=!w;break;case"end":k=v+E*o,P=w;break;default:throw new Error("Unsupported position ".concat(e))}P=T<=0?P:!P;var N=on(u,d,S,k),I=on(u,d,S,k+(P?1:-1)*359),R="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),O=$t(t.id)?uu("recharts-radial-line-"):t.id;return A.createElement("text",di({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:O,d:R})),A.createElement("textPath",{xlinkHref:"#".concat(O)},n))},HQ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=t,f=(u+d)/2;if(n==="outside"){var{x:h,y:m}=on(r,i,l+e,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:w,y:S}=on(r,i,v,f);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Bv=t=>"cx"in t&&Se(t.cx),GQ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Bv(n)&&(o=n);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:h}=e,m=l,v=l+(d-f)/2,w=(m+v)/2,S=(d+f)/2,T=m+d/2,E=h>=0?1:-1,k=E*r,P=E>0?"end":"start",N=E>0?"start":"end",I=d>=0?1:-1,R=I*r,O=I>0?"end":"start",D=I>0?"start":"end";if(i==="top"){var q={x:m+d/2,y:u-k,textAnchor:"middle",verticalAnchor:P};return Ct(Ct({},q),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var $={x:v+f/2,y:u+h+k,textAnchor:"middle",verticalAnchor:N};return Ct(Ct({},$),o?{height:Math.max(o.y+o.height-(u+h),0),width:f}:{})}if(i==="left"){var F={x:w-R,y:u+h/2,textAnchor:O,verticalAnchor:"middle"};return Ct(Ct({},F),o?{width:Math.max(F.x-o.x,0),height:h}:{})}if(i==="right"){var G={x:w+S+R,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return Ct(Ct({},G),o?{width:Math.max(o.x+o.width-G.x,0),height:h}:{})}var L=o?{width:S,height:h}:{};return i==="insideLeft"?Ct({x:w+R,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},L):i==="insideRight"?Ct({x:w+S-R,y:u+h/2,textAnchor:O,verticalAnchor:"middle"},L):i==="insideTop"?Ct({x:m+d/2,y:u+k,textAnchor:"middle",verticalAnchor:N},L):i==="insideBottom"?Ct({x:v+f/2,y:u+h-k,textAnchor:"middle",verticalAnchor:P},L):i==="insideTopLeft"?Ct({x:m+R,y:u+k,textAnchor:D,verticalAnchor:N},L):i==="insideTopRight"?Ct({x:m+d-R,y:u+k,textAnchor:O,verticalAnchor:N},L):i==="insideBottomLeft"?Ct({x:v+R,y:u+h-k,textAnchor:D,verticalAnchor:P},L):i==="insideBottomRight"?Ct({x:v+f-R,y:u+h-k,textAnchor:O,verticalAnchor:P},L):i&&typeof i=="object"&&(Se(i.x)||vi(i.x))&&(Se(i.y)||vi(i.y))?Ct({x:l+fa(i.x,S),y:u+fa(i.y,h),textAnchor:"end",verticalAnchor:"end"},L):Ct({x:T,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},L)},FQ={offset:5,zIndex:pn.label};function oa(t){var e=Jt(t,FQ),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=e,h=BQ(),m=NO(),v=r==="center"?m:h??m,w,S,T;if(n==null?w=v:Bv(n)?w=n:w=VR(n),!w||$t(i)&&$t(o)&&!A.isValidElement(l)&&typeof l!="function")return null;var E=Ct(Ct({},e),{},{viewBox:w});if(A.isValidElement(l)){var{labelRef:k}=E,P=IQ(E,RQ);return A.cloneElement(l,P)}if(typeof l=="function"){if(S=A.createElement(l,E),A.isValidElement(S))return S}else S=qQ(e);var N=mn(e);if(Bv(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $Q(e,r,S,N,w);T=HQ(w,e.offset,e.position)}else T=GQ(e,w);return A.createElement($r,{zIndex:e.zIndex},A.createElement(P0,di({ref:f,className:nt("recharts-label",u)},N,T,{textAnchor:AQ(N.textAnchor)?N.textAnchor:T.textAnchor,breakAll:d}),S))}oa.displayName="Label";var VQ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(oa,di({key:"label-implicit"},r)):Ur(t)?A.createElement(oa,di({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===oa?A.cloneElement(t,Ct({key:"label-implicit"},r)):A.createElement(oa,di({key:"label-implicit",content:t},r)):R0(t)?A.createElement(oa,di({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(oa,di({},t,{key:"label-implicit"},r)):null};function KQ(t){var{label:e,labelRef:n}=t,r=NO();return VQ(e,r,n)||null}var gy={},yy={},bN;function YQ(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(yy)),yy}var vy={},xN;function WQ(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(vy)),vy}var wN;function JQ(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YQ(),n=WQ(),r=_b();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(gy)),gy}var by,_N;function XQ(){return _N||(_N=1,by=JQ().last),by}var QQ=XQ();const ZQ=Nr(QQ);var eZ=["valueAccessor"],tZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(null,arguments)}function SN(t,e){if(t==null)return{};var n,r,i=nZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rZ=t=>Array.isArray(t.value)?ZQ(t.value):t.value,kO=A.createContext(void 0),PO=kO.Provider,RO=A.createContext(void 0);RO.Provider;function iZ(){return A.useContext(kO)}function aZ(){return A.useContext(RO)}function kd(t){var{valueAccessor:e=rZ}=t,n=SN(t,eZ),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,d=SN(n,tZ),f=iZ(),h=aZ(),m=f||h;return!m||!m.length?null:A.createElement($r,{zIndex:u??pn.label},A.createElement(mr,{className:"recharts-label-list"},m.map((v,w)=>{var S,T=$t(r)?e(v,w):sn(v&&v.payload,r),E=$t(o)?{}:{id:"".concat(o,"-").concat(w)};return A.createElement(oa,vf({key:"label-".concat(w)},mn(v),d,E,{fill:(S=n.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:T,textBreakAll:l,viewBox:v.viewBox,index:w,zIndex:0}))})))}kd.displayName="LabelList";function IO(t){var{label:e}=t;return e?e===!0?A.createElement(kd,{key:"labelList-implicit"}):A.isValidElement(e)||R0(e)?A.createElement(kd,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(kd,vf({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}var MO=t=>{var{cx:e,cy:n,r,className:i}=t,o=nt("recharts-dot",i);return Se(e)&&Se(n)&&Se(r)?A.createElement("circle",qv({},pr(t),wb(t),{className:o,cx:e,cy:n,r})):null},oZ={radiusAxis:{},angleAxis:{}},OO=kn({name:"polarAxis",initialState:oZ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zre,removeRadiusAxis:eie,addAngleAxis:tie,removeAngleAxis:nie}=OO.actions,sZ=OO.reducer,I0=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,xy={},EN;function lZ(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(xy)),xy}var wy,TN;function uZ(){return TN||(TN=1,wy=lZ().isPlainObject),wy}var cZ=uZ();const dZ=Nr(cZ);function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){fZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fZ(t,e,n){return(e=hZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=pZ(t,"string");return typeof e=="symbol"?e:e+""}function pZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bf.apply(null,arguments)}var NN=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},mZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gZ=t=>{var e=Jt(t,mZ),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=e,v=A.useRef(null),[w,S]=A.useState(-1),T=A.useRef(i),E=A.useRef(o),k=A.useRef(l),P=A.useRef(n),N=A.useRef(r),I=eh(t,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ce=v.current.getTotalLength();ce&&S(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var R=nt("recharts-trapezoid",u);if(!m)return A.createElement("g",null,A.createElement("path",bf({},mn(e),{className:R,d:NN(n,r,i,o,l)})));var O=T.current,D=E.current,q=k.current,$=P.current,F=N.current,G="0px ".concat(w===-1?1:w,"px"),L="".concat(w,"px 0px"),H=XR(["strokeDasharray"],f,d);return A.createElement(Zf,{animationId:I,key:I,canBegin:w>0,duration:f,easing:d,isActive:m,begin:h},ce=>{var he=Ot(O,i,ce),z=Ot(D,o,ce),Z=Ot(q,l,ce),de=Ot($,n,ce),K=Ot(F,r,ce);v.current&&(T.current=he,E.current=z,k.current=Z,P.current=de,N.current=K);var ue=ce>0?{transition:H,strokeDasharray:L}:{strokeDasharray:G};return A.createElement("path",bf({},mn(e),{className:R,d:NN(de,K,he,z,Z),ref:v,style:CN(CN({},ue),e.style)}))})},yZ=["option","shapeType","propTransformer","activeClassName","isActive"];function vZ(t,e){if(t==null)return{};var n,r,i=bZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){xZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e,n){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=_Z(t,"string");return typeof e=="symbol"?e:e+""}function _Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SZ(t,e){return xf(xf({},e),t)}function EZ(t,e){return t==="symbols"}function PN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(tI,n);case"trapezoid":return A.createElement(gZ,n);case"sector":return A.createElement(iI,n);case"symbols":if(EZ(e))return A.createElement(xb,n);break;case"curve":return A.createElement(ru,n);default:return null}}function TZ(t){return A.isValidElement(t)?t.props:t}function AZ(t){var{option:e,shapeType:n,propTransformer:r=SZ,activeClassName:i="recharts-active-shape",isActive:o}=t,l=vZ(t,yZ),u;if(A.isValidElement(e))u=A.cloneElement(e,xf(xf({},l),TZ(e)));else if(typeof e=="function")u=e(l);else if(dZ(e)&&typeof e!="boolean"){var d=r(e,l);u=A.createElement(PN,{shapeType:n,elementProps:d})}else{var f=l;u=A.createElement(PN,{shapeType:n,elementProps:f})}return o?A.createElement(mr,{className:i},u):u}function DO(t){var{fn:e,args:n}=t,r=jt(),i=gn();return A.useLayoutEffect(()=>{if(!i){var o=e(n);return r(eJ(o)),()=>{r(tJ(o))}}},[e,n,r,i]),null}function jO(t){var{legendPayload:e}=t,n=jt(),r=gn();return A.useLayoutEffect(()=>r?Us:(n(x8(e)),()=>{n(w8(e))}),[n,r,e]),null}var _y,CZ=()=>{var[t]=A.useState(()=>uu("uid-"));return t},NZ=(_y=Hj.useId)!==null&&_y!==void 0?_y:CZ;function LO(t,e){var n=NZ();return e||(t?"".concat(t,"-").concat(n):n)}var kZ=A.createContext(void 0),UO=t=>{var{id:e,type:n,children:r}=t,i=LO("recharts-".concat(n),e);return A.createElement(kZ.Provider,{value:i},r(i))},PZ={cartesianItems:[],polarItems:[]},BO=kn({name:"graphicalItems",initialState:PZ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=pi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=pi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(t,e){var n=pi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:zt()}}}),{addCartesianGraphicalItem:RZ,replaceCartesianGraphicalItem:IZ,removeCartesianGraphicalItem:MZ,addPolarGraphicalItem:rie,removePolarGraphicalItem:iie}=BO.actions,OZ=BO.reducer;function qO(t){var e=jt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(RZ(t)):n.current!==t&&e(IZ({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(MZ(n.current)),n.current=null)},[e]),null}var DZ=["points"];function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=LZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(null,arguments)}function BZ(t,e){if(t==null)return{};var n,r,i=qZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zZ(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=nt(r,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,u=BZ(o,DZ);return A.createElement(MO,wf({},u,{className:i}))}function $Z(t,e){return t==null?!1:e?!0:t.length===1}function zO(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:d,zIndex:f=pn.scatter}=t;if(!$Z(e,n))return null;var h=I0(n),m=yG(n),v=e.map((S,T)=>{var E,k,P=Sy(Sy(Sy({r:3},l),m),{},{index:T,cx:(E=S.x)!==null&&E!==void 0?E:void 0,cy:(k=S.y)!==null&&k!==void 0?k:void 0,dataKey:o,value:S.value,payload:S.payload,points:e});return A.createElement(zZ,{key:"dot-".concat(T),option:n,dotProps:P,className:i})}),w={};return u&&d!=null&&(w.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),A.createElement($r,{zIndex:f},A.createElement(mr,wf({className:r},w),v))}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){HZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HZ(t,e,n){return(e=GZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VZ={xAxis:{},yAxis:{},zAxis:{}},$O=kn({name:"cartesianAxis",initialState:VZ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=MN(MN({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:KZ,removeXAxis:YZ,addYAxis:WZ,removeYAxis:JZ,addZAxis:aie,removeZAxis:oie,updateYAxisWidth:XZ}=$O.actions,QZ=$O.reducer,ZZ=ne([ln],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),eee=ne([ZZ,Ai,Ci],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),wh=()=>Ce(eee),tee=()=>Ce(GJ);function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nee(t,e,n){return(e=ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ree(t){var e=iee(t,"string");return typeof e=="symbol"?e:e+""}function iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aee=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=Ey(Ey(Ey({},l),Df(i)),wb(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,u):typeof i=="function"?d=i(u):d=A.createElement(MO,u),A.createElement(mr,{className:"recharts-active-dot"},d)};function zv(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:o=pn.activeDot}=t,l=Ce(bu),u=tee();if(e==null||u==null)return null;var d=e.find(f=>u.includes(f.payload));return $t(d)?null:A.createElement($r,{zIndex:o},A.createElement(aee,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var oee={},HO=kn({name:"errorBars",initialState:oee,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sie,replaceErrorBar:lie,removeErrorBar:uie}=HO.actions,see=HO.reducer,lee=["children"];function uee(t,e){if(t==null)return{};var n,r,i=cee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dee={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fee=A.createContext(dee);function hee(t){var{children:e}=t,n=uee(t,lee);return A.createElement(fee.Provider,{value:n},e)}function M0(t,e){var n,r,i=Ce(f=>ki(f,t)),o=Ce(f=>Pi(f,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:qn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function GO(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=wh(),{needClipX:o,needClipY:l,needClip:u}=M0(e,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?d:d-h/2,y:l?f:f-m/2,width:o?h:h*2,height:l?m:m*2}))}var pee=t=>{var{chartData:e}=t,n=jt(),r=gn();return A.useEffect(()=>r?()=>{}:(n(rN(e)),()=>{n(rN(void 0))}),[e,n,r]),null},DN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FO=kn({name:"brush",initialState:DN,reducers:{setBrushSettings(t,e){return e.payload==null?DN:e.payload}}}),{setBrushSettings:cie}=FO.actions,mee=FO.reducer;function gee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=vee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class O0{static create(e){return new O0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}gee(O0,"EPS",1e-4);function bee(t){return(t%180+180)%180}var xee=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=bee(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},wee={dots:[],areas:[],lines:[]},VO=kn({name:"referenceElements",initialState:wee,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=pi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=pi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=pi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:die,removeDot:fie,addArea:hie,removeArea:pie,addLine:mie,removeLine:gie}=VO.actions,_ee=VO.reducer,See=A.createContext(void 0),Eee=t=>{var{children:e}=t,[n]=A.useState("".concat(uu("recharts"),"-clip")),r=wh();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return A.createElement(See.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:l}))),e)};function Rs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function KO(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Tee(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xee(r,n)}function Aee(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:u}=t;return e===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function _f(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Cee(t,e){return KO(t,e+1)}function Nee(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=e,d=0,f=1,h=l,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:KO(r,f)};var T=d,E,k=()=>(E===void 0&&(E=n(S,T)),E),P=S.coordinate,N=d===0||_f(t,P,k,h,u);N||(d=0,h=l,f+=1),N&&(h=P+t*(k()/2+i),d+=f)},v;f<=o.length;)if(v=m(),v)return v.v;return[]}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iee(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=e,{end:d}=e,f=function(v){var w=o[v],S,T=()=>(S===void 0&&(S=n(w,v)),S);if(v===l-1){var E=t*(w.coordinate+t*T()/2-d);o[v]=w=dn(dn({},w),{},{tickCoord:E>0?w.coordinate-E*t:w.coordinate})}else o[v]=w=dn(dn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var k=_f(t,w.tickCoord,T,u,d);k&&(d=w.tickCoord-t*(T()/2+i),o[v]=dn(dn({},w),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return o}function Mee(t,e,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=e;if(o){var h=r[u-1],m=n(h,u-1),v=t*(h.coordinate+t*m/2-f);if(l[u-1]=h=dn(dn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var w=_f(t,h.tickCoord,()=>m,d,f);w&&(f=h.tickCoord-t*(m/2+i),l[u-1]=dn(dn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,T=function(P){var N=l[P],I,R=()=>(I===void 0&&(I=n(N,P)),I);if(P===0){var O=t*(N.coordinate-t*R()/2-d);l[P]=N=dn(dn({},N),{},{tickCoord:O<0?N.coordinate-O*t:N.coordinate})}else l[P]=N=dn(dn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=_f(t,N.tickCoord,R,d,f);D&&(d=N.tickCoord+t*(R()/2+i),l[P]=dn(dn({},N),{},{isShow:!0}))}},E=0;E<S;E++)T(E);return l}function D0(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Se(d)||co.isSsr){var v;return(v=Cee(i,Se(d)?d:0))!==null&&v!==void 0?v:[]}var w=[],S=u==="top"||u==="bottom"?"width":"height",T=h&&S==="width"?iu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(N,I)=>{var R=typeof f=="function"?f(N.value,I):N.value;return S==="width"?Tee(iu(R,{fontSize:e,letterSpacing:n}),T,m):iu(R,{fontSize:e,letterSpacing:n})[S]},k=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,P=Aee(o,k,S);return d==="equidistantPreserveStart"?Nee(k,P,E,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=Mee(k,P,E,i,l,d==="preserveStartEnd"):w=Iee(k,P,E,i,l),w.filter(N=>N.isShow))}var Oee=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},Dee=["axisLine","width","height","className","hide","ticks","axisType"],jee=["viewBox"],Lee=["viewBox"];function $v(t,e){if(t==null)return{};var n,r,i=Uee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(null,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pn.axis};function $ee(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var f=Mt(Mt(Mt({},d),pr(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);f=Mt(Mt({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Mt(Mt({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return A.createElement("line",ao({},f,{className:nt("recharts-cartesian-axis-line",Bf(u,"className"))}))}function Hee(t,e,n,r,i,o,l,u,d){var f,h,m,v,w,S,T=u?-1:1,E=t.tickSize||l,k=Se(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,v=n+ +!u*i,m=v-T*E,S=m-T*d,w=k;break;case"left":m=v=t.coordinate,h=e+ +!u*r,f=h-T*E,w=f-T*d,S=k;break;case"right":m=v=t.coordinate,h=e+ +u*r,f=h+T*E,w=f+T*d,S=k;break;default:f=h=t.coordinate,v=n+ +u*i,m=v+T*E,S=m+T*d,w=k;break}return{line:{x1:f,y1:m,x2:h,y2:v},tick:{x:w,y:S}}}function Gee(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Fee(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Vee(t){var{option:e,tickProps:n,value:r}=t,i,o=nt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Mt(Mt({},n),{},{className:o}));else if(typeof e=="function")i=e(Mt(Mt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=nt(l,e==null?void 0:e.className)),i=A.createElement(P0,ao({},n,{className:l}),r)}return i}var Kee=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:m,x:v,y:w,width:S,height:T,tickSize:E,tickMargin:k,fontSize:P,letterSpacing:N,getTicksConfig:I,events:R,axisType:O}=t,D=D0(Mt(Mt({},I),{},{ticks:n}),P,N),q=Gee(h,m),$=Fee(h,m),F=pr(I),G=Df(r),L={};typeof i=="object"&&(L=i);var H=Mt(Mt({},F),{},{fill:"none"},L),ce=D.map(Z=>Mt({entry:Z},Hee(Z,v,w,S,T,h,E,m,k))),he=ce.map(Z=>{var{entry:de,line:K}=Z;return A.createElement(mr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},i&&A.createElement("line",ao({},H,K,{className:nt("recharts-cartesian-axis-tick-line",Bf(i,"className"))})))}),z=ce.map((Z,de)=>{var{entry:K,tick:ue}=Z,j=Mt(Mt(Mt(Mt({textAnchor:q,verticalAnchor:$},F),{},{stroke:"none",fill:o},G),ue),{},{index:de,payload:K,visibleTicksCount:D.length,tickFormatter:l,padding:d},f);return A.createElement(mr,ao({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},JP(R,K,de)),r&&A.createElement(Vee,{option:r,tickProps:j,value:"".concat(typeof l=="function"?l(K.value,de):K.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},z.length>0&&A.createElement($r,{zIndex:pn.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},z)),he.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},he))}),Yee=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:d}=t,f=$v(t,Dee),[h,m]=A.useState(""),[v,w]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Oee({ticks:S.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var T=A.useCallback(E=>{if(E){var k=E.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=k;var P=k[0];if(P){var N=window.getComputedStyle(P),I=N.fontSize,R=N.letterSpacing;(I!==h||R!==v)&&(m(I),w(R))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement($r,{zIndex:t.zIndex},A.createElement(mr,{className:nt("recharts-cartesian-axis",o)},A.createElement($ee,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:pr(t)}),A.createElement(Kee,{ref:T,axisType:d,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(LQ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(KQ,{label:t.label,labelRef:t.labelRef}),t.children)))}),Wee=A.memo(Yee,(t,e)=>{var{viewBox:n}=t,r=$v(t,jee),{viewBox:i}=e,o=$v(e,Lee);return Rs(n,i)&&Rs(r,o)}),L0=A.forwardRef((t,e)=>{var n=Jt(t,j0);return A.createElement(Wee,ao({},n,{ref:e}))});L0.displayName="CartesianAxis";var Jee=["x1","y1","x2","y2","key"],Xee=["offset"],Qee=["xAxisId","yAxisId"],Zee=["xAxisId","yAxisId"];function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(null,arguments)}function Sf(t,e){if(t==null)return{};var n,r,i=rte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ite=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=t;return A.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YO(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:l,x2:u,y2:d,key:f}=n,h=Sf(n,Jee),m=(i=pr(h))!==null&&i!==void 0?i:{},{offset:v}=m,w=Sf(m,Xee);r=A.createElement("line",Wa({},w,{x1:o,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function ate(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=Sf(t,Qee),d=i.map((f,h)=>{var m=fn(fn({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(YO,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ote(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=Sf(t,Zee),d=i.map((f,h)=>{var m=fn(fn({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return A.createElement(YO,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ste(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var w=!f[v+1],S=w?i+l-m:f[v+1]-m;if(S<=0)return null;var T=v%e.length;return A.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:S,width:o,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lte(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var h=f.map((m,v)=>{var w=!f[v+1],S=w?i+l-m:f[v+1]-m;if(S<=0)return null;var T=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:S,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ute=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return BR(D0(fn(fn(fn({},j0),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},cte=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return BR(D0(fn(fn(fn({},j0),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},dte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pn.grid};function WO(t){var e=Pb(),n=Rb(),r=KR(),i=fn(fn({},Jt(t,dte)),{},{x:Se(t.x)?t.x:r.left,y:Se(t.y)?t.y:r.top,width:Se(t.width)?t.width:r.width,height:Se(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:w}=i,S=gn(),T=Ce($=>F1($,"xAxis",o,S)),E=Ce($=>F1($,"yAxis",l,S));if(!Br(f)||!Br(h)||!Se(u)||!Se(d))return null;var k=i.verticalCoordinatesGenerator||ute,P=i.horizontalCoordinatesGenerator||cte,{horizontalPoints:N,verticalPoints:I}=i;if((!N||!N.length)&&typeof P=="function"){var R=v&&v.length,O=P({yAxis:E?fn(fn({},E),{},{ticks:R?v:E.ticks}):void 0,width:e??f,height:n??h,offset:r},R?!0:m);Qd(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(N=O)}if((!I||!I.length)&&typeof k=="function"){var D=w&&w.length,q=k({xAxis:T?fn(fn({},T),{},{ticks:D?w:T.ticks}):void 0,width:e??f,height:n??h,offset:r},D?!0:m);Qd(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(I=q)}return A.createElement($r,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(ite,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(ste,Wa({},i,{horizontalPoints:N})),A.createElement(lte,Wa({},i,{verticalPoints:I})),A.createElement(ate,Wa({},i,{offset:r,horizontalPoints:N,xAxis:T,yAxis:E})),A.createElement(ote,Wa({},i,{offset:r,verticalPoints:I,xAxis:T,yAxis:E}))))}WO.displayName="CartesianGrid";var JO=(t,e,n,r)=>bh(t,"xAxis",e,r),XO=(t,e,n,r)=>vh(t,"xAxis",e,r),QO=(t,e,n,r)=>bh(t,"yAxis",n,r),ZO=(t,e,n,r)=>vh(t,"yAxis",n,r),fte=ne([st,JO,QO,XO,ZO],(t,e,n,r,i)=>zr(t,"xAxis")?As(e,r,!1):As(n,i,!1)),hte=(t,e,n,r,i)=>i;function pte(t){return t.type==="line"}var mte=ne([f0,hte],(t,e)=>t.filter(pte).find(n=>n.id===e)),gte=ne([st,JO,QO,XO,ZO,mte,fte,sh],(t,e,n,r,i,o,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=u;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:m,data:v}=o,w;if(v!=null&&v.length>0?w=v:w=d==null?void 0:d.slice(f,h+1),w!=null)return jte({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:w})}});function eD(t){var e=Df(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var yte=["id"],vte=["type","layout","connectNulls","needClip","shape"],bte=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(null,arguments)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U0(t,e){if(t==null)return{};var n,r,i=Ste(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ste(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ete=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Vf(n,e),payload:t}]};function Tte(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Vf(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:d}}}var tD=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ate(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Cte=(t,e,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return tD(e,t);for(var i=Math.floor(t/r),o=t%r,l=e-t,u=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>o){u=[...n.slice(0,d),o-f];break}var h=u.length%2===0?[0,l]:[l];return[...Ate(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Nte(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:l}=r,{id:u}=r,d=U0(r,yte),f=pr(d);return A.createElement(zO,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:f,needClip:l,clipPathId:e})}function kte(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,d={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Dr(Dr({},d),{},{value:o.value,payload:o.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(PO,{value:e?i:void 0},n)}function qN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o}=t,{type:l,layout:u,connectNulls:d,needClip:f,shape:h}=o,m=U0(o,vte),v=Dr(Dr({},mn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??o.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(AZ,wu({shapeType:"curve",option:h},v,{pathRef:n})),A.createElement(Nte,{points:r,clipPathId:e,props:o}))}function Pte(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Rte(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:v,width:w,height:S,onAnimationEnd:T,onAnimationStart:E}=n,k=i.current,P=eh(n,"recharts-line-"),[N,I]=A.useState(!1),R=!N,O=A.useCallback(()=>{typeof T=="function"&&T(),I(!1)},[T]),D=A.useCallback(()=>{typeof E=="function"&&E(),I(!0)},[E]),q=Pte(r.current),$=o.current;return A.createElement(kte,{points:l,showLabels:R},n.children,A.createElement(Zf,{animationId:P,begin:f,duration:h,isActive:d,easing:m,onAnimationEnd:O,onAnimationStart:D,key:P},F=>{var G=Ot($,q+$,F),L=Math.min(G,q),H;if(d)if(u){var ce="".concat(u).split(/[,\s]+/gim).map(Z=>parseFloat(Z));H=Cte(L,q,ce)}else H=tD(q,L);else H=u==null?void 0:String(u);if(k){var he=k.length/l.length,z=F===1?l:l.map((Z,de)=>{var K=Math.floor(de*he);if(k[K]){var ue=k[K];return Dr(Dr({},Z),{},{x:Ot(ue.x,Z.x,F),y:Ot(ue.y,Z.y,F)})}return v?Dr(Dr({},Z),{},{x:Ot(w*2,Z.x,F),y:Ot(S/2,Z.y,F)}):Dr(Dr({},Z),{},{x:Z.x,y:Z.y})});return i.current=z,A.createElement(qN,{props:n,points:z,clipPathId:e,pathRef:r,strokeDasharray:H})}return F>0&&q>0&&(i.current=l,o.current=L),A.createElement(qN,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:H})}),A.createElement(IO,{label:n.label}))}function Ite(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),o=A.useRef(null);return A.createElement(Rte,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Mte=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:sn(t.payload,e)}};class Ote extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:d,width:f,height:h,id:m,needClip:v,zIndex:w}=this.props;if(e)return null;var S=nt("recharts-line",i),T=m,{r:E,strokeWidth:k}=eD(n),P=I0(n),N=E*2+k;return A.createElement($r,{zIndex:w},A.createElement(mr,{className:S},v&&A.createElement("defs",null,A.createElement(GO,{clipPathId:T,xAxisId:o,yAxisId:l}),!P&&A.createElement("clipPath",{id:"clipPath-dots-".concat(T)},A.createElement("rect",{x:d-N/2,y:u-N/2,width:f+N,height:h+N}))),A.createElement(hee,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:Mte,errorBarOffset:0},A.createElement(Ite,{props:this.props,clipPathId:T}))),A.createElement(zv,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var nD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!co.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pn.line};function Dte(t){var e=Jt(t,nD),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:h,label:m,legendType:v,xAxisId:w,yAxisId:S,id:T}=e,E=U0(e,bte),{needClip:k}=M0(w,S),P=wh(),N=Cu(),I=gn(),R=Ce(F=>gte(F,w,S,I,T));if(N!=="horizontal"&&N!=="vertical"||R==null||P==null)return null;var{height:O,width:D,x:q,y:$}=P;return A.createElement(Ote,wu({},E,{id:T,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:v,xAxisId:w,yAxisId:S,points:R,layout:N,height:O,width:D,left:q,top:$,needClip:k}))}function jte(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((f,h)=>{var m=sn(f,l);if(e==="horizontal"){var v=Xd({axis:n,ticks:i,bandSize:u,entry:f,index:h}),w=$t(m)?null:r.scale(m);return{x:v,y:w,value:m,payload:f}}var S=$t(m)?null:n.scale(m),T=Xd({axis:r,ticks:o,bandSize:u,entry:f,index:h});return S==null||T==null?null:{x:S,y:T,value:m,payload:f}}).filter(Boolean)}function Lte(t){var e=Jt(t,nD),n=gn();return A.createElement(UO,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(jO,{legendPayload:Ete(e)}),A.createElement(DO,{fn:Tte,args:e}),A.createElement(qO,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(Dte,wu({},e,{id:r}))))}var fs=A.memo(Lte);fs.displayName="Line";var rD=(t,e,n,r)=>bh(t,"xAxis",e,r),iD=(t,e,n,r)=>vh(t,"xAxis",e,r),aD=(t,e,n,r)=>bh(t,"yAxis",n,r),oD=(t,e,n,r)=>vh(t,"yAxis",n,r),Ute=ne([st,rD,aD,iD,oD],(t,e,n,r,i)=>zr(t,"xAxis")?As(e,r,!1):As(n,i,!1)),Bte=(t,e,n,r,i)=>i,sD=ne([f0,Bte],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),qte=(t,e,n,r,i)=>{var o,l=sD(t,e,n,r,i);if(l!=null){var u=st(t),d=zr(u,"xAxis"),f;if(d?f=Mv(t,"yAxis",n,r):f=Mv(t,"xAxis",e,r),f!=null){var{stackId:h}=l,m=u0(l);if(!(h==null||m==null)){var v=(o=f[h])===null||o===void 0?void 0:o.stackedData;return v==null?void 0:v.find(w=>w.key===m)}}}},zte=ne([st,rD,aD,iD,oD,qte,sh,Ute,sD,FY],(t,e,n,r,i,o,l,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:v}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:w}=d,S;if(w&&w.length>0?S=w:S=h==null?void 0:h.slice(m,v+1),S!=null)return one({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:d,stackedData:o,displayedData:S,chartBaseValue:f,bandSize:u})}}),$te=["id"],Hte=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eo.apply(null,arguments)}function lD(t,e){if(t==null)return{};var n,r,i=Gte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(t,e){return t&&t!=="none"?t:e}var Yte=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:Ef(r,i),value:Vf(n,e),payload:t}]};function Wte(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Vf(l,e),hide:u,type:t.tooltipType,color:Ef(r,o),unit:d}}}function Jte(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:l}=r,u=pr(r);return A.createElement(zO,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Xte(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var l,u,d={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ys(ys({},d),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(PO,{value:e?i:void 0},n)}function $N(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:l,type:u,stroke:d,connectNulls:f,isRange:h}=o,{id:m}=o,v=lD(o,$te),w=pr(v),S=mn(v);return A.createElement(A.Fragment,null,(e==null?void 0:e.length)>1&&A.createElement(mr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(ru,eo({},S,{id:m,points:e,connectNulls:f,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(ru,eo({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:e})),d!=="none"&&h&&A.createElement(ru,eo({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}))),A.createElement(Jte,{points:e,props:v,clipPathId:i}))}function Qte(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,l=r[r.length-1].y;if(!_t(o)||!_t(l))return null;var u=e*Math.abs(o-l),d=Math.max(...r.map(f=>f.x||0));return Se(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),Se(d)?A.createElement("rect",{x:0,y:o<l?o:o-u,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function Zte(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,l=r[r.length-1].x;if(!_t(o)||!_t(l))return null;var u=e*Math.abs(o-l),d=Math.max(...r.map(f=>f.y||0));return Se(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),Se(d)?A.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function ene(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?A.createElement(Qte,{alpha:e,points:r,baseLine:i,strokeWidth:o}):A.createElement(Zte,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function tne(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:m,onAnimationStart:v,onAnimationEnd:w}=r,S=eh(r,"recharts-area-"),[T,E]=A.useState(!1),k=!T,P=A.useCallback(()=>{typeof w=="function"&&w(),E(!1)},[w]),N=A.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),I=i.current,R=o.current;return A.createElement(Xte,{showLabels:k,points:l},r.children,A.createElement(Zf,{animationId:S,begin:f,duration:h,isActive:d,easing:m,onAnimationEnd:P,onAnimationStart:N,key:S},O=>{if(I){var D=I.length/l.length,q=O===1?l:l.map((F,G)=>{var L=Math.floor(G*D);if(I[L]){var H=I[L];return ys(ys({},F),{},{x:Ot(H.x,F.x,O),y:Ot(H.y,F.y,O)})}return F}),$;return Se(u)?$=Ot(R,u,O):$t(u)||Cr(u)?$=Ot(R,0,O):$=u.map((F,G)=>{var L=Math.floor(G*D);if(Array.isArray(R)&&R[L]){var H=R[L];return ys(ys({},F),{},{x:Ot(H.x,F.x,O),y:Ot(H.y,F.y,O)})}return F}),O>0&&(i.current=q,o.current=$),A.createElement($N,{points:q,baseLine:$,needClip:e,clipPathId:n,props:r})}return O>0&&(i.current=l,o.current=u),A.createElement(mr,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(ene,{alpha:O,points:l,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),A.createElement(mr,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement($N,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),A.createElement(IO,{label:r.label}))}function nne(t){var{needClip:e,clipPathId:n,props:r}=t,i=A.useRef(null),o=A.useRef();return A.createElement(tne,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class rne extends A.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:l,needClip:u,xAxisId:d,yAxisId:f,width:h,height:m,id:v,baseLine:w,zIndex:S}=this.props;if(e)return null;var T=nt("recharts-area",i),E=v,{r:k,strokeWidth:P}=eD(n),N=I0(n),I=k*2+P;return A.createElement($r,{zIndex:S},A.createElement(mr,{className:T},u&&A.createElement("defs",null,A.createElement(GO,{clipPathId:E,xAxisId:d,yAxisId:f}),!N&&A.createElement("clipPath",{id:"clipPath-dots-".concat(E)},A.createElement("rect",{x:l-I/2,y:o-I/2,width:h+I,height:m+I}))),A.createElement(nne,{needClip:u,clipPathId:E,props:this.props})),A.createElement(zv,{points:r,mainColor:Ef(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&A.createElement(zv,{points:w,mainColor:Ef(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var uD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!co.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:pn.area};function ine(t){var e,n=Jt(t,uD),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:h,hide:m,isAnimationActive:v,legendType:w,stroke:S,xAxisId:T,yAxisId:E}=n,k=lD(n,Hte),P=Cu(),N=cO(),{needClip:I}=M0(T,E),R=gn(),{points:O,isRange:D,baseLine:q}=(e=Ce(ce=>zte(ce,T,E,R,t.id)))!==null&&e!==void 0?e:{},$=wh();if(P!=="horizontal"&&P!=="vertical"||$==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:F,width:G,x:L,y:H}=$;return!O||!O.length?null:A.createElement(rne,eo({},k,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:q,connectNulls:u,dot:d,fill:f,fillOpacity:h,height:F,hide:m,layout:P,isAnimationActive:v,isRange:D,legendType:w,needClip:I,points:O,stroke:S,width:G,left:L,top:H,xAxisId:T,yAxisId:E}))}var ane=(t,e,n,r,i)=>{var o=n??e;if(Se(o))return o;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function one(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:h,xAxisTicks:m,yAxisTicks:v,bandSize:w}=t,S=i&&i.length,T=ane(o,l,n,u,d),E=o==="horizontal",k=!1,P=f.map((I,R)=>{var O;S?O=i[h+R]:(O=sn(I,r),Array.isArray(O)?k=!0:O=[T,O]);var D=O[1]==null||S&&!e&&sn(I,r)==null;return E?{x:Xd({axis:u,ticks:m,bandSize:w,entry:I,index:R}),y:D?null:d.scale(O[1]),value:O,payload:I}:{x:D?null:u.scale(O[1]),y:Xd({axis:d,ticks:v,bandSize:w,entry:I,index:R}),value:O,payload:I}}),N;return S||k?N=P.map(I=>{var R=Array.isArray(I.value)?I.value[0]:null;return E?{x:I.x,y:R!=null&&I.y!=null?d.scale(R):null,payload:I.payload}:{x:R!=null?u.scale(R):null,y:I.y,payload:I.payload}}):N=E?d.scale(T):u.scale(T),{points:P,baseLine:N,isRange:k}}function sne(t){var e=Jt(t,uD),n=gn();return A.createElement(UO,{id:e.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(jO,{legendPayload:Yte(e)}),A.createElement(DO,{fn:Wte,args:e}),A.createElement(qO,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:IV(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),A.createElement(ine,eo({},e,{id:r}))))}var cD=A.memo(sne);cD.displayName="Area";var lne=["dangerouslySetInnerHTML","ticks"],une=["id"],cne=["domain"],dne=["domain"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(null,arguments)}function Tf(t,e){if(t==null)return{};var n,r,i=fne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hne(t){var e=jt();return A.useLayoutEffect(()=>(e(KZ(t)),()=>{e(YZ(t))}),[t,e]),null}var pne=t=>{var{xAxisId:e,className:n}=t,r=Ce($R),i=gn(),o="xAxis",l=Ce(E=>Gs(E,o,e,i)),u=Ce(E=>$M(E,o,e,i)),d=Ce(E=>LW(E,e)),f=Ce(E=>HW(E,e)),h=Ce(E=>lM(E,e));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=t,w=Tf(t,lne),{id:S}=h,T=Tf(h,une);return A.createElement(L0,Hv({},w,T,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:nt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},mne={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,height:qn.height,hide:!1,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tickCount:qn.tickCount,type:qn.type,xAxisId:0},gne=t=>{var e,n,r,i,o,l=Jt(t,mne);return A.createElement(A.Fragment,null,A.createElement(hne,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),A.createElement(pne,l))},yne=(t,e)=>{var{domain:n}=t,r=Tf(t,cne),{domain:i}=e,o=Tf(e,dne);return Rs(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rs({domain:n},{domain:i}):!1},dD=A.memo(gne,yne);dD.displayName="XAxis";var vne=["dangerouslySetInnerHTML","ticks"],bne=["id"],xne=["domain"],wne=["domain"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(null,arguments)}function Af(t,e){if(t==null)return{};var n,r,i=_ne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sne(t){var e=jt();return A.useLayoutEffect(()=>(e(WZ(t)),()=>{e(JZ(t))}),[t,e]),null}var Ene=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=A.useRef(null),l=A.useRef(null),u=Ce($R),d=gn(),f=jt(),h="yAxis",m=Ce(R=>Gs(R,h,e,d)),v=Ce(R=>VW(R,e)),w=Ce(R=>FW(R,e)),S=Ce(R=>$M(R,h,e,d)),T=Ce(R=>uM(R,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!v||R0(i)||A.isValidElement(i)||T==null)){var R=o.current;if(R){var O=R.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&f(XZ({id:e,width:O}))}}},[S,v,f,i,e,r,T]),v==null||w==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:k}=t,P=Af(t,vne),{id:N}=T,I=Af(T,bne);return A.createElement(L0,Gv({},P,I,{ref:o,labelRef:l,scale:m,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:nt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:S,axisType:h}))},Tne={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,hide:!1,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tickCount:zn.tickCount,type:zn.type,width:zn.width,yAxisId:0},Ane=t=>{var e,n,r,i,o,l=Jt(t,Tne);return A.createElement(A.Fragment,null,A.createElement(Sne,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),A.createElement(Ene,l))},Cne=(t,e)=>{var{domain:n}=t,r=Af(t,xne),{domain:i}=e,o=Af(e,wne);return Rs(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Rs({domain:n},{domain:i}):!1},Fv=A.memo(Ane,Cne);Fv.displayName="YAxis";var Ty={exports:{}},Ay={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function Nne(){if(HN)return Ay;HN=1;var t=Is();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Ay.useSyncExternalStoreWithSelector=function(d,f,h,m,v){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function E(R){if(!k){if(k=!0,P=R,R=m(R),v!==void 0&&S.hasValue){var O=S.value;if(v(O,R))return N=O}return N=R}if(O=N,n(P,R))return O;var D=m(R);return v!==void 0&&v(O,D)?(P=R,O):(P=R,N=D)}var k=!1,P,N,I=h===void 0?null:h;return[function(){return E(f())},I===null?void 0:function(){return E(I())}]},[f,h,m,v]);var T=r(d,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=T},[T]),u(T),T},Ay}var GN;function kne(){return GN||(GN=1,Ty.exports=Nne()),Ty.exports}kne();function Pne(t){t()}function Rne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Pne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var FN={notify(){},get:()=>[]};function Ine(t,e){let n,r=FN,i=0,o=!1;function l(T){h();const E=r.subscribe(T);let k=!1;return()=>{k||(k=!0,E(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(d),r=Rne())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=FN)}function v(){o||(o=!0,h())}function w(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>r};return S}var Mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",One=Mne(),Dne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jne=Dne(),Lne=()=>One||jne?A.useLayoutEffect:A.useEffect,Une=Lne(),Cy=Symbol.for("react-redux-context"),Ny=typeof globalThis<"u"?globalThis:{};function Bne(){if(!A.createContext)return{};const t=Ny[Cy]??(Ny[Cy]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var qne=Bne();function zne(t){const{children:e,context:n,serverState:r,store:i}=t,o=A.useMemo(()=>{const d=Ine(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);Une(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||qne;return A.createElement(u.Provider,{value:o},e)}var $ne=zne,Hne=(t,e)=>e,B0=ne([Hne,st,oM,Ft,iO,Ri,nX,ln],uX),q0=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},fD=gr("mouseClick"),hD=Tu();hD.startListening({actionCreator:fD,effect:(t,e)=>{var n=t.payload,r=B0(e.getState(),q0(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(iJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Vv=gr("mouseMove"),pD=Tu();pD.startListening({actionCreator:Vv,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=w0(r,r.tooltip.settings.shared),o=B0(r,q0(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(YM()))}});var VN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},mD=kn({name:"rootProps",initialState:VN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:VN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),Gne=mD.reducer,{updateOptions:Fne}=mD.actions,gD=kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:yie}=gD.actions,Vne=gD.reducer,yD=gr("keyDown"),vD=gr("focus"),z0=Tu();z0.startListening({actionCreator:yD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(_0(i,Vs(n))),u=Ri(n);if(o==="Enter"){var d=yf(n,"axis","hover",String(i.index));e.dispatch(Dv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=JW(n),h=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,v=l+m*h;if(!(u==null||v>=u.length||v<0)){var w=yf(n,"axis","hover",String(v));e.dispatch(Dv({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});z0.startListening({actionCreator:vD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=yf(n,"axis","hover",String(o));e.dispatch(Dv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var lr=gr("externalEvent"),bD=Tu();bD.startListening({actionCreator:lr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:zJ(n),activeDataKey:BJ(n),activeIndex:bu(n),activeLabel:sO(n),activeTooltipIndex:bu(n),isTooltipActive:$J(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Kne=ne([Fs],t=>t.tooltipItemPayloads),Yne=ne([Kne,ju,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),xD=gr("touchMove"),wD=Tu();wD.startListening({actionCreator:xD,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=w0(r,r.tooltip.settings.shared);if(i==="axis"){var o=B0(r,q0({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(WM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(BV),h=(l=d.getAttribute(qV))!==null&&l!==void 0?l:void 0,m=Yne(e.getState(),f,h);e.dispatch(rJ({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}}});var Wne=hR({brush:mee,cartesianAxis:QZ,chartData:zX,errorBars:see,graphicalItems:OZ,layout:_V,legend:_8,options:jX,polarAxis:sZ,polarOptions:Vne,referenceElements:_ee,rootProps:Gne,tooltip:aJ,zIndex:SX}),Jne=function(e){return KF({reducer:Wne,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([hD.middleware,pD.middleware,z0.middleware,bD.middleware,wD.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(TR({type:"raf"}))},devTools:co.devToolsEnabled})};function Xne(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gn(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=Jne(e));var l=Sb;return A.createElement($ne,{context:l,store:o.current},n)}function Qne(t){var{layout:e,margin:n}=t,r=jt(),i=gn();return A.useEffect(()=>{i||(r(bV(e)),r(vV(n)))},[r,i,e,n]),null}function Zne(t){var e=jt();return A.useEffect(()=>{e(Fne(t))},[e,t]),null}function KN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=LO("".concat(r).concat(e)),o=jt();return A.useLayoutEffect(()=>(o(wX({zIndex:e,elementId:i,isPanorama:n})),()=>{o(_X({zIndex:e,isPanorama:n}))}),[o,e,i,n]),A.createElement("g",{id:i})}function YN(t){var{children:e,isPanorama:n}=t,r=Ce(dX);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(KN,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>A.createElement(KN,{key:l,zIndex:l,isPanorama:n})))}var ere=["children"];function tre(t,e){if(t==null)return{};var n,r,i=nre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(null,arguments)}var rre={width:"100%",height:"100%",display:"block"},ire=A.forwardRef((t,e)=>{var n=Pb(),r=Rb(),i=JR();if(!Br(n)||!Br(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=t,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(fb,Cf({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:rre,ref:e}),o)}),are=t=>{var{children:e}=t,n=Ce(Jf);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return A.createElement(fb,{width:r,height:i,x:l,y:o},e)},WN=A.forwardRef((t,e)=>{var{children:n}=t,r=tre(t,ere),i=gn();return i?A.createElement(are,null,A.createElement(YN,{isPanorama:!0},n)):A.createElement(ire,Cf({ref:e},r),A.createElement(YN,{isPanorama:!1},n))});function ore(){var t=jt(),[e,n]=A.useState(null),r=Ce(UV);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;_t(o)&&o!==r&&t(wV(o))}},[e,t,r]),n}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(null,arguments)}var dre=()=>(JX(),null);function Nf(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var fre=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[o,l]=A.useState({containerWidth:Nf((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Nf((r=t.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{l(m=>{var v=Math.round(f),w=Math.round(h);return m.containerWidth===v&&m.containerHeight===w?m:{containerWidth:v,containerHeight:w}})},[]),d=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var v=S=>{var{width:T,height:E}=S[0].contentRect;u(T,E)},w=new ResizeObserver(v);w.observe(f),i.current=w}},[e,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(Qf,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",oo({ref:d},t)))}),hre=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=A.useState({containerWidth:Nf(n),containerHeight:Nf(r)}),l=A.useCallback((d,f)=>{o(h=>{var m=Math.round(d),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[e,l]);return A.createElement(A.Fragment,null,A.createElement(Qf,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",oo({ref:u},t)))}),pre=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Qf,{width:n,height:r}),A.createElement("div",oo({ref:e},t)))}),mre=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return vi(n)||vi(r)?A.createElement(hre,oo({},t,{ref:e})):A.createElement(pre,oo({},t,{ref:e}))});function gre(t){return t===!0?fre:mre}var yre=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:w,onTouchMove:S,onTouchStart:T,style:E,width:k,responsive:P,dispatchTouchEvents:N=!0}=t,I=A.useRef(null),R=jt(),[O,D]=A.useState(null),[q,$]=A.useState(null),F=ore(),G=kb(),L=(G==null?void 0:G.width)>0?G.width:k,H=(G==null?void 0:G.height)>0?G.height:i,ce=A.useCallback(te=>{F(te),typeof e=="function"&&e(te),D(te),$(te),te!=null&&(I.current=te)},[F,e,D,$]),he=A.useCallback(te=>{R(fD(te)),R(lr({handler:o,reactEvent:te}))},[R,o]),z=A.useCallback(te=>{R(Vv(te)),R(lr({handler:f,reactEvent:te}))},[R,f]),Z=A.useCallback(te=>{R(YM()),R(lr({handler:h,reactEvent:te}))},[R,h]),de=A.useCallback(te=>{R(Vv(te)),R(lr({handler:m,reactEvent:te}))},[R,m]),K=A.useCallback(()=>{R(vD())},[R]),ue=A.useCallback(te=>{R(yD(te.key))},[R]),j=A.useCallback(te=>{R(lr({handler:l,reactEvent:te}))},[R,l]),Y=A.useCallback(te=>{R(lr({handler:u,reactEvent:te}))},[R,u]),oe=A.useCallback(te=>{R(lr({handler:d,reactEvent:te}))},[R,d]),W=A.useCallback(te=>{R(lr({handler:v,reactEvent:te}))},[R,v]),fe=A.useCallback(te=>{R(lr({handler:T,reactEvent:te}))},[R,T]),pe=A.useCallback(te=>{N&&R(xD(te)),R(lr({handler:S,reactEvent:te}))},[R,N,S]),me=A.useCallback(te=>{R(lr({handler:w,reactEvent:te}))},[R,w]),De=gre(P);return A.createElement(gO.Provider,{value:O},A.createElement(NP.Provider,{value:q},A.createElement(De,{width:L??(E==null?void 0:E.width),height:H??(E==null?void 0:E.height),className:nt("recharts-wrapper",r),style:sre({position:"relative",cursor:"default",width:L,height:H},E),onClick:he,onContextMenu:j,onDoubleClick:Y,onFocus:K,onKeyDown:ue,onMouseDown:oe,onMouseEnter:z,onMouseLeave:Z,onMouseMove:de,onMouseUp:W,onTouchEnd:me,onTouchMove:pe,onTouchStart:fe,ref:ce},A.createElement(dre,null),n)))}),vre=["width","height","responsive","children","className","style","compact","title","desc"];function bre(t,e){if(t==null)return{};var n,r,i=xre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wre=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:d,title:f,desc:h}=t,m=bre(t,vre),v=pr(m);return d?A.createElement(A.Fragment,null,A.createElement(Qf,{width:n,height:r}),A.createElement(WN,{otherAttributes:v,title:f,desc:h},o)):A.createElement(yre,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(WN,{otherAttributes:v,title:f,desc:h,ref:e},A.createElement(Eee,null,o)))});function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}var _re={top:5,right:5,bottom:5,left:5},Sre={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_re,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Ere=A.forwardRef(function(e,n){var r,i=Jt(e.categoricalChartProps,Sre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(Xne,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},A.createElement(pee,{chartData:f.data}),A.createElement(Qne,{layout:i.layout,margin:i.margin}),A.createElement(Zne,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(wre,Kv({},i,{ref:n})))}),Tre=["axis"],Are=A.forwardRef((t,e)=>A.createElement(Ere,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tre,tooltipPayloadSearcher:OX,categoricalChartProps:t,ref:e}));const ot={revenue:{color:"#10B981",strokeWidth:4,type:"monotone",label:"Revenue ($)"},appointments:{color:"#3B82F6",strokeWidth:3,type:"monotone",label:"Appointments"},calls:{color:"#8B5CF6",strokeWidth:3,type:"monotone",label:"Calls"},leads:{color:"#F59E0B",strokeWidth:3,type:"monotone",label:"New Leads"},proposals:{color:"#EC4899",strokeWidth:3,type:"monotone",label:"Proposals"}},Cre=({active:t,payload:e,label:n})=>t&&e&&e.length?g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border-2 border-gray-200",children:[g.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:n}),e.map((r,i)=>g.jsxs("p",{style:{color:r.color},className:"text-sm font-medium",children:[r.name,": ",r.name==="Revenue ($)"?`$${(r.value/1e3).toFixed(1)}K`:r.value]},i))]}):null,Nre=({activeMetrics:t,data:e})=>{if(!Object.values(t).some(o=>o))return g.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-lg shadow-md",children:g.jsx("p",{className:"text-gray-500 text-lg",children:"Select at least one metric to display the chart"})});if(!e||e.length===0)return g.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-lg shadow-md",children:g.jsx("p",{className:"text-gray-500 text-lg",children:"No data available for the selected period"})});const r=t.revenue?ot.revenue.color:"#10B981",i=t.appointments?ot.appointments.color:t.calls?ot.calls.color:"#3B82F6";return g.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:g.jsx(p8,{width:"100%",height:500,children:g.jsxs(Are,{data:e,margin:{top:20,right:50,left:50,bottom:20},children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})}),g.jsx(WO,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),g.jsx(dD,{dataKey:"date",stroke:"#64748B",style:{fontSize:12,fontWeight:600},angle:-45,textAnchor:"end",height:80}),g.jsx(Fv,{yAxisId:"left",stroke:r,style:{fontSize:12,fontWeight:600},tickFormatter:o=>`$${(o/1e3).toFixed(0)}K`,label:{value:"Revenue ($)",angle:-90,position:"insideLeft",style:{fill:r,fontWeight:"bold"}}}),g.jsx(Fv,{yAxisId:"right",orientation:"right",stroke:i,style:{fontSize:12,fontWeight:600},label:{value:"Count",angle:90,position:"insideRight",style:{fill:i,fontWeight:"bold"}}}),g.jsx(iQ,{content:g.jsx(Cre,{})}),g.jsx(WR,{wrapperStyle:{paddingTop:20},iconType:"line"}),t.revenue&&g.jsxs(g.Fragment,{children:[g.jsx(cD,{type:"monotone",dataKey:"revenue",stroke:"none",fillOpacity:1,fill:"url(#colorRevenue)",yAxisId:"left",isAnimationActive:!0,animationDuration:500}),g.jsx(fs,{type:ot.revenue.type,dataKey:"revenue",stroke:ot.revenue.color,strokeWidth:ot.revenue.strokeWidth,yAxisId:"left",dot:{r:4,fill:ot.revenue.color},activeDot:{r:6},name:ot.revenue.label,isAnimationActive:!0,animationDuration:500})]}),t.appointments&&g.jsx(fs,{type:ot.appointments.type,dataKey:"appointments",stroke:ot.appointments.color,strokeWidth:ot.appointments.strokeWidth,yAxisId:"right",dot:{r:3,fill:ot.appointments.color},activeDot:{r:5},name:ot.appointments.label,isAnimationActive:!0,animationDuration:500}),t.calls&&g.jsx(fs,{type:ot.calls.type,dataKey:"calls",stroke:ot.calls.color,strokeWidth:ot.calls.strokeWidth,yAxisId:"right",dot:{r:3,fill:ot.calls.color},activeDot:{r:5},name:ot.calls.label,isAnimationActive:!0,animationDuration:500}),t.leads&&g.jsx(fs,{type:ot.leads.type,dataKey:"leads",stroke:ot.leads.color,strokeWidth:ot.leads.strokeWidth,yAxisId:"right",dot:{r:3,fill:ot.leads.color},activeDot:{r:5},name:ot.leads.label,isAnimationActive:!0,animationDuration:500}),t.proposals&&g.jsx(fs,{type:ot.proposals.type,dataKey:"proposals",stroke:ot.proposals.color,strokeWidth:ot.proposals.strokeWidth,yAxisId:"right",dot:{r:3,fill:ot.proposals.color},activeDot:{r:5},name:ot.proposals.label,isAnimationActive:!0,animationDuration:500})]})})})},kre={revenue:{label:"Total Revenue",color:"#10B981",format:t=>`$${(t/1e3).toFixed(1)}K`},appointments:{label:"Total Appointments",color:"#3B82F6",format:t=>t.toString()},calls:{label:"Total Calls",color:"#8B5CF6",format:t=>t.toString()},leads:{label:"Total Leads",color:"#F59E0B",format:t=>t.toString()},proposals:{label:"Total Proposals",color:"#EC4899",format:t=>t.toString()}},Pre=({activeMetrics:t,data:e})=>{const n=A.useMemo(()=>!e||e.length===0?[]:Object.keys(t).filter(i=>t[i]).slice(0,3).map(i=>{const o=kre[i],l=e.reduce((f,h)=>f+(h[i]||0),0),u=l/e.length,d=e.length>1?((e[e.length-1][i]||0)-(e[0][i]||0))/(e[0][i]||1)*100:0;return{label:o.label,value:o.format(l),average:o.format(Math.round(u)),trend:d.toFixed(1),color:o.color,isPositive:d>=0}}),[t,e]);return n.length===0?null:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:n.map((r,i)=>g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 hover:shadow-lg transition-shadow duration-300",style:{borderLeftColor:r.color},children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:r.label}),g.jsxs("div",{className:`text-xs font-bold px-2 py-1 rounded ${r.isPositive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[r.isPositive?"":""," ",Math.abs(parseFloat(r.trend)),"%"]})]}),g.jsx("div",{className:"mb-2",children:g.jsx("p",{className:"text-3xl font-bold",style:{color:r.color},children:r.value})}),g.jsxs("div",{className:"text-sm text-gray-500",children:[g.jsx("span",{className:"font-medium",children:"Avg per day:"})," ",r.average]})]},i))})},Rre=({labels:t,rawData:e,selectedUsers:n,userColors:r,usersById:i})=>{var f;const[o,l]=A.useState({revenue:!0,appointments:!0,calls:!0,leads:!1,proposals:!1}),u=h=>{l(m=>({...m,[h]:!m[h]}))},d=A.useMemo(()=>n.length===0?[]:t.map((h,m)=>{let v=0,w=0,S=0,T=0,E=0;return n.forEach(k=>{var N,I,R,O;const P=e[k];P&&(v+=((N=P.revenue)==null?void 0:N[m])||0,w+=((I=P.appts)==null?void 0:I[m])||0,S+=((R=P.calls)==null?void 0:R[m])||0,T+=((O=P.leads)==null?void 0:O[m])||0)}),{date:h,revenue:v,appointments:w,calls:S,leads:T,proposals:E}}),[t,e,n]);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Click to toggle metrics on/off  Hover for details  Compare trends across time"}),n.length>1&&g.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Showing combined data for ",n.length," selected rep",n.length>1?"s":""]}),n.length===1&&g.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Showing data for ",((f=i[n[0]])==null?void 0:f.name)||"Unknown"]})]}),g.jsx(pG,{activeMetrics:o,onToggle:u}),g.jsx(Nre,{activeMetrics:o,data:d}),g.jsx(Pre,{activeMetrics:o,data:d})]})},Ire=({isOpen:t,onClose:e,modalData:n})=>{if(!t||!n)return null;const{label:r,metric:i,data:o,usersById:l}=n,u={revenue:"Revenue Transactions",appts:"Appointments Set",calls:"Calls Made",leads:"New Leads"},d=()=>{switch(i){case"revenue":return o.revenue.length>0?g.jsx("ul",{className:"divide-y divide-brand-light-border dark:divide-brand-gray",children:o.revenue.map(f=>{var h;return g.jsxs("li",{className:"py-2 flex justify-between",children:[g.jsxs("span",{children:[f.clientName," (",((h=l[f.userId])==null?void 0:h.name)||"Unknown",")"]}),g.jsx("span",{className:"font-bold text-brand-lime",children:yt(f.amount)})]},f.id)})}):g.jsx("p",{children:"No revenue transactions for this period."});case"appts":return o.appts.length>0?g.jsx("ul",{className:"divide-y divide-brand-light-border dark:divide-brand-gray",children:o.appts.map(f=>{var h;return g.jsxs("li",{className:"py-2",children:[f.name," (",((h=l[f.userId])==null?void 0:h.name)||"Unknown",")"]},f.id)})}):g.jsx("p",{children:"No appointments were set in this period."});case"calls":return o.calls.length>0?g.jsx("ul",{className:"divide-y divide-brand-light-border dark:divide-brand-gray",children:o.calls.map(f=>{var h;return g.jsxs("li",{className:"py-2",children:[f.name," (",((h=l[f.userId])==null?void 0:h.name)||"Unknown",")"]},f.id)})}):g.jsx("p",{children:"No calls were made in this period."});case"leads":return o.leads.length>0?g.jsx("ul",{className:"divide-y divide-brand-light-border dark:divide-brand-gray",children:o.leads.map(f=>{var h;return g.jsxs("li",{className:"py-2",children:[f.name," (",((h=l[f.userId])==null?void 0:h.name)||"Unknown",")"]},f.id)})}):g.jsx("p",{children:"No new leads were added in this period."});default:return null}};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-lg flex flex-col max-h-[80vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:["Details for ",r]}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[g.jsx("h3",{className:"font-bold text-lg mb-3 text-brand-light-text dark:text-white",children:u[i]}),g.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:d()})]})]})})},Mre=({isOpen:t,onClose:e,userName:n,userId:r,eodSubmissions:i})=>{if(!t)return null;const o=A.useMemo(()=>{var d;const l=[],u=new Date;for(let f=0;f<30;f++){const h=new Date;h.setDate(u.getDate()-f);const m=h.getDay();if(m===0||m===6)continue;const v=h.toISOString().split("T")[0],w=(d=i[r])==null?void 0:d[v];l.push({date:h,dateKey:v,isSubmitted:w})}return l},[r,i]);return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 transition-opacity",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-[80vh]",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsxs("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:["EOD Reports: ",n]}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white text-2xl font-bold",children:""})]}),g.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[g.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-3 uppercase",children:"Last 30 Days (Weekdays)"}),g.jsx("ul",{className:"space-y-2",children:o.map(({date:l,dateKey:u,isSubmitted:d})=>g.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-brand-light-bg dark:bg-brand-gray/20",children:[g.jsx("span",{className:"text-brand-light-text dark:text-white",children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),d?g.jsxs("span",{className:"text-brand-lime font-bold flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Submitted"]}):g.jsxs("span",{className:"text-brand-red font-bold flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Missed"]})]},u))})]})]})})},hs=({title:t,children:e,className:n=""})=>g.jsxs("div",{className:`bg-brand-light-card dark:bg-brand-navy p-4 sm:p-6 rounded-lg border border-brand-light-border dark:border-brand-gray ${n}`,children:[g.jsx("h3",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 uppercase mb-4",children:t}),e]}),Ore=({summaryData:t})=>{const[e,n]=A.useState({key:"revenue",direction:"desc"}),r=A.useMemo(()=>{const l=t.map(u=>({...u,avgDealSize:u.deals>0?u.revenue/u.deals:0,callToApptRate:u.calls>0?u.appts/u.calls*100:0,apptToDealRate:u.appts>0?u.deals/u.appts*100:0,leadToDealRate:u.leads>0?u.deals/u.leads*100:0}));return l.sort((u,d)=>u[e.key]<d[e.key]?e.direction==="asc"?-1:1:u[e.key]>d[e.key]?e.direction==="asc"?1:-1:0),l},[t,e]),i=l=>{let u="desc";e.key===l&&e.direction==="desc"&&(u="asc"),n({key:l,direction:u})},o=({headerKey:l,label:u})=>{const f=e.key===l?e.direction==="desc"?"":"":"";return g.jsxs("th",{className:"p-2 text-right cursor-pointer hover:bg-brand-light-bg dark:hover:bg-brand-gray/50",onClick:()=>i(l),children:[u," ",g.jsx("span",{className:"text-xs",children:f})]})};return g.jsx(hs,{title:"Team KPI Analysis",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2 cursor-pointer hover:bg-brand-light-bg dark:hover:bg-brand-gray/50",onClick:()=>i("userName"),children:"Rep Name"}),g.jsx(o,{headerKey:"revenue",label:"Revenue"}),g.jsx(o,{headerKey:"deals",label:"Deals"}),g.jsx(o,{headerKey:"avgDealSize",label:"Avg Deal"}),g.jsx(o,{headerKey:"calls",label:"Calls"}),g.jsx(o,{headerKey:"appts",label:"Appts"}),g.jsx(o,{headerKey:"callToApptRate",label:"Call  Appt %"}),g.jsx(o,{headerKey:"apptToDealRate",label:"Appt  Deal %"}),g.jsx(o,{headerKey:"leadToDealRate",label:"Lead  Deal %"})]})}),g.jsx("tbody",{children:r.map(l=>g.jsxs("tr",{className:"border-t border-brand-light-border dark:border-brand-gray font-medium text-brand-light-text dark:text-white",children:[g.jsx("td",{className:"p-2",children:l.userName}),g.jsx("td",{className:"p-2 text-right font-bold text-brand-lime",children:yt(l.revenue)}),g.jsx("td",{className:"p-2 text-right",children:l.deals}),g.jsx("td",{className:"p-2 text-right",children:yt(l.avgDealSize)}),g.jsx("td",{className:"p-2 text-right",children:l.calls}),g.jsx("td",{className:"p-2 text-right",children:l.appts}),g.jsxs("td",{className:"p-2 text-right",children:[l.callToApptRate.toFixed(1),"%"]}),g.jsxs("td",{className:"p-2 text-right",children:[l.apptToDealRate.toFixed(1),"%"]}),g.jsxs("td",{className:"p-2 text-right",children:[l.leadToDealRate.toFixed(1),"%"]})]},l.userId))})]})})})},Dre=({allData:t,transactions:e,users:n,contextualUserId:r,setContextualUserId:i,eodSubmissions:o})=>{const l=new Date,u=new Date;u.setDate(l.getDate()-29);const[d,f]=A.useState({start:u.toISOString().split("T")[0],end:l.toISOString().split("T")[0]}),[h,m]=A.useState([]),[v,w]=A.useState("revenue"),[S,T]=A.useState("line"),[E,k]=A.useState("dashboard"),[P,N]=A.useState(null),[I,R]=A.useState(!1),[O,D]=A.useState(null),[q,$]=A.useState(null),F=A.useMemo(()=>n.filter(K=>K.role==="Sales Rep"&&K.status==="Active"),[n]),G=A.useMemo(()=>Object.fromEntries(n.map(K=>[K.id,K])),[n]),L=A.useMemo(()=>{const K=["#2F81F7","#34D399","#FBBF24","#A855F7","#E53E3E","#EC4899","#06B6D4"];return Object.fromEntries(F.map((ue,j)=>[ue.id,K[j%K.length]]))},[F]);A.useEffect(()=>{r?m([r]):F.length>0&&m(F.map(K=>K.id))},[r,F]);const H=K=>{m(ue=>ue.includes(K)?ue.filter(j=>j!==K):[...ue,K])},ce=(K,ue)=>{const j=[],Y={},oe={};F.forEach(pe=>{Y[pe.id]={revenue:[],appts:[],calls:[],leads:[]},oe[pe.id]={userId:pe.id,userName:pe.name,revenue:0,appts:0,calls:0,leads:0,deals:0}});const W=new Date(K+"T00:00:00"),fe=new Date(ue+"T00:00:00");for(let pe=new Date(W);pe<=fe;pe.setDate(pe.getDate()+1)){const me=pe.toISOString().split("T")[0];j.push(me),F.forEach(De=>{var Fe;const te=t[me],we=e.filter(se=>se.date===me&&se.userId===De.id),Ne=we.reduce((se,Ee)=>se+Ee.amount,0),ie=((Fe=te==null?void 0:te.prospectingContacts)==null?void 0:Fe.filter(se=>se.userId===De.id))||[],Be=ie.filter(se=>se.prospecting.SA).length,ve=ie.filter(se=>se.prospecting.SW||se.prospecting.NA||se.prospecting.LM).length,Oe=ie.filter(se=>se.name).length;Y[De.id].revenue.push(Ne),Y[De.id].appts.push(Be),Y[De.id].calls.push(ve),Y[De.id].leads.push(Oe),oe[De.id].revenue+=Ne,oe[De.id].appts+=Be,oe[De.id].calls+=ve,oe[De.id].leads+=Oe,oe[De.id].deals+=we.length})}return{labels:j,rawData:Y,summaryData:oe}},he=A.useMemo(()=>ce(d.start,d.end),[d,t,e]),z=A.useMemo(()=>{const K=h.map(j=>{var oe;const Y=F.find(W=>W.id===j);return{userId:j,userName:(Y==null?void 0:Y.name)||"Unknown",color:L[j],data:((oe=he.rawData[j])==null?void 0:oe[v])||[]}}),ue=Object.keys(he.summaryData).map(j=>he.summaryData[j]).sort((j,Y)=>Y.revenue-j.revenue);return{labels:he.labels.map(j=>new Date(j+"T00:00:00").toLocaleDateString("en-us",{month:"short",day:"numeric"})),datasets:K,summary:ue}},[he,h,v,L,F]),Z=async()=>{if(h.length!==1){alert("Please select exactly one sales rep to evaluate.");return}R(!0),N(null);const K=h[0],ue=he.summaryData[K],j=(new Date(d.end).getTime()-new Date(d.start).getTime())/(1e3*3600*24)+1;try{const Y=await pH({revenue:ue.revenue,calls:ue.calls,appts:ue.appts,deals:ue.deals,timeframeDays:Math.round(j)});N(Y)}catch(Y){console.error(Y),alert("Failed to get AI evaluation.")}finally{R(!1)}},de=A.useMemo(()=>F.map(K=>{var Y;let ue=0;const j=new Date;for(let oe=1;oe<=30;oe++){const W=new Date;if(W.setDate(j.getDate()-oe),W.getDay()===0||W.getDay()===6)continue;const fe=W.toISOString().split("T")[0];(Y=o[K.id])!=null&&Y[fe]||ue++}return{user:K,missedReports:ue}}).filter(K=>K.missedReports>=3).sort((K,ue)=>ue.missedReports-K.missedReports),[F,o]);return g.jsxs(g.Fragment,{children:[g.jsx(Ire,{isOpen:!!O,onClose:()=>D(null),modalData:O}),g.jsx(Mre,{isOpen:!!q,onClose:()=>$(null),userName:(q==null?void 0:q.name)||"",userId:(q==null?void 0:q.id)||"",eodSubmissions:o}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-brand-light-text dark:text-white",children:"Performance Dashboard"}),r&&g.jsx("button",{onClick:()=>{i(null),m(F.map(K=>K.id))},className:"text-sm text-brand-blue hover:underline",children:" Back to Full Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(yi,{value:d.start,onChange:K=>f(ue=>({...ue,start:K}))}),g.jsx("span",{className:"font-semibold text-gray-500",children:"to"}),g.jsx(yi,{value:d.end,onChange:K=>f(ue=>({...ue,end:K}))})]})]}),g.jsxs("div",{className:"flex items-center border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("button",{onClick:()=>k("dashboard"),className:`px-4 py-2 text-sm font-bold transition-colors ${E==="dashboard"?"border-b-2 border-brand-blue text-brand-blue":"text-gray-500 dark:text-gray-400 hover:text-brand-blue/80"}`,children:"Dashboard"}),g.jsx("button",{onClick:()=>k("analysis"),className:`px-4 py-2 text-sm font-bold transition-colors ${E==="analysis"?"border-b-2 border-brand-blue text-brand-blue":"text-gray-500 dark:text-gray-400 hover:text-brand-blue/80"}`,children:"KPI Analysis"})]}),E==="dashboard"&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 animate-fade-in",children:[g.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[g.jsx(hs,{title:"Select Sales Reps",children:g.jsx("div",{className:"space-y-2",children:F.map(K=>g.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:h.includes(K.id),onChange:()=>H(K.id),className:"h-4 w-4 rounded border-gray-300 focus:ring-blue-500",style:{accentColor:L[K.id]}}),g.jsx("span",{className:"text-sm font-medium text-brand-light-text dark:text-white",children:K.name})]},K.id))})}),g.jsx(hs,{title:"Alerts & Notifications",children:de.length>0?g.jsx("ul",{className:"space-y-2",children:de.map(({user:K,missedReports:ue})=>g.jsxs("li",{className:"text-sm flex justify-between items-center",children:[g.jsx("span",{className:"text-brand-light-text dark:text-gray-300",children:K.name}),g.jsxs("button",{onClick:()=>$(K),className:"text-brand-red font-bold hover:underline",children:[ue," missed EODs"]})]},K.id))}):g.jsx("p",{className:"text-xs text-gray-500",children:"No critical alerts."})}),g.jsx(hs,{title:"AI Performance Coach",children:g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select one sales rep to generate an AI-powered performance evaluation for the selected date range."}),g.jsx("button",{onClick:Z,disabled:I||h.length!==1,className:"w-full bg-brand-red text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition disabled:bg-brand-gray",children:I?"Analyzing...":"Evaluate Performance"}),P&&g.jsxs("div",{className:"p-3 bg-brand-light-bg dark:bg-brand-gray/20 rounded-md animate-fade-in",children:[g.jsxs("div",{className:"flex justify-between items-baseline",children:[g.jsx("h4",{className:"font-bold text-brand-light-text dark:text-white",children:"Activity Score:"}),g.jsxs("p",{className:"text-2xl font-black text-brand-lime",children:[P.score,g.jsx("span",{className:"text-base",children:"/100"})]})]}),g.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-300 whitespace-pre-wrap",children:[g.jsx("h5",{className:"font-bold mb-1",children:"Suggestions:"}),P.suggestions]})]})]})})]}),g.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[g.jsx(hs,{title:"Leaderboard",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Rep"}),g.jsx("th",{className:"p-2 text-right",children:"Revenue"}),g.jsx("th",{className:"p-2 text-right",children:"Deals"}),g.jsx("th",{className:"p-2 text-right",children:"Appts"}),g.jsx("th",{className:"p-2 text-right",children:"Calls"}),g.jsx("th",{className:"p-2 text-right",children:"Leads"})]})}),g.jsx("tbody",{children:z.summary.map(K=>g.jsxs("tr",{className:`border-t border-brand-light-border dark:border-brand-gray font-medium ${h.includes(K.userId)?"text-brand-light-text dark:text-white":"text-gray-400 dark:text-gray-600"}`,children:[g.jsxs("td",{className:"p-2 flex items-center gap-2",children:[g.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L[K.userId]}}),K.userName]}),g.jsx("td",{className:"p-2 text-right font-bold text-brand-lime",children:yt(K.revenue)}),g.jsx("td",{className:"p-2 text-right",children:K.deals}),g.jsx("td",{className:"p-2 text-right",children:K.appts}),g.jsx("td",{className:"p-2 text-right",children:K.calls}),g.jsx("td",{className:"p-2 text-right",children:K.leads})]},K.userId))})]})})}),g.jsx(hs,{title:"Activity Trends",children:g.jsx(Rre,{labels:z.labels,rawData:he.rawData,selectedUsers:h,userColors:L,usersById:G})})]})]}),E==="analysis"&&g.jsx("div",{className:"animate-fade-in",children:g.jsx(Ore,{summaryData:z.summary})})]})]})},sr=({label:t,value:e,isInput:n=!1,onInputChange:r,disabled:i})=>g.jsxs("div",{className:"bg-brand-light-bg dark:bg-brand-gray/20 p-3 rounded-md",children:[g.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase",children:t}),n?g.jsx("input",{type:"text",value:e,onChange:o=>r==null?void 0:r(o.target.value),disabled:i,placeholder:"e.g., 2.5 hours",className:"w-full bg-transparent text-2xl font-black text-brand-light-text dark:text-white mt-1 p-0 border-none focus:ring-0"}):g.jsx("p",{className:"text-2xl font-black text-brand-light-text dark:text-white mt-1",children:e})]}),ky=({title:t,subtitle:e,children:n})=>g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-lg font-bold text-brand-light-text dark:text-white",children:t}),g.jsx("p",{className:"text-xs text-brand-red font-semibold mb-4",children:e}),g.jsx("div",{className:"space-y-3",children:n})]}),jre=({allData:t,hotLeads:e,transactions:n,onSubmission:r,onDataChange:i,userId:o,selectedDate:l,onDateChange:u})=>{const f=(E=>E.toISOString().split("T")[0])(l),[h,m]=A.useState(""),v=A.useMemo(()=>t[f]||ca(),[t,f]),w=v.eodSubmitted;A.useEffect(()=>{m(v.talkTime||"")},[v]);const S=A.useMemo(()=>{const E=(v.prospectingContacts||[]).filter(L=>L.prospecting.SW||L.prospecting.NA||L.prospecting.LM).length,k=(v.prospectingContacts||[]).filter(L=>L.prospecting.EP).length,P=(v.prospectingContacts||[]).filter(L=>L.prospecting.ST).length,N=e.filter(L=>L.dateAdded&&L.dateAdded.startsWith(f)).length,I=(v.events||[]).filter(L=>L.type==="Appointment"&&L.conducted).length,R=k,O=(v.prospectingContacts||[]).filter(L=>L.prospecting.SA).length,D=n.filter(L=>L.date===f),q=D.length,$=D.reduce((L,H)=>L+H.amount,0),F=q>0?$/q:0,G=D.filter(L=>L.isRecurring).reduce((L,H)=>L+H.amount*12,0);return{callsMade:E,emails:k,texts:P,newLeads:N,demosHeld:I,quotesSent:R,apptsSet:O,closedDeals:q,revenueCollected:$,avgDeal:F,acv:G}},[v,e,n,f]),T=async()=>{const E={...v,talkTime:h,eodSubmitted:!0};await i(f,E),r(f)};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[g.jsx(uo,{selectedDate:l,onDateChange:u}),g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-4 rounded-lg border border-brand-light-border dark:border-brand-gray text-center",children:[g.jsx("h3",{className:"font-bold text-brand-light-text dark:text-white",children:"Submit Report"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Submit your report to lock in today's numbers."}),g.jsx("button",{onClick:T,disabled:w,className:"w-full bg-brand-lime text-brand-ink font-black py-3 px-6 rounded-lg hover:bg-green-400 transition text-md disabled:bg-brand-gray disabled:cursor-not-allowed disabled:text-gray-500",children:w?`Submitted for ${l.toLocaleDateString()}`:"Submit EOD Report"})]})]}),g.jsxs("div",{className:"lg:col-span-3",children:[g.jsxs("div",{className:"text-left mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-brand-light-text dark:text-white",children:"End of Day Report"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:l.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs(ky,{title:"Activity",subtitle:"Input",children:[g.jsx(sr,{label:"Calls Made",value:S.callsMade}),g.jsx(sr,{label:"Emails",value:S.emails}),g.jsx(sr,{label:"Texts",value:S.texts}),g.jsx(sr,{label:"Talk Time",value:h,isInput:!0,onInputChange:m,disabled:w})]}),g.jsxs(ky,{title:"Pipeline",subtitle:"Progress",children:[g.jsx(sr,{label:"New Leads",value:S.newLeads}),g.jsx(sr,{label:"Demos Held",value:S.demosHeld}),g.jsx(sr,{label:"Quotes Sent",value:S.quotesSent}),g.jsx(sr,{label:"Appts Set",value:S.apptsSet})]}),g.jsxs(ky,{title:"Results",subtitle:"Outcome",children:[g.jsx(sr,{label:"Closed Deals",value:S.closedDeals}),g.jsx(sr,{label:"Revenue Collected",value:yt(S.revenueCollected)}),g.jsx(sr,{label:"Avg. Deal",value:yt(S.avgDeal)}),g.jsx(sr,{label:"ACV",value:yt(S.acv)})]})]})]})]})},Lre=({onClick:t})=>g.jsx("button",{onClick:t,className:"fixed bottom-6 right-6 bg-brand-red text-white p-4 rounded-full shadow-lg hover:bg-red-700 transition-transform transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-ink focus:ring-brand-red z-50","aria-label":"Open AI Coach",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),Ure=({isOpen:t,onClose:e})=>{const[n,r]=A.useState([{role:"model",text:"Hello! I am your AI Coach. How can I help you improve your productivity today?"}]),[i,o]=A.useState(""),[l,u]=A.useState(!1),[d,f]=A.useState(!1),h=A.useRef(null),m=()=>{var S;(S=h.current)==null||S.scrollIntoView({behavior:"smooth"})};A.useEffect(m,[n]);const v=async()=>{if(i.trim()===""||l)return;const S={role:"user",text:i};r(T=>[...T,S]),o(""),u(!0);try{const E={role:"model",text:await rH(i,d)};r(k=>[...k,E])}catch(T){console.error("Gemini API error:",T);const E={role:"model",text:"Sorry, I encountered an error. Please try again."};r(k=>[...k,E])}finally{u(!1)}},w=S=>{S.key==="Enter"&&v()};return t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy border border-brand-light-border dark:border-brand-gray rounded-lg shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-light-border dark:border-brand-gray",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-light-text dark:text-white",children:"AI Coach"}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white",children:""})]}),g.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[n.map((S,T)=>g.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-md p-3 rounded-lg ${S.role==="user"?"bg-brand-blue text-white":"bg-gray-200 dark:bg-brand-gray text-brand-light-text dark:text-gray-200"}`,children:g.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.text})})},T)),l&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"max-w-md p-3 rounded-lg bg-gray-200 dark:bg-brand-gray text-brand-light-text dark:text-gray-200",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:0.2s]"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse [animation-delay:0.4s]"})]})})}),g.jsx("div",{ref:h})]}),g.jsxs("div",{className:"p-4 border-t border-brand-light-border dark:border-brand-gray flex items-center justify-end space-x-3 text-sm",children:[g.jsx("label",{htmlFor:"thinking-mode",className:"text-gray-500 dark:text-gray-400",children:"Complex Query?"}),g.jsxs("div",{className:"flex items-center cursor-pointer",children:[g.jsx("span",{className:"mr-2 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Thinking Mode"}),g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:"thinking-mode",checked:d,onChange:()=>f(!d),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-gray-300 dark:bg-brand-gray peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-red"})]})]})]}),g.jsxs("div",{className:"p-4 border-t border-brand-light-border dark:border-brand-gray flex items-center space-x-2",children:[g.jsx("input",{type:"text",value:i,onChange:S=>o(S.target.value),onKeyPress:w,placeholder:"Ask your AI coach...",className:"flex-1 bg-brand-light-bg dark:bg-brand-ink border border-brand-light-border dark:border-brand-gray rounded-full px-4 py-2 text-brand-light-text dark:text-white focus:outline-none focus:ring-2 focus:ring-brand-blue",disabled:l}),g.jsx("button",{onClick:v,disabled:l,className:"bg-brand-blue text-white rounded-full p-2 hover:bg-blue-600 disabled:bg-brand-gray disabled:cursor-not-allowed",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}):null},Bre=()=>{const t=Array.from({length:150}).map((e,n)=>{const r={left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,animationDuration:`${3+Math.random()*2}s`,backgroundColor:["#E53E3E","#34D399","#2F81F7","#FBBF24","#A855F7","#EC4899"][Math.floor(Math.random()*6)],width:`${6+Math.random()*4}px`,height:`${12+Math.random()*8}px`};return g.jsx("div",{className:"confetti-piece",style:r},n)});return g.jsx("div",{className:"confetti","aria-hidden":"true",children:t})},qre=!1,zre=({message:t,onRetry:e})=>g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-light-bg dark:bg-brand-ink text-center p-4",children:g.jsxs("div",{className:"bg-brand-light-card dark:bg-brand-navy p-8 rounded-lg border border-brand-light-border dark:border-brand-gray max-w-lg",children:[g.jsx("h2",{className:"text-2xl font-bold text-brand-red mb-4",children:"Application Error"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:t}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-6",children:"This can happen if the app can't connect to the database or if there's a problem with your account credentials. Please check your internet connection and try again."}),g.jsx("button",{onClick:e,className:"bg-brand-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition",children:"Retry Connection"})]})}),$re=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(null),[i,o]=A.useState(!0),[l,u]=A.useState(null),[d,f]=A.useState("dark"),[h,m]=A.useState("day-view"),[v,w]=A.useState(new Date),[S,T]=A.useState({}),[E,k]=A.useState([]),[P,N]=A.useState([]),[I,R]=A.useState([]),[O,D]=A.useState([]),[q,$]=A.useState([]),[F,G]=A.useState(!1),[L,H]=A.useState(!1),[ce,he]=A.useState(""),[z,Z]=A.useState(null),[de,K]=A.useState(null);A.useEffect(()=>{const Ee=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");f(Ee)},[]),A.useEffect(()=>{document.documentElement.className=d,localStorage.setItem("theme",d)},[d]),A.useEffect(()=>{(async()=>{o(!0),u(null);try{const{data:{session:ge},error:Pe}=await At.auth.getSession();if(Pe)throw Pe;e(ge),ge||o(!1)}catch(ge){console.error("Error fetching initial session:",ge),u("Could not connect to authentication service."),o(!1)}})();const{data:Ee}=At.auth.onAuthStateChange((ge,Pe)=>{e(Pe),Pe||(r(null),T({}),N([]),k([]),R([]),D([]),$([]))});return()=>{Ee.subscription.unsubscribe()}},[]),A.useEffect(()=>{if(!t)return;(async()=>{o(!0),u(null);try{const{data:Ee,error:ge}=await At.from("users").select("*").eq("id",t.user.id).single();if(ge)throw ge;r(Ee);const Pe=Ee.role==="Manager"?null:Ee.id;let Ve=At.from("day_data").select("*"),St=At.from("hot_leads").select("*"),Hr=At.from("transactions").select("*"),Lt=At.from("clients").select("*"),va=At.from("quotes").select("*");Pe&&(Ve=Ve.eq("user_id",Pe),St=St.eq("user_id",Pe),Hr=Hr.eq("user_id",Pe),Lt=Lt.eq("user_id",Pe),va=va.eq("user_id",Pe));const[po,mo,Ii,Ks,go,Ys]=await Promise.all([Ve,St,Hr,Lt,va,At.from("users").select("*")]);for(const Ke of[po,mo,Ii,Ks,go,Ys])if(Ke.error)throw Ke.error;po.data&&T(po.data.reduce((Ke,Gr)=>({...Ke,[Gr.date]:{...Gr.data,userId:Gr.user_id}}),{})),mo.data&&N(mo.data.map(Ke=>({...Ke,id:String(Ke.id),interestLevel:Ke.interest_level,dateAdded:Ke.date_added,appointmentDate:Ke.appointment_date,completedFollowUps:Ke.completed_follow_ups,userId:Ke.user_id}))),Ii.data&&k(Ii.data.map(Ke=>({...Ke,id:String(Ke.id),clientName:Ke.client_name,isRecurring:Ke.is_recurring,userId:Ke.user_id}))),Ks.data&&R(Ks.data.map(Ke=>({...Ke,id:String(Ke.id),monthlyContractValue:Ke.monthly_contract_value,initialAmountCollected:Ke.initial_amount_collected,closeDate:Ke.close_date,salesProcessLength:Ke.sales_process_length,userId:Ke.user_id}))),go.data&&D(go.data.map(Ke=>({...Ke,id:String(Ke.id),savedAt:Ke.saved_at}))),Ys.data&&$(Ys.data)}catch(Ee){console.error("Error fetching application data:",Ee),u("Failed to load application data. This might be a temporary network issue.")}finally{o(!1)}})()},[t]),A.useEffect(()=>{if(L){const se=setTimeout(()=>{H(!1),he("")},5e3);return()=>clearTimeout(se)}},[L]);const ue=()=>At.auth.signOut(),j=async(se,Ee)=>{if(!n)return;const ge=Ee.userId||n.id,Pe={...Ee,userId:ge};T(Hr=>({...Hr,[se]:Pe}));const{userId:Ve,...St}=Pe;await At.from("day_data").upsert({user_id:ge,date:se,data:St},{onConflict:"user_id, date"})},Y=(se,Ee)=>{const ge=S[se]||_E(),Pe=[...ge.winsToday||[],Ee];j(se,{...ge,winsToday:Pe}),he(Ee),H(!0)},oe=async se=>{if(!n)return null;const Ee={user_id:n.id,name:se.name,company:se.company,date:se.date,phone:se.phone,email:se.email,interest_level:se.interestLevel,prospecting:se.prospecting,date_added:se.dateAdded,appointment_date:se.appointmentDate,completed_follow_ups:se.completedFollowUps},{data:ge,error:Pe}=await At.from("hot_leads").insert(Ee).select().single();if(Pe)return console.error("Error adding hot lead:",Pe),null;const Ve={...ge,id:String(ge.id),interestLevel:ge.interest_level,dateAdded:ge.date_added,appointmentDate:ge.appointment_date,completedFollowUps:ge.completed_follow_ups,userId:ge.user_id};return N(St=>[...St,Ve]),Ve},W=async se=>{N(Ee=>Ee.map(ge=>ge.id===se.id?se:ge)),n&&await At.from("hot_leads").update({name:se.name,company:se.company,date:se.date,phone:se.phone,email:se.email,interest_level:se.interestLevel,prospecting:se.prospecting,date_added:se.dateAdded,appointment_date:se.appointmentDate,completed_follow_ups:se.completedFollowUps}).eq("id",se.id)},fe=async se=>{N(Ee=>Ee.filter(ge=>ge.id!==se)),n&&await At.from("hot_leads").delete().eq("id",se)},pe=async se=>{if(!n)return;const Ee={name:se.name,company:se.company,phone:se.phone,email:se.email,address:se.address,sales_process_length:se.salesProcessLength,monthly_contract_value:se.monthlyContractValue,initial_amount_collected:se.initialAmountCollected,close_date:se.closeDate,stage:se.stage,user_id:se.userId};if(String(se.id).startsWith("manual-")){const{data:ge,error:Pe}=await At.from("clients").insert(Ee).select().single();ge?R(Ve=>[...Ve,{...ge,id:String(ge.id),monthlyContractValue:ge.monthly_contract_value,initialAmountCollected:ge.initial_amount_collected,closeDate:ge.close_date,salesProcessLength:ge.sales_process_length,userId:ge.user_id}]):console.error(Pe)}else{const{data:ge,error:Pe}=await At.from("clients").update(Ee).eq("id",se.id).select().single();ge?R(Ve=>Ve.map(St=>St.id===se.id?{...ge,id:String(ge.id),monthlyContractValue:ge.monthly_contract_value,initialAmountCollected:ge.initial_amount_collected,closeDate:ge.close_date,salesProcessLength:ge.sales_process_length,userId:ge.user_id}:St)):console.error(Pe)}},me=async se=>{if(!n)throw new Error("User not authenticated");const Ee={user_id:n.id,date:se.date,client_name:se.clientName,product:se.product,amount:se.amount,is_recurring:se.isRecurring};if(String(se.id).startsWith("new-")){const{data:ge,error:Pe}=await At.from("transactions").insert(Ee).select().single();if(Pe)throw console.error("Error saving new transaction:",Pe),Pe;ge&&k(Ve=>[...Ve,{...ge,id:String(ge.id),clientName:ge.client_name,isRecurring:ge.is_recurring,userId:ge.user_id}])}else{const{data:ge,error:Pe}=await At.from("transactions").update(Ee).eq("id",se.id).select().single();if(Pe)throw console.error("Error updating transaction:",Pe),Pe;ge&&k(Ve=>Ve.map(St=>St.id===se.id?{...ge,id:String(ge.id),clientName:ge.client_name,isRecurring:ge.is_recurring,userId:ge.user_id}:St))}},De=async se=>{k(Ee=>Ee.filter(ge=>ge.id!==se)),n&&await At.from("transactions").delete().eq("id",se)},te=async se=>{if(!n)return;const{data:Ee,error:ge}=await At.from("quotes").insert({...se,user_id:n.id}).select().single();Ee?D(Pe=>[{...Ee,id:String(Ee.id),savedAt:Ee.saved_at},...Pe]):console.error(ge)},we=async se=>{D(Ee=>Ee.filter(ge=>ge.id!==se)),n&&await At.from("quotes").delete().eq("id",se)},Ne=(se,Ee)=>{const ge=Ee.toISOString().split("T")[0],Pe=S[ge]||_E(),Ve={id:`appt-${Date.now()}`,time:se.time,type:"Appointment",title:`Appt: ${se.client}`,client:se.client,details:se.details||`From ${se.lead}`,conducted:!1},St=[...Pe.events||[],Ve].sort((Lt,va)=>Lt.time.localeCompare(va.time));j(ge,{...Pe,events:St});const Hr=new Date().toISOString().split("T")[0];Y(Hr,`Appointment Set: ${se.client}`),m("month-view"),w(Ee)},ie=async(se,Ee)=>{if(!n)return;const ge=new Date().toISOString().split("T")[0];await pe({id:`manual-${Date.now()}`,name:se.name,company:se.company||"",phone:se.phone,email:se.email,address:"",salesProcessLength:"",monthlyContractValue:0,initialAmountCollected:Ee,closeDate:ge,stage:"New",userId:n.id}),await me({id:"new-",date:ge,clientName:se.name,product:"Initial Service",amount:Ee,isRecurring:!1,userId:n.id}),await fe(String(se.id)),Y(ge,`New Client Won! ${se.name}`),m("new-clients")},Be=se=>{Z(se),m("performance-dashboard")},ve=se=>{const Ee=Pe=>Pe.toISOString().split("T")[0];let ge={viewMode:"analysis"};if(se==="today")ge={viewMode:"daily"};else{let Pe=new Date(v),Ve=new Date(v);switch(se){case"week":Pe.setDate(Pe.getDate()-v.getDay()),Ve=new Date(Pe),Ve.setDate(Ve.getDate()+6);break;case"month":case"mcv":case"acv":Pe=new Date(v.getFullYear(),v.getMonth(),1),Ve=new Date(v.getFullYear(),v.getMonth()+1,0);break;case"ytd":Pe=new Date(v.getFullYear(),0,1);break}ge.dateRange={start:Ee(Pe),end:Ee(Ve)}}K(ge),m("revenue")},Oe=()=>window.location.reload();if(i)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-light-bg dark:bg-brand-ink",children:g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-brand-red"})});if(l)return g.jsx(zre,{message:l,onRetry:Oe});if(!t||!n)return g.jsx(S4,{});const Fe=()=>{const se=Object.entries(S).reduce((Ee,[ge,Pe])=>{const Ve=Pe;if(Ve&&Ve.eodSubmitted&&Ve.userId){const St=Ve.userId;Ee[St]||(Ee[St]={}),Ee[St][ge]=!0}return Ee},{});switch(h){case"day-view":return g.jsx(NH,{user:n,onDataChange:j,allData:S,selectedDate:v,onDateChange:w,onAddWin:Y,onAddHotLead:oe,onUpdateHotLead:W,hotLeads:P,transactions:E,users:q,onNavigateToRevenue:ve});case"month-view":return g.jsx(QH,{allData:S,onDataChange:j,transactions:E,selectedDate:v,onDateChange:w,setView:m});case"prospecting":return g.jsx(PH,{allData:S,onDataChange:j,selectedDate:v,onDateChange:w,onAddHotLead:oe,onAddWin:Y,handleSetAppointment:Ne,hotLeads:P});case"hot-leads":return g.jsx(jH,{hotLeads:P,onAddHotLead:oe,onUpdateHotLead:W,onDeleteHotLead:fe,selectedDate:v,onDateChange:w,handleSetAppointment:Ne,onConvertToClient:ie});case"new-clients":return g.jsx(zH,{newClients:I,onSaveClient:pe,selectedDate:v,onDateChange:w,loggedInUser:n,users:q});case"revenue":return g.jsx(KH,{transactions:E,onSaveTransaction:me,onDeleteTransaction:De,selectedDate:v,onDateChange:w,initialState:de,onInitialStateConsumed:()=>K(null)});case"ai-images":return g.jsx(eG,{});case"ai-content":return g.jsx(aG,{});case"coaching":return g.jsx(dG,{savedQuotes:O,onSaveQuote:te,onRemoveQuote:we});case"team-control":return g.jsx(fG,{users:q,onViewUserTrends:Be});case"performance-dashboard":return g.jsx(Dre,{allData:S,transactions:E,users:q,contextualUserId:z,setContextualUserId:Z,eodSubmissions:se});case"eod-report":return g.jsx(jre,{allData:S,selectedDate:v,onDateChange:w,hotLeads:P,transactions:E,onSubmission:Ee=>Y(Ee,"EOD Report Submitted!"),userId:n.id,onDataChange:j});default:return g.jsx("div",{children:"View not found"})}};return g.jsxs("div",{className:"min-h-screen font-sans antialiased bg-brand-light-bg dark:bg-brand-ink transition-colors duration-300",children:[L&&g.jsx(Bre,{}),g.jsx(A4,{theme:d,setTheme:f,setView:m,currentView:h,userRole:n.role,onLogout:ue,userName:n.name,isDemoMode:qre}),g.jsx("main",{className:"max-w-screen-2xl mx-auto p-4 sm:p-6 lg:p-8",children:Fe()}),L&&g.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 bg-brand-lime text-brand-ink font-bold p-4 rounded-lg shadow-2xl z-50",children:[" ",ce," "]}),g.jsx(Lre,{onClick:()=>G(!0)}),g.jsx(Ure,{isOpen:F,onClose:()=>G(!1)})]})},_D=document.getElementById("root");if(!_D)throw new Error("Could not find root element to mount to");const Hre=Jj.createRoot(_D);Hre.render(Zl.createElement(Zl.StrictMode,null,Zl.createElement($re)));
